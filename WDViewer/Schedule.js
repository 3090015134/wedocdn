!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return(()=>{var e,t,n,r={7381:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,"#schedule .wedofont {\n  font-size: 26px !important;\n}\n#schedulePanel #schedule-contents {\n  padding: 10px;\n}\n#schedulePanel #schedule-contents .schedule-spinner {\n  text-align: center;\n  background: rgba(0, 0, 0, 0.8);\n  height: 100%;\n  position: absolute;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 12;\n}\n#schedulePanel #schedule-contents .schedule-spinner .ant-spin-spinning {\n  margin-top: 50% !important;\n}\n#schedulePanel #schedule-contents .playContol {\n  position: relative;\n  height: 28px;\n}\n#schedulePanel #schedule-contents .playContol .text1 {\n  line-height: 28px;\n  height: 28px;\n  position: relative;\n  padding: 0px;\n  display: inline;\n}\n#schedulePanel #schedule-contents .playContol .text2 {\n  line-height: 28px;\n  position: relative;\n  display: inline;\n  float: right;\n  cursor: pointer;\n}\n#schedulePanel #schedule-contents .ant-progress .ant-progress-text {\n  color: #fff;\n}\n#schedulePanel #schedule-contents .slider {\n  margin-top: 10px;\n}\n#schedulePanel #schedule-contents .slider .ant-slider {\n  margin: 14px 0px 10px !important;\n}\n#schedulePanel #schedule-contents .slider .ant-slider .ant-slider-track {\n  background-color: #f5f5f5 !important;\n}\n#schedulePanel #schedule-contents .schedule-settings .ant-collapse {\n  background-color: rgba(34, 34, 34, 0.5);\n  border: none !important;\n}\n#schedulePanel #schedule-contents .schedule-settings .ant-collapse .ant-collapse-item {\n  border: none !important;\n}\n#schedulePanel #schedule-contents .schedule-settings .ant-collapse .ant-collapse-item .ant-collapse-header {\n  color: #fff !important;\n}\n",""]),e.exports=t},5808:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VESchedule:()=>r});var r={};n.r(r),n.d(r,{ViewingExtensionSchedule:()=>u});var i=n(30808),o=n(94069),s=n(45301),a=n(79331),l=n(417),d=n(61446),c=n(74324);n(60573);class u extends i.Z{constructor(e,t={}){super(e,t),this.viewer=e,this.models=e.impl.modelQueue().getModels(),this.clientId=e.config.wedoConfig.clientId,this.options=t,this.models=e.impl.modelQueue().getModels(),this.toolBarId="wdkitsTools-1",this.btnId="schedule",this.className="wedo-schedule-btn",this.iconName="wedofont wedo-time-schedule",this.name="进度模拟",this.disabledTxt="模型加载中……",this.tooiTip="进度模拟",this.mount=n(30381),this.settings={playSpeed:1,dateFormate:"-",startFiledName:"计划开始时间",endFiledName:"计划完成时间"},this.curIsolate=[],this.curSelect=[],this.curCancelSelect=[],this.isFirst=!0,this.temp={iso:[],sel:[],cancleSel:[]}}static get ExtensionId(){return"VE.Schedule"}load(){return o.Z.checkModels(this.viewer,this.models)?(this.btnClickEvts=[{key:u.ExtensionId,fun:this.buttonBindEvents.bind(this)}],!0):((0,s.y)("进度管理拓展 暂时只支持Revit 3D模型！"),!1)}unload(){if(super.unload(),this.buttons){let e=this.viewer.getToolbar();this.buttons.forEach((t=>{e&&t.removeFromParent(),t=null}))}return this.scheduleApp=null,document.getElementById("schedule-contents")&&(document.getElementById("schedule-contents").innerHTML=""),!0}onToolbarCreated(){this.viewer.impl.is2d?this.unload():this.createButton()}createButton(){let e=this;const{buttons:t}=o.Z.createToolBarAndButtons(e.viewer,e.toolBarId,[{id:e.btnId,className:e.className,iconName:e.iconName,name:e.name}],((e,t)=>this.buttonBindEvents()));e.buttons=t;var n=e.viewer.toolbar.getControl(e.toolBarId),r=e.disabledTxt;n&&n._controls.forEach((function(t){t._id===e.btnId&&(t.container.classList.add("not-ready"),t.setToolTip(r))})),e.checkGeometryLoaded.call(e,e.initializeExtension.bind(e))}initializeExtension(){let e=this;e.buttons.forEach((t=>{t.container.classList.remove("not-ready"),t.setToolTip(e.tooiTip)}))}buttonBindEvents(){let e=this.buttons;e.forEach(((t,n)=>{this.button=t,t._id!==this.btnId||this.button.container.classList.contains("not-ready")||(this.active?(this.active=!1,this.simplePanel.setVisible(!1),t.removeClass("active")):(this.active=!0,t.addClass("active"),!this.simplePanel&&this.createPannel(e),this.simplePanel.setVisible(!0),this.createContents()))}))}checkGeometryLoaded(e){var t=this,n=t.viewer,r=function(){if(n.model){var i=[];t.models.forEach(((e,t)=>{e.isLoadDone()&&i.push(!0)})),i.length===t.models.length&&(n.removeEventListener(Autodesk.Viewing.MODEL_UNLOADED_EVENT,r),e())}};n.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT,r)}createPannel(e){const t=this.viewer.container;var n=document.createElement("div");n.setAttribute("id","schedule-contents");const r=this.contentBox=n,i=this.simplePanel=new o.m(this.viewer,t,"schedulePanel","进度模拟",r,"0","0",null);i.closer.addEventListener("click",(()=>{this.active=!1,e.forEach((e=>{e.removeClass("active")}))}),!1),i.resizeToContent(),i.addVisibilityListener((e=>{e&&this.models.length!==this.viewer.impl.modelQueue().getModels().length?this.update():e?this.pause=!1:(this.resetVar(),this.viewer.select([]),this.setProgress(0),this.viewer.showAll())}))}update(){console.log("begin update datas!"),this.models=this.viewer.impl.modelQueue().getModels()}createContents(){if(!this.scheduleApp){const t=(e=this,n(60573),{components:{},setup(){const e=(0,a.iH)(0),t=(0,a.iH)(50),n=(0,a.iH)(1),r=(0,a.iH)(!1),i=(0,a.iH)(!1),o=(0,a.qj)({dateFormate:"-",startFiledName:"",endFiledName:"",playSpeed:1}),s=(0,a.qj)({display:"block",height:"30px",lineHeight:"30px"}),l=(0,a.iH)(!1),d=(0,a.iH)(!0),u=(0,a.iH)(["1"]),p=e=>{var t=0;switch(e){case 0:t=-2;break;case 25:t=-1.5;break;case 50:t=1;break;case 75:t=1.5;break;case 100:t=2}return t},h=(0,a.h)(c.Z,{style:{fontSize:"24px"},spin:!0});return{percent:e,playState:l,loading:i,formatter:e=>{var t=p(e);return o.playSpeed=t,t},sliderVal:t,activeKey:u,radioValue:n,radioStyle:s,renderChecked:d,visible:r,settingDatas:o,indicator:h,computeSpeed:p}},template:'\n<div class="schedule-spinner" v-show="loading"><a-spin :indicator="indicator"/></div>\n<div class="playContol">\n    <span class="text1">播放进度：</span>\n    <a-tooltip title="播放">\n        <span @click="changePlayState(true)" v-show="!playState" class="text2 wedofont wedo-caret-right"></span>\n    </a-tooltip>\n    <a-tooltip title="暂停">\n        <span @click="changePlayState(false)" v-show="playState" class="text2 wedofont wedo-zanting"></span>\n    </a-tooltip>\n</div>\n<a-progress :percent="percent" :status="percent===100?\'success\':\'active\'"/>\n<div class="slider">\n    <span class="text1">播放速度：(x {{settingDatas.playSpeed}})</span>\n    <a-slider v-model:value="sliderVal" :tip-formatter="formatter" :step=25 @change="sliderChange"/>\n</div>\n<div class="schedule-settings">\n    <a-collapse v-model:activeKey="activeKey">\n        <a-collapse-panel key="1" header="设置">\n            <div class="schedule-data-source">\n                <span style="width: 76px;display: inline-block;position: relative;bottom: 30px;">数据来源:</span>\n                <span style="margin-left: 10px;">\n                    <a-radio-group v-model:value="radioValue" @change="radioChange">\n                        <a-radio :style="radioStyle" :value="1">\n                            模型构件信息\n                            <span v-if="radioValue === 1" class="wedofont wedo-setting" @click="settingFormModel"></span>\n                        </a-radio>\n                        \n                        <a-tooltip title="本部分如有需要，可进行定制化开发！" placement="right">\n                            <a-radio :style="radioStyle" :value="2" disabled>\n                                进度计划表\n                                <span v-if="radioValue === 2" class="wedofont wedo-setting" @click="settingFormProject"></span>\n                            </a-radio>\n                        </a-tooltip>\n                    </a-radio-group>\n                </span>\n            </div>\n            <div class="schedule-render-setting">\n                <span style="width: 76px;position: relative;display: inline-block;">渐进式渲染:</span>\n                <span style="margin-left: 10px;">\n                    <a-switch checked-children="开" un-checked-children="关" v-model:checked="renderChecked" @change="setProgressiveRendering"/>\n                </span>\n            </div>\n        </a-collapse-panel>\n    </a-collapse>\n</div>\n<a-modal class="wedo-schedule-modal" v-model:visible="visible" title="数据源设置" @ok="handleOk">\n      <div>\n        日期格式：\n        <a-select v-model:value="settingDatas.dateFormate" style="width: 100%">\n            <a-select-option value="-">xxxx-xx-xx</a-select-option>\n            <a-select-option value="/">xxxx/xx/xx</a-select-option>\n            <a-select-option value=".">xxxx.xx.xx</a-select-option>\n        </a-select>\n      </div>\n      <div style="margin-top:5px">\n        开始字段名：<a-input v-model:value="settingDatas.startFiledName" placeholder="输入您模型中计划开始时间的字段名，默认为：计划开始时间" />\n      </div>\n      <div style="margin-top:5px">\n        结束字段名：<a-input v-model:value="settingDatas.endFiledName" placeholder="输入您模型中计划完成时间的字段名，默认为：计划完成时间" />\n      </div>\n</a-modal>\n',mounted(){var t=this;this.$nextTick((function(){e.message=d.Z,e.on("wedo-schedule-set-progress",(e=>{t.percent=e})),e.on("wedo-schedule-data-readyed",(()=>{this.loading=!1})),e.on("wedo-schedule-change-play-state",(e=>{this.changePlayState(e)}))}))},methods:{changePlayState(t){this.playState=t,t&&(this.loading=!0),e.emit("wedo-schedule-play",t)},settingFormModel(){this.visible=!0},handleOk(){this.visible=!1,console.log((0,a.IU)(this.settingDatas)),this.settingDatas.startFiledName||(this.settingDatas.startFiledName="计划开始时间"),this.settingDatas.endFiledName||(this.settingDatas.endFiledName="计划完成时间"),e.settings=this.settingDatas},sliderChange(t){var n=this.computeSpeed(t);e.setSpeed(n)},settingFormProject(){d.Z.info("本部分如有需要，可进行定制化开发！",6)},radioChange(){2===this.radioValue&&(d.Z.info("本部分如有需要，可进行定制化开发！",6),this.radioValue=1)},setProgressiveRendering(t,n){e.viewer.setProgressiveRendering(t)}}}),r=this.scheduleApp=(0,a.ri)(t);r.config.productionTip=!1,r.use(l.ZP),r.mount("#schedule-contents")}var e;this.on("wedo-schedule-play",(e=>{e?(console.log("播放动画"),this.pause=!1,this.getObj()):(this.pause=!0,console.log("暂停动画"))}),{allowDuplicateKey:!1})}setSpeed(e){this.settings.playSpeed=e}setProgress(e){this.emit("wedo-schedule-set-progress",e)}addOneDay(e){return e=(e=new Date(e)).setDate(e.getDate()+1),this.mount(e).format("YYYY-MM-DD")}oneDayOff(e){return e=(e=new Date(e)).setDate(e.getDate()-1),this.mount(e).format("YYYY-MM-DD")}compareDate(e,t){var n=new Date(e),r=new Date(t);return!(n.getTime()>r.getTime())}resetVar(){this.pause=!0,this.isFirst=!0,this.emit("wedo-schedule-change-play-state",!1),this.curIsolate=[],this.curSelect=[],this.curCancelSelect=[],this.temp={iso:[],sel:[],cancleSel:[]},this.viewer.select([]),this.viewer.setGhosting(!0),clearTimeout(this.timer),this.timer=null,this.currentTime=null}start(e){if("{}"===JSON.stringify(e.startObjs)||"{}"===JSON.stringify(e.endObjs))return this.message.info(`没有从模型中查找到 开始时间字段为：${this.settings.startFiledName} 和 完成时间字段为：${this.settings.endFiledName} 的数据`),this.emit("wedo-schedule-data-readyed"),void this.emit("wedo-schedule-change-play-state",!1);var t,n=this,r=n.currentTime=n.isFirst?e.minTime:n.currentTime,i=new Date(e.maxTime).getDate()-new Date(e.minTime).getDate()+1;t=function*(){var t=n.isFirst?new Date(e.minTime):new Date(n.currentTime),i=new Date(e.maxTime).getDate()-t.getDate()+1;for(let t=0;t<i;t++){var o=e.startObjs[n.currentTime||r];o&&o.forEach((e=>{var t=n.models.filter((t=>t.id===e.modelId))[0],r=e.selection;n.temp.iso.includes(e.modelId)?(n.curIsolate[n.temp.iso.indexOf(e.modelId)].ids.push(...r),n.curSelect[n.temp.sel.indexOf(e.modelId)].ids.push(...r)):(n.temp.iso.push(e.modelId),n.temp.sel.push(e.modelId),n.curIsolate.push({model:t,ids:r}),n.curSelect.push({model:t,ids:r}))}));var s=n.oneDayOff(n.currentTime||r),a=e.endObjs[s];a&&a.forEach((e=>{var t=n.models.filter((t=>t.id===e.modelId))[0],r=e.selection;n.temp.cancleSel.includes(e.modelId)?n.curCancelSelect[n.temp.cancleSel.indexOf(e.modelId)].ids.push(...r):(n.temp.cancleSel.push(e.modelId),n.curCancelSelect.push({model:t,ids:r}))})),n.curIsolate.forEach((e=>{e.ids=Array.from(new Set(e.ids))})),n.curSelect.forEach((e=>{e.ids=Array.from(new Set(e.ids))})),n.curCancelSelect.forEach((e=>{e.ids=Array.from(new Set(e.ids))})),yield n.promiseIsolate(n.curIsolate,n.curSelect,n.curCancelSelect)}}(),function r(){var o=t.next();if(o.done)return n.resetVar(),void n.setProgress(100);var s=n.computeSpeedScan(n.settings.playSpeed);o.value.then((()=>{n.pause||(n.timer=setTimeout((()=>{var t=new Date(n.currentTime).getDate()-new Date(e.minTime).getDate()+1,o=Math.round(t/i*100)>=100?99:Math.round(t/i*100);n.setProgress(o),r()}),1e3*s)),n.isFirst=!1}))}(),n.emit("wedo-schedule-data-readyed")}computeSpeedScan(e){var t=1;switch(e){case-2:t=2;break;case-1:t=1.5;break;case 1:t=1;break;case 1.5:t=.5;break;case 2:t=.25}return t}promiseIsolate(e,t,n){var r=this.viewer,i=this;return new Promise((o=>{r.setGhosting(!1),r.addEventListener(Autodesk.Viewing.AGGREGATE_ISOLATION_CHANGED_EVENT,(function e(){r.removeEventListener(Autodesk.Viewing.AGGREGATE_ISOLATION_CHANGED_EVENT,e),i.currentTime=i.addOneDay(i.currentTime),r.select([]),t.forEach((e=>{var t=e.model;e.ids.forEach((e=>{r.toggleSelect(e,t,Autodesk.Viewing.SelectionType.OVERLAYED)}))})),n.forEach((e=>{var t=e.model;e.ids.forEach((e=>{r.toggleSelect(e,t,Autodesk.Viewing.SelectionType.OVERLAYED)}))})),o()})),r.impl.visibilityManager.aggregateIsolate(e)}))}fileterObj(){return new Promise(((e,t)=>{var n=0,r=this.models.length,i=[];this.models.forEach((o=>{var s=o.getInstanceTree().nodeAccess.dbIdToIndex,a=[];for(const e in s)Object.hasOwnProperty.call(s,e)&&a.push(s[e]);o.getBulkProperties(a,{propFilter:[this.settings.startFiledName,this.settings.endFiledName]},(t=>{if(n++,i.push({model:o,result:t}),n===r)return e(i),i}),(e=>{console.error(e),t(e)}))}))}))}async getObj(){if(this.isFirst){if("undefined"==typeof Worker)return alert("您的浏览器不支持Worker"),void console.error("您的浏览器不支持Worker");var e=[];await this.fileterObj().then((t=>{t.forEach((t=>{e.push({mid:t.model.id,result:t.result})}))}));var t="function "+this.computeObj.toString();let n=new Worker(function(){var e,t='function executeCusFunction(code) {\n        if (typeof code === "function") {\n            code = code.toString();\n        } else if (typeof code !== "string") {\n            console.error("Expected Function or string.");\n            return;\n        }\n\n        var blob;\n        try {\n            blob = new Blob([code], { type: "application/javascript" });\n        } catch (e) {\n            // Backward compatibility.\n            var builder = new window.BlobBuilder();\n            builder.append(code);\n            blob = builder.getBlob();\n        }\n        var blobUrl = URL.createObjectURL(blob);\n        return blobUrl;\n    }\n\n    self.onmessage = ({ data }) => {\n        if (!data.code) {\n            console.error("没有传入code参数值");\n            return;\n        }\n        if (!data.userFunctionName) {\n            console.error("没有传入userFunctionName参数值");\n            return;\n        }\n        self.importScripts(executeCusFunction(data.code));\n        // 运行业务逻辑\n        var res = self[data["userFunctionName"]](data.userData);\n\n        // 给主线程发回结果信息\n        self.postMessage(res);\n        // 关闭子线程\n        self.close();\n        // 关闭主线程\n        // worker.terminate();\n    };';try{e=new Blob([t],{type:"application/javascript"})}catch(r){var n=new window.BlobBuilder;n.append(t),e=n.getBlob()}return URL.createObjectURL(e)}(),{name:"ScheduleWorker"});n.postMessage({code:t,userData:e,userFunctionName:"computeObj"}),n.addEventListener("message",(({data:e})=>{this.data=e,this.start(this.data),n.terminate()}),!1)}else this.start(this.data)}computeObj(e){function t(e,t){var n=new Date(e),r=new Date(t);return!(n.getTime()>r.getTime())}function n(e){var t=new Date(e),n=""+(t.getMonth()+1),r=""+t.getDate(),i=t.getFullYear();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[i,n,r].join("-")}var r,i,o={},s={};return e.forEach((e=>{var a=e.mid;e.result.forEach((e=>{if(e.properties&&2===e.properties.length){var l=e.properties;if(l[0].displayValue&&l[1].displayValue){var d=n(l[0].displayValue),c=n(l[1].displayValue);if(i=n(i&&t(i,l[0].displayValue)?i:l[0].displayValue),r=n(r&&t(l[1].displayValue,r)?r:l[1].displayValue),Object.hasOwnProperty.call(o,d)){var u=-1;o[d].forEach(((e,t)=>{e.modelId===a&&(u=t)})),-1!==u?o[d][u].selection.push(e.dbId):o[d].push({modelId:a,selection:[e.dbId]})}else o[d]=[{modelId:a,selection:[e.dbId]}];Object.hasOwnProperty.call(s,c)?(u=-1,s[c].forEach(((e,t)=>{e.modelId===a&&(u=t)})),-1!==u?s[c][u].selection.push(e.dbId):s[c].push({modelId:a,selection:[e.dbId]})):s[c]=[{modelId:a,selection:[e.dbId]}]}}}))})),{startObjs:o,endObjs:s,minTime:i,maxTime:r}}}Autodesk.Viewing.theExtensionManager.registerExtension(u.ExtensionId,u)},60573:(e,t,n)=>{var r=n(93379),i=n(7381);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(7381,(function(){"string"==typeof(i=(i=n(7381)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}}},i={};function o(e){var t=i[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var n=i[e]={id:e,loaded:!1,exports:{}};try{var s={id:e,module:n,factory:r[e],require:o};o.i.forEach((function(e){e(s)})),n=s.module,s.factory.call(n.exports,n,n.exports,s.require)}catch(e){throw n.error=e,e}return n.loaded=!0,n.exports}o.m=r,o.c=i,o.i=[],e=[],o.O=(t,n,r,i)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,r,i]=e[d],a=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(a=!1,i<s&&(s=i));a&&(e.splice(d--,1),t=r())}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.hu=e=>e+"."+o.h()+".hot-update.js",o.hmrF=()=>"Schedule."+o.h()+".hot-update.json",o.h=()=>"7152d5a9c66f2a2ebb99",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="wd-viewer:",o.l=(e,r,i,s)=>{if(t[e])t[e].push(r);else{var a,l;if(void 0!==i)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+i){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",n+i),a.src=e),t[e]=[r];var p=(n,r)=>{a.onerror=a.onload=null,clearTimeout(h);var i=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),n)return n(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.j=145,(()=>{var e,t,n,r,i={},s=o.c,a=[],l=[],d="idle";function c(e){d=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}function u(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return u(e)}))}function p(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return c("check"),o.hmrM().then((function(r){if(!r)return c(m()?"ready":"idle"),null;c("prepare");var i=[];return t=[],n=[],Promise.all(Object.keys(o.hmrC).reduce((function(e,t){return o.hmrC[t](r.c,r.r,r.m,e,n,i),e}),[])).then((function(){return u((function(){return e?f(e):(c("ready"),i)}))}))}))}function h(e){return"ready"!==d?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):f(e)}function f(e){e=e||{},m();var t=n.map((function(t){return t(e)}));n=void 0;var i,o=t.map((function(e){return e.error})).filter(Boolean);if(o.length>0)return c("abort"),Promise.resolve().then((function(){throw o[0]}));c("dispose"),t.forEach((function(e){e.dispose&&e.dispose()})),c("apply");var s=function(e){i||(i=e)},a=[];return t.forEach((function(e){if(e.apply){var t=e.apply(s);if(t)for(var n=0;n<t.length;n++)a.push(t[n])}})),i?(c("fail"),Promise.resolve().then((function(){throw i}))):r?f(e).then((function(e){return a.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):(c("idle"),Promise.resolve(a))}function m(){if(r)return n||(n=[]),Object.keys(o.hmrI).forEach((function(e){r.forEach((function(t){o.hmrI[e](t,n)}))})),r=void 0,!0}o.hmrD=i,o.i.push((function(f){var m,v,g,y,b=f.module,w=function(n,r){var i=s[r];if(!i)return n;var o=function(t){if(i.hot.active){if(s[t]){var o=s[t].parents;-1===o.indexOf(r)&&o.push(r)}else a=[r],e=t;-1===i.children.indexOf(t)&&i.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+r),a=[];return n(t)},l=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&"e"!==p&&Object.defineProperty(o,p,l(p));return o.e=function(e){return function(e){switch(d){case"ready":return c("prepare"),t.push(e),u((function(){c("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},o}(f.require,f.id);b.hot=(m=f.id,v=b,y={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:g=e!==m,_requireSelf:function(){a=v.parents.slice(),e=g?void 0:m,o(m)},active:!0,accept:function(e,t,n){if(void 0===e)y._selfAccepted=!0;else if("function"==typeof e)y._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var r=0;r<e.length;r++)y._acceptedDependencies[e[r]]=t||function(){},y._acceptedErrorHandlers[e[r]]=n;else y._acceptedDependencies[e]=t||function(){},y._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)y._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)y._declinedDependencies[e[t]]=!0;else y._declinedDependencies[e]=!0},dispose:function(e){y._disposeHandlers.push(e)},addDisposeHandler:function(e){y._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=y._disposeHandlers.indexOf(e);t>=0&&y._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,d){case"idle":n=[],Object.keys(o.hmrI).forEach((function(e){o.hmrI[e](m,n)})),c("ready");break;case"ready":Object.keys(o.hmrI).forEach((function(e){o.hmrI[e](m,n)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(m)}},check:p,apply:h,status:function(e){if(!e)return d;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[m]},e=void 0,y),b.parents=a,b.children=[],a=[],f.require=w})),o.hmrC={},o.hmrI={}})(),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e,t,n,r,i={145:0},s={};function a(e){return new Promise(((t,n)=>{s[e]=t;var r=o.p+o.hu(e),i=new Error;o.l(r,(t=>{if(s[e]){s[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;i.message="Loading hot update chunk "+e+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,n(i)}}))}))}function l(s){function a(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var i=r.pop(),s=i.id,a=i.chain,d=o.c[s];if(d&&(!d.hot._selfAccepted||d.hot._selfInvalidated)){if(d.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:s};if(d.hot._main)return{type:"unaccepted",chain:a,moduleId:s};for(var c=0;c<d.parents.length;c++){var u=d.parents[c],p=o.c[u];if(p){if(p.hot._declinedDependencies[s])return{type:"declined",chain:a.concat([u]),moduleId:s,parentId:u};-1===t.indexOf(u)&&(p.hot._acceptedDependencies[s]?(n[u]||(n[u]=[]),l(n[u],[s])):(delete n[u],t.push(u),r.push({chain:a.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}o.f&&delete o.f.jsonpHmr,e=void 0;var d={},c=[],u={},p=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var h in t)if(o.o(t,h)){var f,m=t[h],v=!1,g=!1,y=!1,b="";switch((f=m?a(h):{type:"disposed",moduleId:h}).chain&&(b="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":s.onDeclined&&s.onDeclined(f),s.ignoreDeclined||(v=new Error("Aborted because of self decline: "+f.moduleId+b));break;case"declined":s.onDeclined&&s.onDeclined(f),s.ignoreDeclined||(v=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+b));break;case"unaccepted":s.onUnaccepted&&s.onUnaccepted(f),s.ignoreUnaccepted||(v=new Error("Aborted because "+h+" is not accepted"+b));break;case"accepted":s.onAccepted&&s.onAccepted(f),g=!0;break;case"disposed":s.onDisposed&&s.onDisposed(f),y=!0;break;default:throw new Error("Unexception type "+f.type)}if(v)return{error:v};if(g)for(h in u[h]=m,l(c,f.outdatedModules),f.outdatedDependencies)o.o(f.outdatedDependencies,h)&&(d[h]||(d[h]=[]),l(d[h],f.outdatedDependencies[h]));y&&(l(c,[f.moduleId]),u[h]=p)}t=void 0;for(var w,E=[],x=0;x<c.length;x++){var D=c[x],I=o.c[D];I&&(I.hot._selfAccepted||I.hot._main)&&u[D]!==p&&!I.hot._selfInvalidated&&E.push({module:D,require:I.hot._requireSelf,errorHandler:I.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete i[e]})),n=void 0;for(var t,r=c.slice();r.length>0;){var s=r.pop(),a=o.c[s];if(a){var l={},u=a.hot._disposeHandlers;for(x=0;x<u.length;x++)u[x].call(null,l);for(o.hmrD[s]=l,a.hot.active=!1,delete o.c[s],delete d[s],x=0;x<a.children.length;x++){var p=o.c[a.children[x]];p&&(e=p.parents.indexOf(s))>=0&&p.parents.splice(e,1)}}}for(var h in d)if(o.o(d,h)&&(a=o.c[h]))for(w=d[h],x=0;x<w.length;x++)t=w[x],(e=a.children.indexOf(t))>=0&&a.children.splice(e,1)},apply:function(e){for(var t in u)o.o(u,t)&&(o.m[t]=u[t]);for(var n=0;n<r.length;n++)r[n](o);for(var i in d)if(o.o(d,i)){var a=o.c[i];if(a){w=d[i];for(var l=[],p=[],h=[],f=0;f<w.length;f++){var m=w[f],v=a.hot._acceptedDependencies[m],g=a.hot._acceptedErrorHandlers[m];if(v){if(-1!==l.indexOf(v))continue;l.push(v),p.push(g),h.push(m)}}for(var y=0;y<l.length;y++)try{l[y].call(null,w)}catch(t){if("function"==typeof p[y])try{p[y](t,{moduleId:i,dependencyId:h[y]})}catch(n){s.onErrored&&s.onErrored({type:"accept-error-handler-errored",moduleId:i,dependencyId:h[y],error:n,originalError:t}),s.ignoreErrored||(e(n),e(t))}else s.onErrored&&s.onErrored({type:"accept-errored",moduleId:i,dependencyId:h[y],error:t}),s.ignoreErrored||e(t)}}}for(var b=0;b<E.length;b++){var x=E[b],D=x.module;try{x.require(D)}catch(t){if("function"==typeof x.errorHandler)try{x.errorHandler(t,{moduleId:D,module:o.c[D]})}catch(n){s.onErrored&&s.onErrored({type:"self-accept-error-handler-errored",moduleId:D,error:n,originalError:t}),s.ignoreErrored||(e(n),e(t))}else s.onErrored&&s.onErrored({type:"self-accept-errored",moduleId:D,error:t}),s.ignoreErrored||e(t)}}return c}}}self.webpackHotUpdatewd_viewer=(e,n,i)=>{for(var a in n)o.o(n,a)&&(t[a]=n[a]);i&&r.push(i),s[e]&&(s[e](),s[e]=void 0)},o.hmrI.jsonp=function(e,i){t||(t={},r=[],n=[],i.push(l)),o.o(t,e)||(t[e]=o.m[e])},o.hmrC.jsonp=function(s,d,c,u,p,h){p.push(l),e={},n=d,t=c.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],s.forEach((function(t){o.o(i,t)&&void 0!==i[t]&&(u.push(a(t)),e[t]=!0)})),o.f&&(o.f.jsonpHmr=function(t,n){e&&!o.o(e,t)&&o.o(i,t)&&void 0!==i[t]&&(n.push(a(t)),e[t]=!0)})},o.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(o.p+o.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))},o.O.j=e=>0===i[e];var d=(e,t)=>{var n,r,[s,a,l]=t,d=0;for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(l)var c=l(o);for(e&&e(t);d<s.length;d++)r=s[d],o.o(i,r)&&i[r]&&i[r][0](),i[s[d]]=0;return o.O(c)},c=self.webpackChunkwd_viewer=self.webpackChunkwd_viewer||[];c.forEach(d.bind(null,0)),c.push=d.bind(null,c.push.bind(c))})();var s=o.O(void 0,[839],(()=>o(5808)));return o.O(s)})()}));