!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t=n();for(var i in t)("object"==typeof exports?exports:e)[i]=t[i]}}(self,(function(){return(()=>{var e,n,t,i={90242:(e,n,t)=>{(n=t(23645)(!1)).push([e.id,".loader {\n  width: 24px;\n  height: 24px;\n  margin: 0 auto;\n}\n.loader svg:not(:root) {\n  overflow: hidden;\n}\n.loader .circular {\n  -webkit-animation: rotate 2s linear infinite;\n  animation: rotate 2s linear infinite;\n  height: 100%;\n  -webkit-transform-origin: center center;\n  -ms-transform-origin: center center;\n  transform-origin: center center;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n}\n.loader .path {\n  stroke-dasharray: 1, 200;\n  stroke-dashoffset: 0;\n  -webkit-animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;\n  animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;\n  stroke-linecap: round;\n}\n@-webkit-keyframes dash {\n  0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -124;\n  }\n}\n@keyframes dash {\n  0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -124;\n  }\n}\n@-webkit-keyframes color {\n  100%,\n  0% {\n    stroke: #ffffff;\n  }\n  40% {\n    stroke: #ffffff;\n  }\n  66% {\n    stroke: #ffffff;\n  }\n  80%,\n  90% {\n    stroke: #ffffff;\n  }\n}\n@keyframes color {\n  100%,\n  0% {\n    stroke: #ffffff;\n  }\n  40% {\n    stroke: #ffffff;\n  }\n  66% {\n    stroke: #ffffff;\n  }\n  80%,\n  90% {\n    stroke: #ffffff;\n  }\n}\n",""]),e.exports=n},3509:(e,n,t)=>{(n=t(23645)(!1)).push([e.id,'.container {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  inset: 0px;\n  background-color: #f5f5f5;\n  z-index: 2;\n}\n.container .viewer-header {\n  flex: 0 0 auto;\n  height: 48px;\n  padding: 0px 10px;\n  display: flex;\n  flex-direction: row;\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: #ffffff;\n  color: #fe7300;\n  box-shadow: rgba(128, 128, 128, 0.1) 0px 1px 1px 0px;\n  margin-bottom: 1px;\n}\n.container .viewer-header .file-list {\n  display: flex;\n  flex: 1 1 auto;\n  -webkit-box-align: center;\n  align-items: center;\n  width: calc(100% - 20px);\n  margin-right: 10px;\n}\n.container .viewer-header .file-list .ant-dropdown-link:hover {\n  color: #fe7300 !important;\n}\n.container .viewer-header .file-list .fun1 {\n  margin: 0px 10px;\n}\n.container .viewer-header .file-list .fun1 .wedofont {\n  cursor: pointer;\n  font-size: 20px !important;\n  color: #464c5b !important;\n}\n.container .viewer-header .file-list .fun1 .wedofont:hover {\n  color: #fe7300 !important;\n}\n.container .viewer-header .file-list .fun1 .ant-dropdown-trigger {\n  cursor: pointer;\n  color: #464c5b !important;\n}\n.container .viewer-header .file-list .fun1 .ant-dropdown-trigger:hover {\n  color: #fe7300 !important;\n}\n.container .viewer-header .viewer-header-btn .btn {\n  transition: box-shadow 200ms cubic-bezier(0.2, 0, 0.2, 1) 0ms, border-color 200ms cubic-bezier(0.2, 0, 0.2, 1) 0ms;\n  border: 1px solid transparent;\n  color: #3c3c3c;\n  font-family: "Artifakt Element", sans-serif;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  height: 36px;\n  padding: 0px 5px;\n  display: inline-flex;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  justify-content: center;\n  background: none;\n  border-radius: 2px;\n  outline: none;\n  cursor: pointer;\n  text-decoration: none;\n}\n.container .viewer-header .viewer-header-btn .btn:hover {\n  color: #fe7300;\n}\n.container .viewer-congtainer {\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n}\n.container .viewer-congtainer .container-left-nav {\n  height: 100%;\n  width: 44px;\n  background-color: #ffffff;\n  border-right: 1px solid rgba(128, 128, 128, 0.1);\n  box-shadow: rgba(128, 128, 128, 0.1) 0px 1px 0px 0px;\n  z-index: 3;\n  flex-shrink: 0;\n  clip-path: inset(0px -8px);\n  overflow: hidden;\n  overflow-y: auto;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn {\n  height: calc(100vh - 50px);\n  overflow: hidden;\n  overflow-y: auto;\n  /*定义滚动条轨道 内阴影+圆角*/\n  /*定义滑块 内阴影+圆角*/\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn .font-div {\n  margin: 0px 10px;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn .font-div:focus {\n  outline: none !important;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn .wedofont {\n  font-size: 24px !important;\n  color: #464c5b;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn .wedofont:hover {\n  color: #fe7300;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn .wedo-floor-manager {\n  font-size: 25px !important;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn .wedo-fenjie {\n  font-size: 23px !important;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn .wedo-model-annotation {\n  font-size: 26px !important;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn::-webkit-scrollbar {\n  width: 5px;\n  height: 5px;\n  border-radius: 5px;\n  background-color: #ededed;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\n  border-radius: 5px;\n  background-color: #ededed;\n}\n.container .viewer-congtainer .container-left-nav .font-div-btn::-webkit-scrollbar-thumb {\n  border-radius: 5px;\n  box-shadow: inset 0 0 5px #373737;\n  -webkit-box-shadow: inset 0 0 5px #373737;\n  background-color: #fff;\n}\n.container .viewer-congtainer .container-left-nav .nav-btn {\n  font-family: "Artifakt Element", sans-serif;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 20px;\n  -webkit-box-align: center;\n  align-items: center;\n  color: #3c3c3c;\n  display: flex;\n  padding: 10px 0px;\n  text-decoration: none;\n  width: 100%;\n  outline: none;\n  background: transparent;\n  cursor: pointer;\n}\n.container .viewer-congtainer .container-left {\n  box-shadow: rgb(12 44 4.2%) 0px 0px 8px;\n  clip-path: inset(0px -8px);\n  z-index: 2;\n  flex-shrink: 0;\n  width: 20vw;\n  min-width: 260px;\n  max-width: 320px;\n  background-color: #ffffff;\n  display: none;\n}\n.container .viewer-congtainer .wedo-viewer {\n  width: 100%;\n  height: 100%;\n  position: relative !important;\n}\n.container .viewer-congtainer .container-right {\n  box-shadow: rgba(12, 44, 84, 0.15) 0px 4px 14px, rgba(12, 44, 84, 0.25) 0px 0px 2px;\n  clip-path: inset(0px 0px 0px -8px);\n  z-index: 1;\n  flex-shrink: 0;\n  width: 20vw;\n  min-width: 260px;\n  max-width: 320px;\n  height: calc(100vh - 48px);\n}\n.wdforge-app-font-div-tooltip .ant-tooltip-inner a {\n  color: #fff;\n}\n.wdforge-app-font-div-tooltip .ant-tooltip-inner a:hover {\n  color: #fff;\n}\n.wdforge-app-font-div-tooltip .ant-tooltip-inner a:focus {\n  color: #fff;\n}\n.wdforge-app-font-div-tooltip .ant-tooltip-inner span {\n  color: #fff;\n}\n.wdforge-app-font-div-tooltip .container-left-nav-ul {\n  box-sizing: border-box;\n  list-style: none;\n  padding: 0px;\n  margin: 0px;\n}\n.wdforge-app-font-div-tooltip .container-left-nav-ul li {\n  line-height: 28px;\n  font-size: 14px;\n  color: #606266;\n  cursor: pointer;\n  list-style: none;\n  margin: 0px;\n  text-align: center;\n  outline: none;\n}\n.wdforge-app-font-div-tooltip .container-left-nav-ul li div .wedofont {\n  font-size: 24px !important;\n}\n.wdforge-app-font-div-tooltip .container-left-nav-ul li div:focus {\n  outline: none !important;\n}\n.wdforge-app-font-div-tooltip .container-left-nav-ul li div:hover a {\n  color: #fe7300 !important;\n}\n.wdforge-app-font-div-tooltip .container-left-nav-ul li div:hover a:focus {\n  outline: none !important;\n}\n.wdforge-app-font-div-tooltip .container-left-nav-ul li div:hover a:hover {\n  color: #fe7300;\n}\n.wdforge-app-font-div-tooltip .viewer-header-file-list .ant-dropdown-menu-item:hover {\n  color: #fe7300;\n}\n.viewer-header-file-list .ant-dropdown-menu-item {\n  line-height: 1 !important;\n}\n.viewer-header-file-list .ant-dropdown-menu-item:hover {\n  color: #fe7300 !important;\n}\n',""]),e.exports=n},60337:(e,n,t)=>{(n=t(23645)(!1)).push([e.id,".marker-list-title {\n  background-color: #4d5570;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n  height: 38px;\n}\n.marker-list-title .title {\n  line-height: 38px;\n  margin-left: 10px;\n  font-size: 18px;\n  color: #fff;\n}\n.marker-list-title .total-num {\n  color: #fff;\n}\n.marker-list-title .close {\n  line-height: 38px;\n  float: right;\n  color: #fff;\n  width: 38px;\n  text-align: center;\n  cursor: pointer;\n}\n.marker-opts {\n  background-color: #d7dde4;\n  height: 52px;\n  border-bottom: 1px solid #d7dde4;\n}\n.marker-opts .search-contents {\n  margin: 0px;\n  padding: 10px;\n  width: 256px;\n  float: left;\n  padding-right: 5px;\n}\n.marker-opts .search-contents .ant-select-selector {\n  border-radius: 5px !important;\n}\n.marker-opts .search-btn {\n  margin: 0px;\n  width: 60px;\n  line-height: 52px;\n  text-align: center;\n  float: left;\n}\n.marker-opts .search-btn span {\n  cursor: pointer;\n  margin: 0px 5px;\n}\n.marker-opts .search-btn span.anticon {\n  font-size: 18px;\n}\n.marker-opts .search-btn span:hover {\n  color: #fe7300;\n}\n.dingwei-loading {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  text-align: center;\n  z-index: 1;\n  background: rgba(0, 0, 0, 0.6);\n  padding: 0;\n  margin: 0;\n  line-height: 70vh;\n}\n.marker-list {\n  width: 100%;\n  height: calc(100% - 90px);\n  padding: 10px;\n  overflow: hidden;\n  overflow-y: auto;\n  /*定义滚动条轨道 内阴影+圆角*/\n  /*定义滑块 内阴影+圆角*/\n}\n.marker-list::-webkit-scrollbar {\n  width: 5px;\n  height: 5px;\n  border-radius: 5px;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n.marker-list::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.5);\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.5);\n  border-radius: 5px;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n.marker-list::-webkit-scrollbar-thumb {\n  border-radius: 5px;\n  box-shadow: inset 0 0 5px #373737;\n  -webkit-box-shadow: inset 0 0 5px #373737;\n  background-color: #373737;\n}\n.marker-list .img {\n  padding: 10px;\n}\n.marker-list .img .img-com1 {\n  margin: 3px 5px 3px 0px;\n  display: inline-block;\n}\n.marker-list .img .img-com1 .img-com2 {\n  background: rgba(0, 0, 0, 0.5);\n  text-align: center;\n  position: absolute;\n  width: 80px;\n  height: 18px;\n  line-height: 18px;\n  display: none;\n}\n.marker-list .img .img-com1 .img-com2 span {\n  margin: 0px 5px;\n}\n.marker-list .img .img-com1:hover .img-com2 {\n  z-index: 2;\n  display: block;\n}\n.marker-list .msg2person {\n  padding: 10px;\n}\n.marker-list .ant-card-head-title {\n  font-weight: 600;\n}\n.marker-list .ant-card-bordered {\n  border: 1px solid #f0f0f0;\n  border-left-width: 3px;\n  margin: 15px 0px;\n}\n.marker-list .ant-card-bordered .ant-card-head {\n  padding: 0 10px !important;\n}\n.marker-list .ant-card-bordered .ant-card-body {\n  padding: 10px !important;\n}\n.marker-list .ant-card-bordered .ant-card-body .ant-timeline-item-last {\n  padding: 0px;\n}\n.marker-list .ant-card-bordered .ant-card-body .ant-timeline-item-content .title {\n  font-size: 14px;\n  font-weight: 600;\n}\n.msgPerson {\n  color: #f0f0f0;\n}\n.msgPerson:active {\n  background-color: rgba(0, 0, 0, 0) !important;\n}\n.msgPerson:hover {\n  color: #f0f0f0;\n}\n.msgPerson:not(.ant-tag-checkable-checked):hover {\n  color: #f0f0f0 !important;\n}\n.markup-advance-search .ant-modal-content .ant-modal-close-x {\n  width: 39px !important;\n  height: 39px !important;\n  line-height: 39px !important;\n}\n.markup-advance-search .ant-modal-content .ant-modal-close {\n  color: #fff !important;\n}\n.markup-advance-search .ant-modal-content .ant-modal-header {\n  padding: 8px 15px !important;\n  background-color: #464c5b !important;\n}\n.markup-advance-search .ant-modal-content .ant-modal-header .ant-modal-title {\n  color: #fff !important;\n}\n.markup-advance-search .ant-modal-content .ant-modal-body .ant-form-item {\n  margin: 0;\n}\n.markup-advance-search .ant-modal-content .ant-modal-body .ant-form-item .ant-btn-primary {\n  background-color: #4d5570 !important;\n  border-color: #4d5570 !important;\n}\n.marker-save-modal .ant-modal-content .ant-modal-close .ant-modal-close-x {\n  color: #fff;\n  line-height: 43px;\n  width: 43px;\n  height: 43px;\n}\n.marker-save-modal .ant-modal-content .ant-modal-header {\n  padding: 10px 24px !important;\n  background-color: #4d5570 !important;\n}\n.marker-save-modal .ant-modal-content .ant-modal-header .ant-modal-title {\n  color: #fff;\n}\n.marker-save-modal .ant-modal-content .ant-modal-footer .ant-btn-primary {\n  background-color: #4d5570 !important;\n  border-color: #4d5570 !important;\n}\n",""]),e.exports=n},80177:(e,n,t)=>{"use strict";t.r(n),t.d(n,{WDKitsSDK:()=>D});var i=t(36929),o=(t(26651),t(55419),t(45301)),a=t(14100);const r=window.myGlobalParams.baseApi,l=[{name:"forgeAuth",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:r},{name:"getPublicKey",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:r}];var s=t(50078),d=t.n(s),c=t(43884),p=t(71415),m=t.n(p),f=(t(8611),t(79331)),h=t(417),u=t(49421),g=t(74324),v=t(61446),w=t(2262),b=t(66252),k=t(72489),y=t(68794),x=t(86148),C=t(90927),E=t(94069),I=t(7369),S=t(89928);function O(e,n){return t(86006),{components:{SettingOutlined:y.Z,LinkOutlined:x.Z,LoadingOutlined:g.Z},provide:()=>({}),inject:["_$global_app"],setup(){const n=(0,w.iH)([]),t=(0,w.qj)({}),i=(0,w.qj)({}),o=(0,w.qj)({}),a=(0,w.qj)({}),r=(0,w.iH)([]),l=(0,w.qj)({}),s=(0,w.qj)({}),d=(0,w.qj)({}),c=(0,w.iH)(!1),p=(0,w.qj)({}),m=(0,w.iH)([]),f=(0,w.iH)(null),h=(0,w.iH)(!1),u=(0,w.iH)(!1),k=(0,w.qj)({clientId:e.clientId,curCategorie:void 0,state:void 0,curprofessional:void 0,name:void 0,createTime:void 0,num:void 0,files:[]}),y=(0,b.h)(g.Z,{style:{fontSize:"24px"},spin:!0}),x=e=>{t[e]=!t[e],a[e]=i[e],l[e]={imgs:[],files:[],txt:null}},I=n=>{p[n]=!0;let t=new URLSearchParams;t.set("clientId",e.clientId),t.set("themeId",n),(0,C.V)(t).then((e=>{s[n]=e.data.data,p[n]=!1})).catch((e=>{console.error(e),p[n]=!1}))},S=()=>{h.value=!1,c.value=!0;let t=e.models.map((e=>{let n=e.getPropertyDb().svf.basePath;return n.substring(n.indexOf(clientId)+clientId.length+1,n.indexOf("/output")<=0?n.length:n.indexOf("/output"))}));k.files=t,k.clientId=e.clientId,(0,C.Ip)((0,w.IU)(k)).then((e=>{console.log(e),n.value=e.data.data,c.value=!1})).catch((e=>{console.error(e),c.value=!1}))};return(0,b.bv)((()=>{e.on("setCustomProfessionals",(e=>{"array"!==E.Z.dataType(e)&&(console.error("数据格式不对"),v.Z.error(`当前用户信息需要一个数组，但是传入的却是一个${E.Z.dataType(e)}`)),e.unshift({id:-1,name:"全部"}),m.value=e}),{allowDuplicateKey:!1}),e.on("setCustomUserInfos",(e=>{"object"!==E.Z.dataType(e)&&(console.error("数据格式不对"),v.Z.error(`当前用户信息需要一个对象，但是传入的却是一个${E.Z.dataType(e)}`)),Object.keys(e).forEach((n=>{o[n]=e[n]}))}),{allowDuplicateKey:!1})})),{comments:n,replying:t,currentUserInfos:o,labelCol:{span:4},wrapperCol:{span:18},formState:k,dingweiLoading:u,professionals:m,replyValue:l,isShowDetail:i,imgNodes:r,timelineLoading:p,showHideTxt:a,replySaveLoading:d,listLoading:c,textareaRef:f,replyHistory:s,serachMoreVisible:h,pasteEvent:e=>{var n=e.target.dataset.id;if(e.clipboardData||e.originalEvent){var t=e.clipboardData||e.originalEvent.clipboardData;if(t.items){for(var i=t.items,o=i.length,a=null,r=0;r<o;r++)-1!==i[r].type.indexOf("image")&&(a=i[r].getAsFile());if(null!==a){var s=new FileReader;s.onload=function(e){var t=e.target.result;l[n].imgs.push(t)},s.readAsDataURL(a)}}}},showDetail:e=>{t[e]?v.Z.warning("您处于回复状态，暂无法收起！"):(i[e]=!i[e],a[e]=i[e],i[e]&&I(e))},serach:()=>{console.log("submit!",(0,w.IU)(k))},serachMore:()=>{console.log("submit!",(0,w.IU)(k)),h.value=!0},replyClick:async n=>{e.emit("getCustomUserInfos"),t[n]=!t[n],a[n]=t[n],l[n]={imgs:[],files:[],txt:""},setTimeout((()=>{f.value.$el.scrollIntoView({behavior:"smooth",block:"center"})}),0)},replyCancleClick:x,textAreaChange:e=>{l[e.target.dataset.id].txt=e.target.value},replySaveClick:n=>{d[n]=!0;let t=new FormData;t.append("clientId",e.clientId),t.append("themeId",n),t.append("commentPerson",JSON.stringify(o)),Object.keys(l[n]).forEach((e=>{var i="txt"===e?l[n][e]:JSON.stringify(l[n][e]);t.append(e,i)})),(0,C.Pe)(t).then((e=>{I(n),d[n]=!1,x(n)})).catch((e=>{console.error(e),d[n]=!1}))},onChangeRangePicker:(e,n)=>{k.createTime=[],k.createTime.push(n.slice(0,1).toString()),k.createTime.push(n.slice(1,2).toString())},priewImg:e=>{r.value[e].$el.nextElementSibling.click()},onSubmit:S,getAllList:()=>{e.emit("loadComments")},confirmDel:e=>{c.value=!0;let t=new URLSearchParams;t.set("id",e),t.set("clientId",window.clientId),t.set("clientSecret",window.clientSecret),(0,C.N8)(t).then((t=>{n.value=n.value.filter((n=>n.id!==e)),c.value=!1}))},changeState:(t,i)=>{let o=new FormData;o.append("clientId",e.clientId),o.append("id",t),o.append("state",i),d[t]=!0,(0,C.k0)(o).then((e=>{d[t]=!1,n.value.forEach((e=>{e.id.toString()===t.toString()&&(e.state=i)}))})).catch((e=>{console.error(e),d[t]=!1}))},delReplyingPic:(e,n)=>{e.imgs.splice(e.imgs.indexOf(n),1)},curProfessionalChange:(e,n)=>{console.log(e,n),Object.keys(k).forEach((e=>{"curprofessional"!==e&&(k[e]=void 0)})),S()},markupAdvanceSearchCancle:()=>{Object.keys(k).forEach((e=>{k[e]=void 0}))},indicator:y}},template:'\n<div style="height: calc(100vh - 48px);">\n    <a-config-provider :locale="locale">\n        <div class="marker-list-title">\n            <span class="title">审阅/批注</span>\n            <a-divider type="vertical" />\n            <span class="total-num">共({{comments.length}})个</span>\n            <span class="close" @click="closeClick"> X </span>\n        </div>\n        <div class="marker-opts">\n            <div class="search-contents">        \n                <a-select v-model:value="formState.curprofessional" @change="curProfessionalChange" style="width:100%" placeholder="按专业搜索" @dropdownVisibleChange="getProfessionals">\n                    <a-select-option :disabled="true" v-if="professionals.length<=0" style="text-align: center;"><a-spin :indicator="indicator" size="small" /></a-select-option>\n                    <a-select-option v-else v-for="i in professionals" :key="i[\'id\']" :value="i[\'name\']">{{ i[\'name\'] }}</a-select-option>\n                </a-select>\n            </div>\n            <div class="search-btn">\n                <a-tooltip title="高级搜索" placement="top">\n                    <SettingOutlined @click="serachMore"/>\n                </a-tooltip>\n                <a-tooltip title="显示全部" placement="topRight">            \n                    <span class="wedofont wedo-quanbu" @click="getAllList"/>\n                </a-tooltip>\n            </div>\n            <div class="search-modal"></div>\n        </div>\n        <div v-show="listLoading">\n            <a-skeleton v-for="i in 3" avatar :key="i" :paragraph="{ rows: 4 }" active />\n        </div>\n        <div class="dingwei-loading" v-show="dingweiLoading">\n            <a-spin :indicator="indicator" size="large" />\n        </div>\n        <div class="marker-list" v-show="!listLoading">\n            <a-empty v-show="comments.length===0" />\n            <a-card v-show="comments.length>0" hoverable v-for="it in comments" :key="it[\'id\']" :style="{width:\'300px\',borderLeftColor:it[\'state\']===\'open\'?\'#ff9900\':it[\'state\']===\'ok\'?\'#19be6b\':\'#c5c8ce\'}">\n                <template #title>\n                    <a-tooltip :title="JSON.parse(it[\'problemCategories\']).join(\'，\')" placement="left">\n                        {{JSON.parse(it[\'problemCategories\']).join(\'，\') || "批注问题"}}\n                    </a-tooltip>\n                </template>\n                <template #extra>\n                    <a-popconfirm title="您确定要删除这条记录么?" ok-text="Yes，少废话" cancel-text="No，我点错了" @confirm="confirmDel(it[\'id\'])">\n                        <a class="wedofont wedo-delete" href="#" style="color:red"></a>\n                    </a-popconfirm>\n                </template>\n                <template #cover>\n                    <div class="img">\n                        <div class="img-com1">\n                            <span class="img-com2">\n                                <a-tooltip title="定位空间" placement="top">\n                                    <span @click="goDingWei(it)" class="wedofont wedo-dingwei img-span" style="color:#ff3300;font-size: 16px !important;"></span>\n                                </a-tooltip>\n                                <a-tooltip title="预览截图" placement="top">\n                                    <span @click="priewImg(it[\'id\'])" class="wedofont wedo-show img-span" style="color:#00cc66"></span>\n                                </a-tooltip>\n                            </span>\n                            <a-image :width="80" :src="it[\'snap\']" :ref="el=>{imgNodes[it[\'id\']] = el}"/>\n                        </div>\n                        <div class="img-com1" v-if="it[\'children\'] && it[\'children\'].length > 0" v-for="i in it[\'children\']">\n                            <span class="img-com2">\n                                <a-tooltip title="定位空间" placement="top">\n                                    <span @click="goDingWei(i)" class="wedofont wedo-dingwei img-span" style="color:#ff3300;font-size: 16px !important;"></span>\n                                </a-tooltip>\n                                <a-tooltip title="预览截图" placement="top">\n                                    <span @click="priewImg(i[\'id\'])" class="wedofont wedo-show img-span" style="color:#00cc66"></span>\n                                </a-tooltip>\n                            </span>\n                            <a-image :width="80" :src="i[\'snap\']" :ref="el=>{imgNodes[i[\'id\']] = el}"/>\n                        </div>\n                    </div>\n                    <div class="msg2person">\n                    <span>@:&emsp;</span>\n                    <span class="tag">\n                        <a-tooltip placement="top">\n                            <template #title>\n                                <span v-show="JSON.parse(it[\'noticePersons\']).length===0">没有@任何人</span>\n                                <a-checkable-tag class="msgPerson" color="#c3cbd6" v-for="personName in JSON.parse(it[\'noticePersons\'])" :key="personName.id">{{personName.name}}</a-checkable-tag>\n                            </template>\n                            <a-tag color="#c3cbd6">查看@的人员</a-tag>\n                        </a-tooltip>\n                    </span>\n                    </div>\n                </template>\n                <a-card-meta>\n                    <template #title>\n                        <div style="height:25px;">\n                            <span class="creater">创建者：{{it[\'authorName\']}}</span>\n                            <span style="float:right;margin-right:10px;font-size:12px;line-height:25px" @click="showDetail(it[\'id\'])">{{!showHideTxt[it[\'id\']]?\'展开\':\'收起\'}}</span>\n                        </div>\n                        <div>\n                            <span style="font-size:12px">{{it[\'createTime\']}}</span>\n                        </div>\n                    </template>\n                    <template #description>\n                        <a-skeleton avatar :paragraph="{ rows: 4 }" active v-show="timelineLoading[it[\'id\']]"/>\n                        <a-timeline v-show="(replying[it[\'id\']] || isShowDetail[it[\'id\']])&&!timelineLoading[it[\'id\']]">\n                            <a-timeline-item v-show="replyHistory[it[\'id\']] && replyHistory[it[\'id\']].length>0" v-for="his in replyHistory[it[\'id\']]">\n                                <div class="title">{{JSON.parse(his[\'commentPerson\'])[\'name\']}}<a-divider type="vertical" /><span style="color:#808695;font-size:10px;">{{his[\'commentTime\']}}</span></div>\n                                <div>{{his[\'txt\']}}</div>\n                                <div v-show="JSON.parse(his[\'imgs\']).length>0">\n                                    <div>图片：</div>\n                                    <span v-for="src in JSON.parse(his[\'imgs\'])" style="margin:5px;">\n                                        <span style="width:68px;height:56px;display:table-cell;">\n                                            <a-image :width="68" :height="56" :src="src" />\n                                        </span>\n                                    </span>\n                                </div>\n                                \x3c!--<div v-show="JSON.parse(his[\'files\'].length>0"">\n                                    <div>附件：</div>\n                                    <LinkOutlined  v-for="uri in JSON.parse(his[\'files\'])/>\n                                </div>--\x3e\n                            </a-timeline-item>\n                        </a-timeline>\n                        \n                        \x3c!----回复框----\x3e\n                        <div v-show="replying[it[\'id\']]">\n                            <span><a-spin :indicator="indicator" size="small" v-show="!currentUserInfos[\'name\']"/>{{currentUserInfos[\'name\']}}</span>\n                            <a-textarea :onpaste="pasteEvent" :oninput="textAreaChange" :data-id="it[\'id\']" ref="textareaRef" placeholder="Ctrl + V 可直接粘贴文字或图片" allow-clear autofocus="autofocus"/>\n                            <div v-if="replyValue[it[\'id\']] && replyValue[it[\'id\']][\'imgs\'].length>0">\n                                <div>图片：</div>\n                                <span v-for="img in replyValue[it[\'id\']][\'imgs\']" style="margin:5px;">\n                                    <a-badge>\n                                        <template #count>\n                                            <span @click="delReplyingPic(replyValue[it[\'id\']], img)" class="wedofont wedo-delete" style="color: #f5222d" />\n                                        </template>\n                                        <span style="width:68px;height:56px;display:table-cell;">\n                                            <a-image :width="68" :height="56" :src="img" />\n                                        </span>\n                                    </a-badge>\n                                </span>\n                            </div>\n                            \x3c!--<div v-if="replyValue[it[\'id\']] && replyValue[it[\'id\']][\'files\'].length>0">\n                                <div>附件：</div>\n                                <span><LinkOutlined />文件2</span>\n                                <span><LinkOutlined />文件2</span>\n                                <span><LinkOutlined />文件2</span>\n                            </div>--\x3e\n                        </div>\n                    </template>\n                </a-card-meta>\n                <template class="ant-card-actions" #actions>\n                    <template v-if="!replying[it[\'id\']]">\n                        <span style="padding:0 20%" @click="it[\'state\']!==\'close\'&&changeState(it[\'id\'],\'ok\')"><a-spin :indicator="indicator" size="small" v-show="replySaveLoading[it[\'id\']]"/>已解决</span>\n                        <span style="padding:0 20%" @click="it[\'state\']!==\'ok\'&&changeState(it[\'id\'],\'close\')"><a-spin :indicator="indicator" size="small" v-show="replySaveLoading[it[\'id\']]"/>关闭</span>\n                        <span style="padding:0 20%" @click="it[\'state\']!==\'ok\'&&it[\'state\']!==\'close\'&&replyClick(it[\'id\'],\'replying\')"><a-spin :indicator="indicator" size="small" v-show="replySaveLoading[it[\'id\']]"/>回复</span>\n                    </template>\n                    <template v-else>\n                        <span style="padding:0 20%" @click="replySaveClick(it[\'id\'])"><a-spin :indicator="indicator" size="small" v-show="replySaveLoading[it[\'id\']]"/>发布</span>\n                        <span style="padding:0 20%" @click="replyCancleClick(it[\'id\'])">取消</span>\n                    </template>\n                </template>\n            </a-card>\n            \x3c!--<a-pagination size="small" :total="50" show-quick-jumper />--\x3e\n        </div>\n        <a-modal v-model:visible="serachMoreVisible" wrapClassName="markup-advance-search" :footer="null" title="高级搜索" :maskClosable="false" @cancel="markupAdvanceSearchCancle">\n            <a-form :model="formState" :label-col="labelCol" :wrapper-col="wrapperCol">\n                <a-form-item label="问题类别">\n                    <a-select :allowClear="true" v-model:value="formState.curCategorie" style="width:100%" @dropdownVisibleChange="getProblemCategories">\n                        <a-select-option :disabled="true" v-if="pCategories.length<=0" style="text-align: center;"><a-spin :indicator="indicator" size="small" /></a-select-option>\n                        <a-select-option v-else :value="cat[\'name\']" v-for="cat in pCategories" :key="cat[\'id\']">{{cat["name"]}}</a-select-option>\n                    </a-select>\n                </a-form-item>\n                <a-form-item label="状态">\n                    <a-select :allowClear="true" v-model:value="formState.state" style="width:100%">\n                        <a-select-option value="ok">已解决</a-select-option>\n                        <a-select-option value="replying">沟通中</a-select-option>\n                        <a-select-option value="close">关闭</a-select-option>\n                        <a-select-option value="open">其他</a-select-option>\n                    </a-select>\n                </a-form-item>\n                <a-form-item label="专业">\n                    <a-select :allowClear="true" v-model:value="formState.curprofessional" style="width:100%" @dropdownVisibleChange="getProfessionals">\n                        <a-select-option :disabled="true" v-if="professionals.length<=0" style="text-align: center;"><a-spin :indicator="indicator" size="small" /></a-select-option>\n                        <a-select-option v-else :value="pf[\'name\']" v-for="pf in professionals" :key="[\'id\']">{{pf["name"]}}</a-select-option>\n                    </a-select>\n                </a-form-item>\n                <a-form-item label="发起者">\n                    <a-select :allowClear="true" v-model:value="formState.name" style="width: 100%" @dropdownVisibleChange="getMsg2persons">\n                        <a-select-option :disabled="true" v-if="msg2persons.length<=0" style="text-align: center;"><a-spin :indicator="indicator" size="small" /></a-select-option>\n                        <a-select-option v-else :value="i[\'name\']" v-for="i in msg2persons" :key="i[\'id\']">{{ i[\'name\'] + \' \' + i[\'mobilePhone\'] + \' \' + i[\'company\'] }}</a-select-option>\n                    </a-select>\n                </a-form-item>\n                <a-form-item label="时间">\n                    <a-range-picker :allowClear="true" @change="onChangeRangePicker" style="width: 100%" :format="dateFormat"/>\n                </a-form-item>\n                <a-form-item label="问题编号">\n                    <a-input :allowClear="true" v-model:value="formState.num" />\n                </a-form-item>\n                <a-form-item :wrapper-col="{ span: 14, offset: 4 }">\n                    <a-button type="primary" @click="onSubmit">搜索</a-button>\n                </a-form-item>\n            </a-form>\n        </a-modal>\n    </a-config-provider>\n</div>\n',mounted(){e.on("refreshComments",(({themeId:e})=>{this.refreshComments(e)}),{allowDuplicateKey:!1}),e.on("loadComments",(()=>{this.loadComments()}),{allowDuplicateKey:!1}),e.on("show-markup-list",(()=>{this._$global_app.showWedoRightContentsMethod("markup-list")&&e.emit("loadComments")}),{allowDuplicateKey:!1}),e.on("setCustomProblemCategories",(e=>{"array"!==E.Z.dataType(e)&&(console.error("数据格式不对"),v.Z.error(`当前用户信息需要一个数组，但是传入的却是一个${E.Z.dataType(e)}`)),this.pCategories=e}),{allowDuplicateKey:!1}),e.on("setCustomMsg2persons",(e=>{"array"!==E.Z.dataType(e)&&(console.error("数据格式不对"),v.Z.error(`当前用户信息需要一个数组，但是传入的却是一个${E.Z.dataType(e)}`)),this.msg2persons=e}),{allowDuplicateKey:!1})},methods:{closeClick(){document.getElementsByClassName("markupClose").length&&document.getElementsByClassName("markupClose")[0].click(),e.emit("show-markup-list")},refreshComments(n){let t=new URLSearchParams;t.set("clientId",e.clientId),t.set("themeId",n),this.listLoading=!0,(0,C.Mi)(t).then((e=>{this.comments.unshift(...e.data.data),this.listLoading=!1})).catch((e=>{console.error(e),this.listLoading=!1})),console.log("refresh comments")},loadComments(){this.listLoading=!0,I.J.getComments(e.clientId,e.models).then((e=>{e&&!Array.isArray(e)?this.comments=[e]:e||(this.comments=[]),this.comments=e,this.listLoading=!1}),(()=>{console.error("从数据库中读取批注信息错误！"),this.listLoading=!1}))},goDingWei(n){this.dingweiLoading=!0,document.getElementsByClassName("markupClose").length>0&&document.getElementsByClassName("markupClose").forEach((e=>e.click()));const t=e.oViewer;var i=[];e.models.forEach((e=>{var n=e.myData.urn;if(n.includes(window.clientId)){var t=n.split("/");i.push(t[t.indexOf(window.clientId)+1])}else i.push(n)})),i.sort((function(e,n){return e.localeCompare(n)})),i.join(",")===n.bindFilesUniqueId?(e=>{const n=JSON.parse(JSON.stringify(e));n.commentString=JSON.parse(n.commentString);var i=new URLSearchParams;i.append("commentId",n.id),(0,C.g5)(i).then((e=>{this.dingweiLoading=!1,n.commentString.markup=e.data.data.replaceAll('\\"','"');var i={selectedNodes:n.commentString.objectsArray||n.commentString.pointsArray||[],commentType:"markup",comment:n,editable:!1,pointMode:!!n.commentString.pointsArray,expanded:!1,guid:n.id,commentsAdaptor:I.J};new S.Z(t,i).expand2(!0,n)})).catch((e=>{console.error(e),this.dingweiLoading=!1}))})(n):(e.init(n.bindFilesUniqueId,(e=>{var t=function(){e.oViewer.removeEventListener(Autodesk.Viewing.FINAL_FRAME_RENDERED_CHANGED_EVENT,t.bind(this),{once:!0}),this.goDingWei(n)};e.oViewer.addEventListener(Autodesk.Viewing.FINAL_FRAME_RENDERED_CHANGED_EVENT,t.bind(this),{once:!0})})),this._$global_app.reBind.waitOviewerInit())},getProblemCategories(n){n&&e.emit("getCustomProblemCategories")},getProfessionals(n){n&&e.emit("getCustomProfessionals")},getMsg2persons(n){n&&e.emit("getCustomMsg2persons")}},data:()=>({locale:k.Z,pCategories:[],msg2persons:[],dateFormat:"YYYY-MM-DD",labelCol:{span:4},wrapperCol:{span:14}}),name:"markup-list"}}t(30381);class D extends c.Z{constructor(e){super(),this.oViewer=null,this.params=e,this.isDebug=!1,this.isCheckAuth=!this.isDebug,this.clientId=this.params.client.id,this.clientSecret=this.params.client.secret,this.modelLoadOptions={isAEC:!0,skipPropertyDb:!1,modelSpace:!0,placementTransform:new THREE.Matrix4,applyScaling:"m",globalOffset:{x:0,y:0,z:0}},this.plugins=[{pluginClass:["wedo-elevation"],pluginName:"标高测量",pluginId:"VE.Elevation.Survey",children:[]},{pluginClass:["wedo-floor-manager"],pluginName:"楼层管理",pluginId:"VE.Floor.Manager",children:[]},{pluginClass:["wedo-mep-system"],pluginName:"系统分类",pluginId:"VE.Isolate.By.Discipline",children:[]},{pluginClass:["wedo-quick-filter"],pluginName:"快速选择",pluginId:"VE.Quick.Selection",children:[]},{pluginClass:["wedo-bianhuan"],pluginName:"模型变换",pluginId:"VE.Transform",children:[{pluginClass:["wedo-viewer-move"],pluginName:"移动构件",pluginId:"translate.move",children:[]},{pluginClass:["wedo-viewer-rotation"],pluginName:"旋转构件",pluginId:"translate.rotate",children:[]}]},{pluginClass:["wedo-fenjie"],pluginName:"产品列表",pluginId:"VE.VisualClusters",children:[]},{pluginClass:["wedo-model-annotation"],pluginName:"审阅批注",pluginId:"VE.Markers",children:[{pluginClass:["wedo-draw-comments"],pluginName:"开始 审阅/批注",pluginId:"markup",children:[]},{pluginClass:["wedo-hide","wedo-show"],pluginName:"显示/隐藏 标记",pluginId:"hideShowMarkup",children:[]}]},{pluginClass:[""],pluginName:"关联信息",pluginId:"VE.Positioning.Identification",children:[]},{pluginClass:[""],pluginName:"楼层着色",pluginId:"VE.Floor.Coloring",children:[]},{pluginClass:["wedo-list-check"],pluginName:"模型检查",pluginId:"VE.RSC",children:[{pluginClass:["wedo-model-rules"],pluginName:"Revit建模规则检查",pluginId:"model.rules",children:[]},{pluginClass:["wedo-standars-rules"],pluginName:"GB规范检查",pluginId:"standars.rules",children:[]}]},{pluginClass:[""],pluginName:"导航小地图",pluginId:"VE.Minimap3DExtension",children:[],hasUi:!1},{pluginClass:["wedo-time-schedule"],pluginName:"进度模拟",pluginId:"VE.Schedule",children:[]},{pluginClass:["wedo-lujingmanyou"],pluginName:"路径漫游",pluginId:"VE.PathRoaming",children:[]}],this.init()}init(e,n){if(!this.checkParams(this.params))return;window.wdkitsSdk=this;const i=this.Autodesk=window.Autodesk,o=(this.THREE=window.THREE,this.noToolbar=this.params.noToolbar),a=this.initExtensins=this.params.initExtensins,r=this.plugins||[],l=n||this.params.customCallback,s=JSON.parse(JSON.stringify(e||this.params.models));if(this.copyFileNames=JSON.parse(JSON.stringify(e||this.params.models)),t(80285),!window.wdkitsSdk.totalApp){const e=window.wdkitsSdk.totalApp=function(e,n,i){return t(64453),{components:{DownOutlined:u.Z,LoadingOutlined:g.Z,markerListComs:O(i)},provide(){return{_$global_app:this}},setup(){const t=(0,f.iH)(""),o=(0,f.qj)(e),a=(0,f.qj)(n),r=(0,f.qj)({}),l=(0,f.iH)(!0),s=(0,f.iH)(""),d=(0,f.iH)(!1),c=(0,f.iH)([{key:"",fileNames:""}]);let p=(0,f.iH)(["万智维度"]);const m=(0,f.qj)([]),h=(0,f.qj)({waitOviewerInit:null});a.forEach((e=>{const n=e=>{m.push(e.pluginClass[0]),e.children&&e.children.forEach((e=>n(e)))};n(e)}));const u=(0,f.h)(g.Z,{style:{fontSize:"24px"},spin:!0});return{value:t,exts:o,plugins:a,currentFileName:p,dpFilesList:c,indicator:u,spinning:l,pluginsEvts:r,containerWedoRightShow:d,wedoRightShowContents:s,menuClick:({item:e,key:n,keyPath:t})=>{let o=JSON.parse(localStorage.getItem("svfDs"));o&&o.forEach((e=>{e.key===n&&(p.value=[n],i.init(e.fileNames),h.waitOviewerInit())}))},openNewDoc:e=>{console.log(e),v.Z.info("功能在赶来的路上……")},share:e=>{console.log(e),v.Z.info("功能在赶来的路上……")},download:e=>{console.log(e),v.Z.info("功能在赶来的路上……")},runPlugin:(e,n)=>{if(0===e.children.length&&(r[e.pluginId]?r[e.pluginId]():i.oViewer.getLoadedExtensions()[e.pluginId]||i.oViewer.loadExtension(e.pluginId)),2===e.pluginClass.length){let t=n.currentTarget.firstElementChild.classList;e.pluginClass.forEach((e=>{t.contains(e)?t.remove(e):t.add(e)}))}},removeTag:(e,n)=>{e.stopPropagation();let t=JSON.parse(localStorage.getItem("svfDs")),i=-1;t&&t.forEach(((e,t)=>{e.key===n.key&&(i=t)})),-1!==i&&(c.value.splice(i,1),(c||c.value||c.value.length>0)&&localStorage.setItem("svfDs",JSON.stringify(c.value)))},reBind:h}},template:'\n    <div class="container">\n        <div class="viewer-header">\n            <div class="file-list">\n                <a-tooltip color="rgba(54,59,62,.8)">\n                    <template #title>{{currentFileName.join("；")}}</template>\n                    <span style="color:#c3cbd6;max-width:300px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{currentFileName.join("；")}}</span>\n                </a-tooltip>\n                <a-divider style="width:2px;height:28px;" type="vertical" />\n                <a-dropdown>\n                    <a class="ant-dropdown-link" @click.prevent style="color:#3c3c3c;">\n                        切换文档 <DownOutlined />\n                    </a>\n                    <template #overlay>\n                        <a-menu @click="menuClick" class="viewer-header-file-list">                        \n                            <a-menu-item v-for="it in dpFilesList" :key="it[\'key\']">\n                                <a-tooltip placement="left" color="rgba(54,59,62,.8)">\n                                    <template #title>{{it["key"]}}</template>\n                                    <span style="max-width:300px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{it["key"]}}</span>\n                                </a-tooltip>\n                                <span @click="(e)=>{removeTag(e,it)}" class="wedofont wedo-icon-close" style="position:relative;display:inline-block;font-size:14px !important;color:#ff3300;width:23px;float:right;text-align:right;"></span>\n                            </a-menu-item>\n                        </a-menu>\n                    </template>\n                </a-dropdown>\n                <a-divider style="width:2px;height:28px;" type="vertical" />\n                <div class="fun1">\n                    <a-tooltip placement="bottom" title="打开新文档" color="rgba(54,59,62,.8)">\n                        <span class="wedofont wedo-folder-open" @click="openNewDoc"></span>\n                    </a-tooltip>\n                </div>\n            </div>\n            <div class="viewer-header-btn">\n                <div style="height:100%;">\n                    <div style="display:flex;flex-direction:row;">\n                        <a-tooltip placement="bottom" title="分享" color="rgba(54,59,62,.8)">\n                            <button class="btn wedofont wedo-share" @click="share"></button>\n                        </a-tooltip>\n                        <a-tooltip placement="bottom" title="下载" color="rgba(54,59,62,.8)">\n                            <button class="btn wedofont wedo-download" @click="download"></button>\n                        </a-tooltip>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="viewer-congtainer">\n            <div class="container-left-nav">\n                <div class="font-div-btn">\n                    <a-spin :indicator="indicator" style="margin: 38px 10px;" :spinning="spinning" />\n                    <div class="font-div" v-for="item in plugins" :key="item" v-if="!spinning">\n                        <div v-if="item[\'pluginClass\'][0]">\n                            <a-tooltip overlayClassName="wdforge-app-font-div-tooltip" color="rgba(54,59,62,.8)" v-if="exts.map(t =>{if(item[\'pluginId\']===t)return item[\'pluginName\']}).join(\'\')" placement="right">                                \n                                <template #title>\n                                    <a v-if="item[\'children\'].length===0">\n                                        {{exts.map(t =>{if(item[\'pluginId\']===t)return item[\'pluginName\']}).join(\'\')}}\n                                    </a>\n                                    <a v-else>\n                                        <ul class="container-left-nav-ul">\n                                            <li>\n                                                <span>{{item[\'pluginName\']}}</span>\n                                            </li>\n                                            <a-divider style="margin: 3px 0;" />\n                                            <li v-for="o in item[\'children\']" :key="o">\n                                                <a-tooltip color="rgba(54,59,62,.8)" :title="o[\'pluginName\']" placement="right">\n                                                    <div @click="(e)=>{runPlugin(o,e)}">\n                                                        <a :class="\'nav-btn wedofont \'+ o[\'pluginClass\'][0]"></a>\n                                                    </div>\n                                                </a-tooltip>\n                                            </li>\n                                        </ul>\n                                    </a>\n                                </template>\n                                <div @click="(e)=>{runPlugin(item,e)}">\n                                    <a :class="\'nav-btn wedofont \'+ exts.map(t =>{if(item[\'pluginId\']===t)return item[\'pluginClass\'][0]}).join(\'\')"></a>\n                                </div>\n                            </a-tooltip>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="container-left"></div>\n            <div class="wedo-viewer" id="wedo-viewer"></div>\n            <div class="container-right" id="container-wedo-right" v-show="containerWedoRightShow">\n                <markerListComs :is="wedoRightShowContents"></markerListComs>\n            </div>\n            <div id="container-wedo-modal"></div>\n        </div>\n    </div>\n',mounted(){this.$nextTick((function(){!function(e){let n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","//at.alicdn.com/t/font_2486193_q1d3qs56ux.css"),document.body.appendChild(n)}(),this.waitOviewerInit(),this.reBind.waitOviewerInit=this.waitOviewerInit}))},methods:{waitOviewerInit(){let e=this,n=setInterval((()=>{i.oViewer&&i.oViewer.toolbar&&(clearInterval(n),e.oViewer=i.oViewer,console.info("got the oviewer"),e.currentFileName=Array.from(new Set(i.currentOpenDocs)),e.dpFilesList=JSON.parse(localStorage.getItem("svfDs"))||[{key:"",fileNames:""}],e.bindEvts())}),500)},bindEvts(){let e=this,n=setInterval((()=>{i.isInitLoadModelsDone&&(clearInterval(n),e.spinning=!1,e.exts.forEach((n=>{let t=e.oViewer.getLoadedExtensions()[n];t&&t.btnClickEvts&&(1===t.btnClickEvts.length?e.pluginsEvts[n]=t.btnClickEvts[0].fun:t.btnClickEvts.forEach((n=>{e.pluginsEvts[n.key]=n.fun})))})))}),500)},showWedoRightContentsMethod(e){return this.containerWedoRightShow=!this.containerWedoRightShow,this.wedoRightShowContents=e,setTimeout((()=>{i.oViewer.resize()}),0),this.containerWedoRightShow}}}}(a,r,this),n=this.app=(0,f.ri)(e);n.config.productionTip=!1,n.use(h.ZP),n.mount("#"+this.params.oViewerContainer)}const d=this.oViewerContainer=document.getElementById("wedo-viewer");let c,p,m;c={env:"Local",offline:"true",useADP:!1},p={extensions:["VE.Data.Processing.Development",...a],disabledExtensions:{},memory:{limit:32768},wedoConfig:{clientId:this.params.client.id,clientSecret:this.params.client.secret}},m=this.modelLoadOptions,i.Viewing.Initializer(c,(e=>{var n;d.innerHTML="",this.oViewer=o?new Autodesk.Viewing.Viewer3D(d,p):new Autodesk.Viewing.GuiViewer3D(d,p),this.isDebug&&(n=this.oViewer,window.oViewer=n,window.viewer=n),this.oViewer.start("")>0?console.error("Failed to create a Viewer: WebGL not supported."):(console.log("Initialization complete, loading a model next..."),s.length<=0?this.params.customCallback instanceof Function&&this.params.customCallback(this):this.wDLoadModel(s,!1,null,m,l))}))}onSuccessCallback(e,n,t,i,o){n.shift(),this.wDLoadModel(n,t,null,i,o);var a=setInterval((()=>{console.info("----toolkit-------"),this.oViewer.getExtension("Autodesk.PropertiesManager")&&(clearInterval(a),this.oViewer.getExtension("Autodesk.PropertiesManager").getToolbarButton().addEventListener("click",this.removeToolkitProps.bind(this)))}),0);this.oViewer.addEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,this.removeToolkitProps.bind(this))}onErrorCallback(e){console.error(e)}async wDLoadModel(e,n=!1,t,a,r){let l=setInterval((()=>{this.oViewer&&this.oViewer.toolbar&&(clearInterval(l),this.isDebug||this.oViewer.getToolbar().getControl("wdkitsTools-1").setVisible(!1))}),500);if(this.isCheckAuth){if(window.clientId=this.params.client.id,window.clientSecret=this.params.client.secret,!await this.checkAuth(window.clientId,window.clientSecret,e))return;if(0===(e=this.params.models).length)return void(0,o.y)("没有可以加载的模型！")}if(this.isDebug){const e=navigator.userAgent.toLowerCase();/ipad|ipod|iphone|midp|rv:1.2.3.4|ucweb|android|webos|skyfire|lg|webmate|nokia|bada|blackberry|incognito|windows ce|windows mobile/.test(e)&&new(m())}if(a||this.modelLoadOptions,e.length>0){if(n){let e=this.oViewer.config;this.oViewer.config.extensions=t||this.initExtensins||Object.keys(this.oViewer.getLoadedExtensions()),this.oViewer.tearDown(),this.oViewer.setUp(e),n=!1}if(".json"===e[0].substr(e[0].lastIndexOf("."))){const t=decodeURIComponent(e[0]);Autodesk.Viewing.Document.load(t,(t=>{t.downloadAecModelData();const i=t.getRoot().getDefaultGeometry();a.keepCurrentModels=!0,this.oViewer.loadDocumentNode(t,i,a).then((t=>{this.onSuccessCallback(t,e,n,a,r)}),(e=>{this.onErrorCallback(e)}))}))}else{if(this.oViewer.loadModel(e[0],a,(t=>{this.onSuccessCallback(t,e,n,a,r)}),(e=>{this.onErrorCallback(e)}))>0)return void console.error("Failed to create a Viewer: WebGL not supported.");console.log("Initialization complete, loading a model next...")}}else{this.isCheckAuth=!0,(0,i.Z)(this.oViewer);let e=this.oViewer.impl.modelQueue().getModels().length;console.log("模型个数："+e),this.models=this.oViewer.impl.modelQueue().getModels();let n=this,t=setInterval((()=>{e>=1?this.oViewer.impl.modelQueue().getModels()[e-1].isLoadDone()&&e--:(clearInterval(t),n.isInitLoadModelsDone=!0,r instanceof Function&&r(this))}),300)}}switchModel(e,n=null,t){this.isCheckAuth=!0,this.wDLoadModel(e,!0,n,this.modelLoadOptions,t)}checkAuth(e,n,t){let i=this;return console.log("检查了一次授权"),i.isCheckAuth=!1,new Promise(((o,r)=>{let s=new URLSearchParams;s.set("clientId",e),s.set("clientSecret",n),s.set("fileNames",t),s.set("isShareModels",!1),s.set("loadType","svf"),function(e){const n={method:"GET",url:"viewer-auth/model/path",dataOrParams:e,name:"forgeAuth",isToken:!1};return new Promise(((e,t)=>{(0,a.Z)(l,n).then((n=>e(n))).catch((e=>t(e)))}))}(s).then((e=>{i.isCheckAuth=!1,i.params.models=e.data.data.modelUrls,i.currentOpenDocs=e.data.data.originNames,this.oViewer.config.wedotoken=e.data.data.token,d().set("wedotoken",e.data.data.token),localStorage.getItem("wedotoken")||localStorage.setItem("wedotoken",JSON.stringify(e.data.data.token));let n=i.currentOpenDocs.sort((function(e,n){return e-n}));if(d().get("wedotoken")===JSON.parse(localStorage.getItem("wedotoken"))&&localStorage.getItem("svfDs")){let e=JSON.parse(localStorage.getItem("svfDs")),t=!0;if(e.forEach((e=>{e.key===n.join(" | ")&&(t=!1)})),t){let t={key:n.join(" | "),fileNames:i.copyFileNames};e.push(t)}localStorage.setItem("svfDs",JSON.stringify(e))}else{localStorage.removeItem("wedotoken"),localStorage.setItem("wedotoken",JSON.stringify(e.data.data.token)),localStorage.removeItem("svfDs");let t={key:n.join(" | "),fileNames:i.copyFileNames};localStorage.setItem("svfDs",JSON.stringify([t]))}o(!0)})).catch((e=>{console.error(e),i.isCheckAuth=!0,r(!1)}))}))}checkParams(e){return e.initExtensins=void 0===e.initExtensins?[]:e.initExtensins,Array.isArray(e.initExtensins)?"boolean"!=typeof e.noToolbar?((0,o.y)("参数noToolbar不是一个布尔类型"),console.error("Error! noToolbar must be Boolean!"),!1):e.models instanceof Array||((0,o.y)("models参数不是一个数组"),console.error("Error! models must be Array!"),!1):((0,o.y)("拓展不是一个数组！"),console.error("Error! initExtensins must be Array!"),!1)}removeToolkitProps(e){var n=setInterval((()=>{console.info("----toolkit-------");var e=document.getElementsByClassName("treeview");e&&e.length>0?(e[0].childNodes.forEach((n=>{(n.getAttribute("lmv-nodeid")&&n.getAttribute("lmv-nodeid").includes("__toolkit__")||"__toolkit__"===n.getAttribute("lmv-nodeid"))&&e[0].removeChild(n)})),clearInterval(n),n=null):(clearInterval(n),n=null)}),0)}}},90927:(e,n,t)=>{"use strict";t.d(n,{qm:()=>r,Mi:()=>l,dI:()=>s,g5:()=>d,N8:()=>c,k0:()=>p,Pe:()=>m,V:()=>f,Ip:()=>h});var i=t(14100);const o=window.myGlobalParams.baseApi,a=[{name:"get-markup-list",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:o},{name:"get-markup-one",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:o},{name:"get-svg-dom-str",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:o},{name:"del-markup",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:o},{name:"save-markup",headers:{"Content-Type":"multipart/form-data"},baseURL:o},{name:"markup-svg-png-upload",headers:{"Content-Type":"multipart/form-data"},baseURL:o},{name:"change-markup-state",headers:{"Content-Type":"multipart/form-data"},baseURL:o},{name:"save-comment",headers:{"Content-Type":"multipart/form-data"},baseURL:o},{name:"get-comment-replys",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:o},{name:"search-markup-list",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:o}];function r(e){const n={method:"GET",url:"modelMarkup/get-markup-list",dataOrParams:e,name:"get-markup-list",isToken:!1};return new Promise(((e,t)=>{(0,i.Z)(a,n).then((n=>e(n))).catch((e=>t(e)))}))}function l(e){const n={method:"GET",url:"modelMarkup/get-markup-one",dataOrParams:e,name:"get-markup-one",isToken:!1};return new Promise(((e,t)=>{(0,i.Z)(a,n).then((n=>e(n))).catch((e=>t(e)))}))}function s(e){const n={method:"POST",url:"/modelMarkup/markup-svg-png-upload",dataOrParams:e,name:"markup-svg-png-upload",isToken:!1};return new Promise(((e,t)=>{(0,i.Z)(a,n).then((n=>e(n))).catch((e=>t(e)))}))}function d(e){const n={method:"GET",url:"/modelMarkup/get-svg-dom-str",dataOrParams:e,name:"get-svg-dom-str",isToken:!1};return new Promise(((e,t)=>{(0,i.Z)(a,n).then((n=>e(n))).catch((e=>t(e)))}))}function c(e){const n={method:"DELETE",url:"/modelMarkup/del-markup",dataOrParams:e,name:"del-markup",isToken:!1};return new Promise(((e,t)=>{(0,i.Z)(a,n).then((n=>e(n))).catch((e=>t(e)))}))}function p(e){const n={method:"POST",url:"/modelMarkup/change-markup-state",dataOrParams:e,name:"change-markup-state",isToken:!1};return new Promise(((e,t)=>{(0,i.Z)(a,n).then((n=>e(n))).catch((e=>t(e)))}))}function m(e){const n={method:"POST",url:"/modelMarkupReplys/save-comment",dataOrParams:e,name:"save-comment",isToken:!1};return new Promise(((e,t)=>{(0,i.Z)(a,n).then((n=>e(n))).catch((e=>t(e)))}))}function f(e){const n={method:"GET",url:"/modelMarkupReplys/get-comment-replys",dataOrParams:e,name:"get-comment-replys",isToken:!1};return new Promise(((e,t)=>{(0,i.Z)(a,n).then((n=>e(n))).catch((e=>t(e)))}))}function h(e){const n={method:"GET",url:"/modelMarkup/search-markup-list",dataOrParams:e,name:"search-markup-list",isToken:!1};return new Promise(((e,t)=>{(0,i.Z)(a,n).then((n=>e(n))).catch((e=>t(e)))}))}},8611:(e,n,t)=>{var i=t(93379),o=t(90242);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=i(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var r=o.locals;e.hot.accept(90242,(function(){"string"==typeof(o=(o=t(90242)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,n){if(!e&&n||e&&!n)return!1;var t;for(t in e)if(e[t]!==n[t])return!1;for(t in n)if(!e[t])return!1;return!0}(r,o.locals)?(r=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},64453:(e,n,t)=>{var i=t(93379),o=t(3509);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=i(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var r=o.locals;e.hot.accept(3509,(function(){"string"==typeof(o=(o=t(3509)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,n){if(!e&&n||e&&!n)return!1;var t;for(t in e)if(e[t]!==n[t])return!1;for(t in n)if(!e[t])return!1;return!0}(r,o.locals)?(r=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},86006:(e,n,t)=>{var i=t(93379),o=t(60337);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=i(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var r=o.locals;e.hot.accept(60337,(function(){"string"==typeof(o=(o=t(60337)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,n){if(!e&&n||e&&!n)return!1;var t;for(t in e)if(e[t]!==n[t])return!1;for(t in n)if(!e[t])return!1;return!0}(r,o.locals)?(r=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}}},o={};function a(e){var n=o[e];if(void 0!==n){if(void 0!==n.error)throw n.error;return n.exports}var t=o[e]={id:e,loaded:!1,exports:{}};try{var r={id:e,module:t,factory:i[e],require:a};a.i.forEach((function(e){e(r)})),t=r.module,r.factory.call(t.exports,t,t.exports,r.require)}catch(e){throw t.error=e,e}return t.loaded=!0,t.exports}a.m=i,a.c=o,a.i=[],e=[],a.O=(n,t,i,o)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,i,o]=e[d],l=!0,s=0;s<t.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((e=>a.O[e](t[s])))?t.splice(s--,1):(l=!1,o<r&&(r=o));l&&(e.splice(d--,1),n=i())}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,i,o]},a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.hu=e=>e+"."+a.h()+".hot-update.js",a.hmrF=()=>"WDKitsSDK."+a.h()+".hot-update.json",a.h=()=>"7152d5a9c66f2a2ebb99",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),n={},t="wd-viewer:",a.l=(e,i,o,r)=>{if(n[e])n[e].push(i);else{var l,s;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var p=d[c];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==t+o){l=p;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+o),l.src=e),n[e]=[i];var m=(t,i)=>{l.onerror=l.onload=null,clearTimeout(f);var o=n[e];if(delete n[e],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((e=>e(i))),t)return t(i)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),s&&document.head.appendChild(l)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.j=665,(()=>{var e,n,t,i,o={},r=a.c,l=[],s=[],d="idle";function c(e){d=e;for(var n=0;n<s.length;n++)s[n].call(null,e)}function p(e){if(0===n.length)return e();var t=n;return n=[],Promise.all(t).then((function(){return p(e)}))}function m(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return c("check"),a.hmrM().then((function(i){if(!i)return c(u()?"ready":"idle"),null;c("prepare");var o=[];return n=[],t=[],Promise.all(Object.keys(a.hmrC).reduce((function(e,n){return a.hmrC[n](i.c,i.r,i.m,e,t,o),e}),[])).then((function(){return p((function(){return e?h(e):(c("ready"),o)}))}))}))}function f(e){return"ready"!==d?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):h(e)}function h(e){e=e||{},u();var n=t.map((function(n){return n(e)}));t=void 0;var o,a=n.map((function(e){return e.error})).filter(Boolean);if(a.length>0)return c("abort"),Promise.resolve().then((function(){throw a[0]}));c("dispose"),n.forEach((function(e){e.dispose&&e.dispose()})),c("apply");var r=function(e){o||(o=e)},l=[];return n.forEach((function(e){if(e.apply){var n=e.apply(r);if(n)for(var t=0;t<n.length;t++)l.push(n[t])}})),o?(c("fail"),Promise.resolve().then((function(){throw o}))):i?h(e).then((function(e){return l.forEach((function(n){e.indexOf(n)<0&&e.push(n)})),e})):(c("idle"),Promise.resolve(l))}function u(){if(i)return t||(t=[]),Object.keys(a.hmrI).forEach((function(e){i.forEach((function(n){a.hmrI[e](n,t)}))})),i=void 0,!0}a.hmrD=o,a.i.push((function(h){var u,g,v,w,b=h.module,k=function(t,i){var o=r[i];if(!o)return t;var a=function(n){if(o.hot.active){if(r[n]){var a=r[n].parents;-1===a.indexOf(i)&&a.push(i)}else l=[i],e=n;-1===o.children.indexOf(n)&&o.children.push(n)}else console.warn("[HMR] unexpected require("+n+") from disposed module "+i),l=[];return t(n)},s=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(n){t[e]=n}}};for(var m in t)Object.prototype.hasOwnProperty.call(t,m)&&"e"!==m&&Object.defineProperty(a,m,s(m));return a.e=function(e){return function(e){switch(d){case"ready":return c("prepare"),n.push(e),p((function(){c("ready")})),e;case"prepare":return n.push(e),e;default:return e}}(t.e(e))},a}(h.require,h.id);b.hot=(u=h.id,g=b,w={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:v=e!==u,_requireSelf:function(){l=g.parents.slice(),e=v?void 0:u,a(u)},active:!0,accept:function(e,n,t){if(void 0===e)w._selfAccepted=!0;else if("function"==typeof e)w._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var i=0;i<e.length;i++)w._acceptedDependencies[e[i]]=n||function(){},w._acceptedErrorHandlers[e[i]]=t;else w._acceptedDependencies[e]=n||function(){},w._acceptedErrorHandlers[e]=t},decline:function(e){if(void 0===e)w._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var n=0;n<e.length;n++)w._declinedDependencies[e[n]]=!0;else w._declinedDependencies[e]=!0},dispose:function(e){w._disposeHandlers.push(e)},addDisposeHandler:function(e){w._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=w._disposeHandlers.indexOf(e);n>=0&&w._disposeHandlers.splice(n,1)},invalidate:function(){switch(this._selfInvalidated=!0,d){case"idle":t=[],Object.keys(a.hmrI).forEach((function(e){a.hmrI[e](u,t)})),c("ready");break;case"ready":Object.keys(a.hmrI).forEach((function(e){a.hmrI[e](u,t)}));break;case"prepare":case"check":case"dispose":case"apply":(i=i||[]).push(u)}},check:m,apply:f,status:function(e){if(!e)return d;s.push(e)},addStatusHandler:function(e){s.push(e)},removeStatusHandler:function(e){var n=s.indexOf(e);n>=0&&s.splice(n,1)},data:o[u]},e=void 0,w),b.parents=l,b.children=[],l=[],h.require=k})),a.hmrC={},a.hmrI={}})(),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var n=a.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e,n,t,i,o={665:0},r={};function l(e){return new Promise(((n,t)=>{r[e]=n;var i=a.p+a.hu(e),o=new Error;a.l(i,(n=>{if(r[e]){r[e]=void 0;var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading hot update chunk "+e+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,t(o)}}))}))}function s(r){function l(e){for(var n=[e],t={},i=n.map((function(e){return{chain:[e],id:e}}));i.length>0;){var o=i.pop(),r=o.id,l=o.chain,d=a.c[r];if(d&&(!d.hot._selfAccepted||d.hot._selfInvalidated)){if(d.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:r};if(d.hot._main)return{type:"unaccepted",chain:l,moduleId:r};for(var c=0;c<d.parents.length;c++){var p=d.parents[c],m=a.c[p];if(m){if(m.hot._declinedDependencies[r])return{type:"declined",chain:l.concat([p]),moduleId:r,parentId:p};-1===n.indexOf(p)&&(m.hot._acceptedDependencies[r]?(t[p]||(t[p]=[]),s(t[p],[r])):(delete t[p],n.push(p),i.push({chain:l.concat([p]),id:p})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function s(e,n){for(var t=0;t<n.length;t++){var i=n[t];-1===e.indexOf(i)&&e.push(i)}}a.f&&delete a.f.jsonpHmr,e=void 0;var d={},c=[],p={},m=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var f in n)if(a.o(n,f)){var h,u=n[f],g=!1,v=!1,w=!1,b="";switch((h=u?l(f):{type:"disposed",moduleId:f}).chain&&(b="\nUpdate propagation: "+h.chain.join(" -> ")),h.type){case"self-declined":r.onDeclined&&r.onDeclined(h),r.ignoreDeclined||(g=new Error("Aborted because of self decline: "+h.moduleId+b));break;case"declined":r.onDeclined&&r.onDeclined(h),r.ignoreDeclined||(g=new Error("Aborted because of declined dependency: "+h.moduleId+" in "+h.parentId+b));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(h),r.ignoreUnaccepted||(g=new Error("Aborted because "+f+" is not accepted"+b));break;case"accepted":r.onAccepted&&r.onAccepted(h),v=!0;break;case"disposed":r.onDisposed&&r.onDisposed(h),w=!0;break;default:throw new Error("Unexception type "+h.type)}if(g)return{error:g};if(v)for(f in p[f]=u,s(c,h.outdatedModules),h.outdatedDependencies)a.o(h.outdatedDependencies,f)&&(d[f]||(d[f]=[]),s(d[f],h.outdatedDependencies[f]));w&&(s(c,[h.moduleId]),p[f]=m)}n=void 0;for(var k,y=[],x=0;x<c.length;x++){var C=c[x],E=a.c[C];E&&(E.hot._selfAccepted||E.hot._main)&&p[C]!==m&&!E.hot._selfInvalidated&&y.push({module:C,require:E.hot._requireSelf,errorHandler:E.hot._selfAccepted})}return{dispose:function(){var e;t.forEach((function(e){delete o[e]})),t=void 0;for(var n,i=c.slice();i.length>0;){var r=i.pop(),l=a.c[r];if(l){var s={},p=l.hot._disposeHandlers;for(x=0;x<p.length;x++)p[x].call(null,s);for(a.hmrD[r]=s,l.hot.active=!1,delete a.c[r],delete d[r],x=0;x<l.children.length;x++){var m=a.c[l.children[x]];m&&(e=m.parents.indexOf(r))>=0&&m.parents.splice(e,1)}}}for(var f in d)if(a.o(d,f)&&(l=a.c[f]))for(k=d[f],x=0;x<k.length;x++)n=k[x],(e=l.children.indexOf(n))>=0&&l.children.splice(e,1)},apply:function(e){for(var n in p)a.o(p,n)&&(a.m[n]=p[n]);for(var t=0;t<i.length;t++)i[t](a);for(var o in d)if(a.o(d,o)){var l=a.c[o];if(l){k=d[o];for(var s=[],m=[],f=[],h=0;h<k.length;h++){var u=k[h],g=l.hot._acceptedDependencies[u],v=l.hot._acceptedErrorHandlers[u];if(g){if(-1!==s.indexOf(g))continue;s.push(g),m.push(v),f.push(u)}}for(var w=0;w<s.length;w++)try{s[w].call(null,k)}catch(n){if("function"==typeof m[w])try{m[w](n,{moduleId:o,dependencyId:f[w]})}catch(t){r.onErrored&&r.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:f[w],error:t,originalError:n}),r.ignoreErrored||(e(t),e(n))}else r.onErrored&&r.onErrored({type:"accept-errored",moduleId:o,dependencyId:f[w],error:n}),r.ignoreErrored||e(n)}}}for(var b=0;b<y.length;b++){var x=y[b],C=x.module;try{x.require(C)}catch(n){if("function"==typeof x.errorHandler)try{x.errorHandler(n,{moduleId:C,module:a.c[C]})}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:C,error:t,originalError:n}),r.ignoreErrored||(e(t),e(n))}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:C,error:n}),r.ignoreErrored||e(n)}}return c}}}self.webpackHotUpdatewd_viewer=(e,t,o)=>{for(var l in t)a.o(t,l)&&(n[l]=t[l]);o&&i.push(o),r[e]&&(r[e](),r[e]=void 0)},a.hmrI.jsonp=function(e,o){n||(n={},i=[],t=[],o.push(s)),a.o(n,e)||(n[e]=a.m[e])},a.hmrC.jsonp=function(r,d,c,p,m,f){m.push(s),e={},t=d,n=c.reduce((function(e,n){return e[n]=!1,e}),{}),i=[],r.forEach((function(n){a.o(o,n)&&void 0!==o[n]&&(p.push(l(n)),e[n]=!0)})),a.f&&(a.f.jsonpHmr=function(n,t){e&&!a.o(e,n)&&a.o(o,n)&&void 0!==o[n]&&(t.push(l(n)),e[n]=!0)})},a.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(a.p+a.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))},a.O.j=e=>0===o[e];var d=(e,n)=>{var t,i,[r,l,s]=n,d=0;for(t in l)a.o(l,t)&&(a.m[t]=l[t]);if(s)var c=s(a);for(e&&e(n);d<r.length;d++)i=r[d],a.o(o,i)&&o[i]&&o[i][0](),o[r[d]]=0;return a.O(c)},c=self.webpackChunkwd_viewer=self.webpackChunkwd_viewer||[];c.forEach(d.bind(null,0)),c.push=d.bind(null,c.push.bind(c))})();var r=a.O(void 0,[839],(()=>a(80177)));return a.O(r)})()}));