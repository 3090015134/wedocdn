!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(self,(function(){return(()=>{var e,t,n,i={69394:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,'/* 弹出框最外层 */\n.msg__wrap {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  z-index: 10;\n  transition: all 0.3s;\n  transform: translate(-50%, -50%) scale(0, 0);\n  max-width: 50%;\n  min-width: 300px;\n  background: #f7f7f7;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  font-size: 10px;\n  outline: 0;\n  border: 0;\n  border-radius: 6px;\n  background-clip: padding-box;\n}\n.msg__wrap .msg-header {\n  padding: 10px;\n  font-size: 1.6em;\n  border-bottom: 1px solid #e8eaec;\n  color: #17233d;\n}\n.msg__wrap .msg-header .msg-header-close-button {\n  float: right;\n  cursor: pointer;\n}\n.msg__wrap .msg-body {\n  color: #515a6e;\n  max-height: 36em;\n  overflow: hidden;\n  overflow-y: auto;\n  /*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\n  /*定义滚动条轨道 内阴影+圆角*/\n  /*定义滑块 内阴影+圆角*/\n}\n.msg__wrap .msg-body::-webkit-scrollbar {\n  width: 7px;\n  height: 7px;\n  background-color: #f5f5f5;\n}\n.msg__wrap .msg-body::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  border-radius: 10px;\n  background-color: #f5f5f5;\n}\n.msg__wrap .msg-body::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.1);\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.1);\n  background-color: #c8c8c8;\n}\n.msg__wrap .msg-body .msg-body-icon {\n  width: 80px;\n}\n.msg__wrap .msg-body .msg-body-icon div {\n  width: 45px;\n  height: 45px;\n  margin: 0 auto;\n  line-height: 45px;\n  color: #fff;\n  border-radius: 50% 50%;\n  font-size: 2em;\n}\n.msg__wrap .msg-body .msg-body-icon .msg-body-icon-success {\n  background: #32a323;\n  text-align: center;\n}\n.msg__wrap .msg-body .msg-body-icon .msg-body-icon-success::after {\n  content: "成";\n}\n.msg__wrap .msg-body .msg-body-icon .msg-body-icon-wrong {\n  background: #ff8080;\n  text-align: center;\n}\n.msg__wrap .msg-body .msg-body-icon .msg-body-icon-wrong::after {\n  content: "误";\n}\n.msg__wrap .msg-body .msg-body-icon .msg-body-icon-info {\n  background: #80b7ff;\n  text-align: center;\n}\n.msg__wrap .msg-body .msg-body-icon .msg-body-icon-info::after {\n  content: "注";\n}\n.msg__wrap .msg-body .msg-body-content {\n  min-width: 200px;\n  font-size: 1.5em;\n  word-break: break-all;\n  display: flex;\n  align-items: center;\n  padding: 10px 28px;\n  box-sizing: border-box;\n  width: 100%;\n}\n.msg__wrap .msg-footer {\n  padding: 10px;\n  display: flex;\n  flex-direction: row-reverse;\n  border-top: 1px solid #e8eaec;\n}\n.msg__wrap .msg-footer .msg-footer-btn {\n  width: 66px;\n  height: 26px;\n  border: 0 none;\n  color: #fff;\n  outline: none;\n  font-size: 1em;\n  margin-left: 5px;\n  cursor: pointer;\n  border: 1px solid transparent;\n  display: inline-block;\n  margin-bottom: 0px;\n  font-weight: 400;\n  text-align: center;\n  vertical-align: middle;\n  touch-action: manipulation;\n  background-image: none;\n  white-space: nowrap;\n  user-select: none;\n  padding: 0px 15px;\n  border-radius: 4px;\n  transition: color 0.2s linear 0s, background-color 0.2s linear 0s, border 0.2s linear 0s, box-shadow 0.2s linear 0s;\n}\n.msg__wrap .msg-footer .msg-footer-cancel-button {\n  background-color: #ed4014;\n}\n.msg__wrap .msg-footer .msg-footer-cancel-button:active {\n  background-color: #ff6f6f;\n}\n.msg__wrap .msg-footer .msg-footer-cancel-button:hover {\n  background-color: #ff6f6f;\n}\n.msg__wrap .msg-footer .msg-footer-confirm-button {\n  color: #fff;\n  background: #41464b;\n}\n.msg__wrap .msg-footer .msg-footer-confirm-button:hover {\n  background-color: #41464bab;\n}\n.msg__wrap .msg-footer .msg-footer-confirm-button:active {\n  background-color: #41464bab;\n  opacity: 0.8;\n}\n/* 弹出框头部 */\n/* 弹出框中部 */\n/* 图标 */\n/* 内容 */\n/* 弹出框底部 */\n/* 遮罩层 */\n.msg__overlay {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 5;\n  background-color: rgba(0, 0, 0, 0.4);\n  transition: all 0.3s;\n  opacity: 0;\n}\n',""]),e.exports=t},23149:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,'.to__hiden {\n  display: none !important;\n}\n.to__item {\n  padding-left: 5px;\n  height: 40px;\n  line-height: 40px;\n  position: relative;\n}\n.to__item .icon-arrow {\n  margin-right: 3px;\n  width: 12px;\n  height: 12px;\n  background: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTUwNjMyODI5NzAyIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE3ODMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik05NTkuNTI1NTcgMjU0LjI5NzczIDUxMS42NzQ1ODkgNzAyLjMzNDk1MyA2My44MjQ2MzEgMjU0LjI5NzczWiIgcC1pZD0iMTc4NCIgZmlsbD0iI2RjZGVlMiI+PC9wYXRoPjwvc3ZnPg==");\n  display: inline-block;\n  vertical-align: middle;\n  transform: rotate(-90deg);\n  cursor: pointer;\n}\n.to__item .to__roate {\n  transform: rotate(0);\n}\n.to__item .to__prefix {\n  margin-right: 3px;\n  display: inline-block;\n  vertical-align: middle;\n}\n.to__item .to__name {\n  display: inline-block;\n  vertical-align: middle;\n  max-width: 128px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  cursor: pointer;\n}\n.to__item .to__number {\n  color: #999;\n  font-size: 12px;\n  display: inline-block;\n  vertical-align: middle;\n}\n.to__item .icon__round {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 10px;\n  margin: auto;\n  width: 16px;\n  height: 16px;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  border-radius: 50%;\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.to__item .icon__view {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 10px;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  border-radius: 50%;\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n}\n.to__item .icon__edit {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 10px;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  border-radius: 50%;\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n}\n.to__item .icon__del {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 10px;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  border-radius: 50%;\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n}\n.to__item .icon__add {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 10px;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  border-radius: 50%;\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n}\n.to__item .icon__round--false {\n  background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTUyNTMxNTkyNDA3IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQ4NTUiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEwLjQ0MzA0IDk0MC4zMTUwNDJjLTIzNy4zMjYxOTcgMC00MzAuMzk2NDQ3LTE5My4yMTI0OS00MzAuMzk2NDQ3LTQzMC42OTUyNTMgMC0yMzcuNTAyMjA2IDE5My4wNzAyNS00MzAuNzE3NzY1IDQzMC4zOTY0NDctNDMwLjcxNzc2NSAyMzcuMzAzNjg0IDAgNDMwLjQwNjY4IDE5My4yMzYwMjYgNDMwLjQwNjY4IDQzMC43MTc3NjVDOTQwLjg0OTcyIDc0Ny4xMDE1MjkgNzQ3Ljc5MTc0OSA5NDAuMzE1MDQyIDUxMC40NDMwNCA5NDAuMzE1MDQyek01MTAuNDQzMDQgMTI0LjQxNDU5MWMtMjEyLjIxMzIzOSAwLTM4NC44NjEzNjggMTcyLjc4MjE4Mi0zODQuODYxMzY4IDM4NS4xODI2ODYgMCAyMTIuNDAzNTc0IDE3Mi42NDcxMDUgMzg1LjE2MTE5NyAzODQuODYxMzY4IDM4NS4xNjExOTcgMjEyLjIyNDQ5NiAwIDM4NC44NzA1NzgtMTcyLjc4MjE4MiAzODQuODcwNTc4LTM4NS4xNjExOTdDODk1LjMxNDY0MSAyOTcuMTk2NzczIDcyMi42Njc1MzUgMTI0LjQxNDU5MSA1MTAuNDQzMDQgMTI0LjQxNDU5MXoiIHAtaWQ9IjQ4NTYiIGRhdGEtc3BtLWFuY2hvci1pZD0iYTMxM3guNzc4MTA2OS4wLmkwIiBjbGFzcz0ic2VsZWN0ZWQiIGZpbGw9IiNiZmJmYmYiPjwvcGF0aD48L3N2Zz4=");\n}\n.to__item .icon__round--true {\n  background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTUyNTMyMDc1NjY5IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjUgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE3ODkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwLjE5NTMxMjUiIGhlaWdodD0iMjAwIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik01MTEuOTc0NDAxIDBjLTI4Mi43NTUyNyAwLTUxMS45NzQ0MDEgMjI5LjIxOTEzMS01MTEuOTc0NDAxIDUxMS45NzQ0MDEgMCAyODIuNzU3MzE4IDIyOS4yMTkxMzEgNTExLjk3NDQwMSA1MTEuOTc0NDAxIDUxMS45NzQ0MDEgMjgyLjc1NzMxOCAwIDUxMS45NzQ0MDEtMjI5LjIxNzA4MyA1MTEuOTc0NDAxLTUxMS45NzQ0MDFDMTAyMy45NDg4MDMgMjI5LjIxOTEzMSA3OTQuNzI5NjcyIDAgNTExLjk3NDQwMSAwek04MDUuNjMwNjMgMzc5LjE3NDM4NSA0NzQuNTEwMTYyIDcxMC4yOTY5MDFjMCAwLTAuMDA0MDk2IDAuMDA0MDk2LTAuMDEwMjM5IDAuMDEwMjM5LTE1LjI2NTAyOSAxNS4yNjkxMjUtMzguNTQxNDMzIDE3LjY1Mjg3Ny01Ni4zMTEwNCA3LjE1NzQwMi0zLjI5MDk3MS0xLjk0NTUwMy02LjM5MzUzNi00LjMzMzM1MS05LjIxOTYzNS03LjE1NzQwMi0wLjAwMjA0OC0wLjAwNDA5Ni0wLjAwNjE0NC0wLjAwNjE0NC0wLjAwNjE0NC0wLjAwNjE0NGwtMTkwLjY0Mjg4NC0xOTAuNjQyODg0Yy0xOC4wOTUyMjMtMTguMDk1MjIzLTE4LjA5NTIyMy00Ny40Mzc1IDAtNjUuNTM2ODE5IDE4LjA5NTIyMy0xOC4wOTUyMjMgNDcuNDM3NS0xOC4wOTUyMjMgNjUuNTMyNzIzIDBsMTU3Ljg4NDcxNCAxNTcuODg0NzE0IDI5OC4zNjIyOTgtMjk4LjM2MjI5OGMxOC4wOTcyNzEtMTguMDk1MjIzIDQ3LjQzOTU0OC0xOC4wOTUyMjMgNjUuNTM0NzcxIDBDODIzLjcyNTg1NCAzMzEuNzM4OTMzIDgyMy43MjU4NTQgMzYxLjA3OTE2MiA4MDUuNjMwNjMgMzc5LjE3NDM4NXoiIHAtaWQ9IjE3OTAiIGZpbGw9IiMxMjk2ZGIiPjwvcGF0aD48L3N2Zz4=");\n}\n.to__item .to__close {\n  margin: auto 0;\n  position: absolute;\n  right: 12px;\n  top: 0;\n  bottom: 0;\n  width: 16px;\n  height: 16px;\n  background: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTUyNTMwMjU1NDU5IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMzIgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE5NTIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAxLjU2MjUiIGhlaWdodD0iMjAwIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik01MTAuOTUyNTQ3IDBjLTI4Mi4xOTA5MTcgMC01MTAuOTUyNTQ3IDIyOC43NjE2MzEtNTEwLjk1MjU0NyA1MTAuOTUyNTQ3IDAgMjgyLjE5Mjk2IDIyOC43NjE2MzEgNTEwLjk1MjU0NyA1MTAuOTUyNTQ3IDUxMC45NTI1NDcgMjgyLjE5Mjk2IDAgNTEwLjk1MjU0Ny0yMjguNzU5NTg3IDUxMC45NTI1NDctNTEwLjk1MjU0N0MxMDIxLjkwNTA5NSAyMjguNzYxNjMxIDc5My4xNDM0NjQgMCA1MTAuOTUyNTQ3IDB6TTczMC4wNjczOTQgNjYzLjgyOTU0OWMxOC4yOTIxMDEgMTguMjkyMTAxIDE4LjI5MjEwMSA0Ny45NDc3ODcgMCA2Ni4yMzk4ODgtMTguMjkyMTAxIDE4LjI5MjEwMS00Ny45NDc3ODcgMTguMjkyMTAxLTY2LjIzOTg4OCAwbC0xNTIuODc3MDAyLTE1Mi44NzcwMDItMTUyLjg3NzAwMiAxNTIuODc3MDAyYy0xOC4yOTIxMDEgMTguMjkyMTAxLTQ3Ljk0Nzc4NyAxOC4yOTIxMDEtNjYuMjM5ODg4IDAtMTguMjkyMTAxLTE4LjI5MjEwMS0xOC4yOTIxMDEtNDcuOTQ3Nzg3IDAtNjYuMjM5ODg4bDE1Mi44NzcwMDItMTUyLjg3NzAwMi0xNTIuODc3MDAyLTE1Mi44NzcwMDJjLTE4LjI5MjEwMS0xOC4yOTIxMDEtMTguMjkyMTAxLTQ3Ljk0Nzc4NyAwLTY2LjIzOTg4OCAxOC4yOTIxMDEtMTguMjkyMTAxIDQ3Ljk0Nzc4Ny0xOC4yOTIxMDEgNjYuMjM5ODg4IDBsMTUyLjg3NzAwMiAxNTIuODc3MDAyIDE1Mi44NzcwMDItMTUyLjg3NzAwMmMxOC4yOTIxMDEtMTguMjkyMTAxIDQ3Ljk0Nzc4Ny0xOC4yOTIxMDEgNjYuMjM5ODg4IDAgMTguMjkyMTAxIDE4LjI5MjEwMSAxOC4yOTIxMDEgNDcuOTQ3Nzg3IDAgNjYuMjM5ODg4bC0xNTIuODc3MDAyIDE1Mi44NzcwMDJMNzMwLjA2NzM5NCA2NjMuODI5NTQ5eiIgcC1pZD0iMTk1MyIgZmlsbD0iI2JmYmZiZiI+PC9wYXRoPjwvc3ZnPg==") no-repeat;\n  background-size: 100%;\n  display: inline-block;\n  cursor: pointer;\n}\n.to__parentName {\n  margin-left: 6px;\n  color: #999;\n  font-size: 12px;\n  display: inline-block;\n  vertical-align: middle;\n}\n.to__title {\n  line-height: 30px;\n  text-align: left;\n}\n.to__title .to__remark {\n  color: #999;\n  display: inline-block;\n}\n.to__content {\n  width: 100%;\n  height: 300px;\n  text-align: left;\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n.to__content .to__search {\n  position: relative;\n  height: 30px;\n  line-height: 30px;\n  border-bottom: 1px solid #ccc;\n}\n.to__content .to__search input {\n  padding-left: 20px;\n  padding-right: 100px;\n  width: 100%;\n  border: none;\n  box-sizing: border-box;\n}\n.to__content .to__search .to__icon__search {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 50px;\n  height: 30px;\n  border-left: 1px solid #ccc;\n}\n.to__content .to__search .to__icon__search svg {\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.to__subItem {\n  padding-left: 10px;\n}\n.to__split {\n  margin: auto 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  color: #999;\n  height: 30px;\n  line-height: 30px;\n  font-size: 20px;\n  transform: translateX(120%);\n}\n.to__split span:last-child {\n  margin-left: -16px;\n}\n',""]),e.exports=t},66453:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,"#toolbar-standards-rules-check .wedofont {\n  font-size: 26px !important;\n}\n#rules-check-panel .wd-model-rules .wd-tabs-nav {\n  border-bottom: 1px solid rgba(34, 34, 34, 0.8);\n}\n#rules-check-panel .wd-model-rules .wd-tabs-nav .wd-tabs-tab {\n  display: inline-block;\n  height: 100%;\n  padding: 8px 16px;\n  margin-right: 16px;\n  box-sizing: border-box;\n  cursor: pointer;\n  text-decoration: none;\n  position: relative;\n  transition: color 0.3s ease-in-out;\n}\n#rules-check-panel .wd-model-rules .wd-tabs-nav .wd-tabs-tab-active {\n  color: #fe7300;\n  border-bottom: 2px solid;\n}\n#rules-check-panel .wd-model-rules .wedo-rules-chek-list-container {\n  padding-bottom: 30px;\n  height: calc(100% - 41px);\n  box-sizing: border-box;\n  position: relative;\n  display: block;\n}\n#rules-check-panel .wd-model-rules .wedo-rules-chek-list-container .wedo-rules-chek-list {\n  height: 100%;\n  overflow-y: auto;\n  /*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\n  /*定义滚动条轨道 内阴影+圆角*/\n  /*定义滑块 内阴影+圆角*/\n}\n#rules-check-panel .wd-model-rules .wedo-rules-chek-list-container .wedo-rules-chek-list::-webkit-scrollbar {\n  width: 5px;\n  height: 5px;\n  border-radius: 5px;\n  background-color: #ededed;\n}\n#rules-check-panel .wd-model-rules .wedo-rules-chek-list-container .wedo-rules-chek-list::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\n  border-radius: 5px;\n  background-color: #ededed;\n}\n#rules-check-panel .wd-model-rules .wedo-rules-chek-list-container .wedo-rules-chek-list::-webkit-scrollbar-thumb {\n  border-radius: 5px;\n  box-shadow: inset 0 0 5px #222222;\n  -webkit-box-shadow: inset 0 0 5px #222222;\n  background-color: #939ca5;\n}\n#rules-check-panel .wd-model-rules .wedo-rules-chek-list-container .rules-footer {\n  height: 30px;\n  line-height: 30px;\n  bottom: 0px;\n  width: calc(100% + 10px);\n  left: -5px;\n  position: absolute;\n  text-align: center;\n  cursor: pointer;\n  color: #fff;\n  background-color: #222;\n  border-top: 1px solid rgba(34, 34, 34, 0.8);\n  border-bottom: 1px solid rgba(230, 230, 230, 0.8);\n}\n",""]),e.exports=t},62422:(e,t,n)=>{!function(e,t){let i=function(e){this._init(e)};i.prototype={_init({content:e="",type:t="info",useHTML:n=!1,showIcon:i=!0,confirm:o=null,cancle:s=null,footer:r=!0,header:l=!0,title:a="提示",contentStyle:d={},contentFontSize:c="1.5em",btnName:u=["确定","取消"]}){this.content=e,this.type=t,this.useHTML=n,this.showIcon=i,this.confirm=o,this.cancle=s,this.footer=r,this.header=l,this.title=a,this.contentStyle=d,this.contentFontSize=c,this.btnName=u,this._creatElement(),this._show({el:this._el,overlay:this._overlay}),this._bind({el:this._el,overlay:this._overlay})},_creatElement(){n(60055);let e=t.createElement("div");e.className="msg__wrap";const[i,o]=this.btnName,s=this.header?`<div class="msg-header">\n                    <span>${this.title}</span>\n                    <span class="msg-header-close-button">×</span>\n                </div>`:"",r=this.showIcon?`<div class="msg-body-icon">\n                    <div class="msg-body-icon-${this.type}"></div>\n                </div>`:"",l=this.footer?`<div class="msg-footer">\n                    <button class="msg-footer-btn msg-footer-cancel-button">${o}</button>\n                    <button class="msg-footer-btn msg-footer-confirm-button">${i}</button>\n                </div>`:"";e.innerHTML=`${s}\n            <div class="msg-body">\n                ${r}\n                <div class="msg-body-content"></div>                \n                <div class="loader" style="display:none">\n                    <svg viewBox="25 25 50 50" class="circular">\n                        <circle cx="50" cy="50" r="20" fill="none" stroke-width="1" stroke-miterlimit="10" class="path">\n                        </circle>\n                    </svg>\n                </div>\n            </div>\n            ${l}`;const a={fontSize:this.contentFontSize,...this.contentStyle};let d=e.querySelector(".msg-body .msg-body-content");for(const e in a)a.hasOwnProperty(e)&&(d.style[e]=a[e]);this.useHTML?this.content instanceof HTMLElement?d.appendChild(this.content):d.innerHTML=this.content:d.innerText=this.content;let c=t.createElement("div");c.className="msg__overlay",this._overlay=c,this._el=e},_show({el:e,overlay:n}){t.body.appendChild(e),t.body.appendChild(n),setTimeout((()=>{e.style.transform="translate(-50%,-50%) scale(1,1)",n.style.opacity="1"}))},_close({el:e,overlay:n}){e.style.transform="translate(-50%,-50%) scale(0,0)",n.style.opcity="0",setTimeout((()=>{t.body.removeChild(e),t.body.removeChild(n)}),300)},_bind({el:e,overlay:t}){const n=async n=>{this.showLoading(!0),this.cancle&&await this.cancle.call(this,n),this.showLoading(!1),this._close({el:e,overlay:t})};this.header&&e.querySelector(".msg-header-close-button").addEventListener("click",n),this.footer&&(e.querySelector(".msg-footer-cancel-button").addEventListener("click",n),e.querySelector(".msg-footer-confirm-button").addEventListener("click",(async n=>{this.showLoading(!0),this.confirm&&await this.confirm.call(this,n),this.showLoading(!1),this._close({el:e,overlay:t})})))},showLoading(e){this._el.querySelector(".loader").style.display=e?"block":"none"}},e.$Msg=i}(window,document)},15877:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ViewingExtensionRSC:()=>i});var i={};n.r(i);var o=n(54800),s=n(94069),r=n(87872),l=n(43884);function a(e){let t;return"array"===d(e)?(t=[],e.map(((e,n)=>{t[n]=a(e)}))):"object"===d(e)?(t={},Object.keys(e).map((n=>{t[n]=a(e[n])}))):t=e,t}function d(e){return{"[object Array]":"array","[object Object]":"object","[object Number]":"number","[object Function]":"function","[object String]":"string","[object Null]":"null","[object Undefined]":"undefined"}[Object.prototype.toString.call(e)]}function c(e="xxxxxxxxxxxx"){let t=(new Date).getTime();return e.replace(/[xy]/g,(function(e){const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:7&n|8).toString(16)}))}function u(e){e.id="wedo_id__"+(e.hasOwnProperty("id")?e.id:c()).toString().replaceAll("wedo_id__",""),e.orgId=(e.hasOwnProperty("id")?e.id:c()).replaceAll("wedo_id__","")}const h=function(){function e(e){this.data=e,this.linksData={},this.load()}return e.prototype.load=function(){let e=this,t=0,n=function(i,o,s=""){"array"===d(i)?(t++,i.map((function(e){n(e,o,s)})),t--):"object"===d(i)&&(i.isSearch=!i.hasOwnProperty("isSearch")||i.isSearch,i.open=!i.hasOwnProperty("open")||i.open,i.active=!!i.hasOwnProperty("active")&&i.active,i.parentId=s||i.parentId,u(i),i.isCatalog=i.isCatalog?i.isCatalog:i.children.length>0||i.childrenLen>0,i.level=t,i.childrenLen=i.hasOwnProperty("childrenLen")?i.childrenLen:null,e.linksData[i.id]=i,Object.keys(i).map((function(e){n(i[e],i.name,i.id)})))};n(this.data)},e.prototype.map=function(e){Object.keys(this.linksData).map(((t,n)=>{let i=this.linksData[t];e(i,n)}))},e.prototype.links=function(){return this.linksData},e.prototype.count=function(e){let t=0;return this.linksData[e].childrenLen>0&&0===this.linksData[e].children.length?this.linksData[e].childrenLen:(function e(n){n.map((n=>{n.children.length>0?e(n.children):(!0===n.isSearch&&!0!==n.isCatalog&&t++,n.childrenLen&&(t+=Number(n.childrenLen)))}))}(this.linksData[e].children),t)},e.prototype.data=function(){return this.data},e}(),p=function(){function e(e,t,i,o){n(74801),this.data=a(t),this._events={},this.isRenderResult=i,this.container=e,this.resultContainer=o}return e.prototype.template=function(e,t){let n=t.isCatalog||t.children.length>0||t.childrenLen>0?"("+e.count(t.id)+")":"";return this.createItem(e,t,n)},e.prototype.createItem=function(e,t,n){let i=!!t.isCatalog||t.children.length>0||t.childrenLen>0,o="wedofont "+(i?"wedo-folder-fill":"wedo-file-text"),s=i?t.open?"":"to__roate":"to__hiden",r=t.active?"icon__round--true":"icon__round--false",l=document.createElement("div");l.setAttribute("id",t.id);let a=document.createElement("div");a.setAttribute("class","to__item");let d=document.createElement("i");d.setAttribute("class","icon-arrow "+s),d.onclick=e=>{this.emit("arrowClick",t),this.reveal(e.target),console.log(this.tree)},a.appendChild(d);let c=document.createElement("span");c.setAttribute("class",`to__prefix ${o}`),a.appendChild(c);let u=document.createElement("span");u.setAttribute("class","to__name"),u.setAttribute("title",t.name),u.textContent=t.name,a.appendChild(u);let h=document.createElement("span");h.setAttribute("class","to__number"),h.textContent=n||"",a.appendChild(h);for(const e in this.optUis){let n=this.optUis[e].cloneNode(!0);n.onclick=()=>{this.emit(e,t)},a.appendChild(n)}let p=document.createElement("span");p.setAttribute("class","icon__round "+r),p.setAttribute("title",r.indexOf("true")<0?"选择":"取消选择"),p.onclick=e=>{this.choose(e.target)},a.appendChild(p);let m=document.createElement("div");return m.setAttribute("class","to__subItem"),l.appendChild(a),l.appendChild(m),l},e.prototype.render=function(){if(console.time("render"),!(this.container instanceof HTMLElement))return void console.error("没有提供给插件一个合理的容器！");this.updateData(),this.searchTimer=null;let e=document.createElement("div");e.setAttribute("id","wedo_tree_root");let t=[];this.tree.map((n=>{let i=!!n.isCatalog||n.children.length>0||n.childrenLen>0;if(!0===n.active&&!1===i&&t.push(n),n.isSearch||n.children.length>0){if(1===n.level){let t=document.createElement("div");t.appendChild(this.template(this.tree,n)),e.appendChild(t)}else{let t=e.querySelector("#"+n.parentId+" .to__subItem");if(t){let e=document.createElement("div");e.appendChild(this.template(this.tree,n)),t.appendChild(e)}}this.reveal(e,n.id)}})),this.container.innerHTML="",this.container.appendChild(e),this.isRenderResult&&this.renderRight(),this.emit("selectedItems",t),n(91403),tooltip(".wedo__tooltip",{transition:!0,time:200},void 0,void 0),console.timeEnd("render")},e.prototype.addDataOptUi=function(e){if("array"===d(e)){let t={},n=0,i=0;e.forEach((e=>{switch(++n,1==n?i=30:i+=23,e){case"view":var o=document.createElement("div");o.setAttribute("class","wedo__tooltip"),o.setAttribute("data-direction","right"),o.setAttribute("data-tip","预览");var s=document.createElement("span");s.setAttribute("class","icon__view wedofont wedo-View"),s.style.margin=`auto ${i}px auto 0`,o.appendChild(s),t.view=o;break;case"edit":var r=document.createElement("div");r.setAttribute("class","wedo__tooltip"),r.setAttribute("data-direction","top"),r.setAttribute("data-tip","编辑");var l=document.createElement("span");l.setAttribute("class","icon__edit wedofont wedo-edit"),l.style.margin=`auto ${i}px auto 0`,r.appendChild(l),t.edit=r;break;case"del":var a=document.createElement("div");a.setAttribute("class","wedo__tooltip"),a.setAttribute("data-direction","left"),a.setAttribute("data-tip","删除");var d=document.createElement("span");d.style.margin=`auto ${i}px auto 0`,d.setAttribute("class","icon__del wedofont wedo-delete"),a.appendChild(d),t.del=a;break;case"add":var c=document.createElement("div");c.setAttribute("class","wedo__tooltip"),c.setAttribute("data-direction","top"),c.setAttribute("data-tip","添加子集");var u=document.createElement("span");u.setAttribute("class","icon__add wedofont wedo-plus-circle"),u.setAttribute("title","添加子集"),u.style.margin=`auto ${i}px auto 0`,c.appendChild(u),t.add=c}})),this.optUis=t}else console.error("数据类型错误：参数config不是一个数组")},e.prototype.renderRight=function(){if(this.isRenderResult&&!(this.resultContainer instanceof HTMLElement))return void console.error("没有提供给插件一个合理的结果展示容器！");let e=document.createElement("div");this.tree.map((t=>{let n=!!t.isCatalog||t.children.length>0||t.childrenLen>0;if(!0===t.active&&t.parentId&&!1===n){let n="root"===t.parentId?"root":this.tree.linksData[t.parentId].name,i=document.createElement("div"),o=document.createElement("div");o.setAttribute("id",t.id);let s=document.createElement("div");s.setAttribute("class","to__item"),o.appendChild(s);let r=document.createElement("img");r.setAttribute("class","to__prefix"),r.setAttribute("src","public/static/img/header-icon.png"),s.appendChild(r);let l=document.createElement("span");l.setAttribute("class","to__name"),l.textContent=t.name,s.appendChild(l);let a=document.createElement("span");a.setAttribute("class","to__parentName"),a.textContent=n,s.appendChild(a);let d=document.createElement("span");d.setAttribute("class","to__close"),d.onclick=e=>{this.nodeCancel(e.target)},s.appendChild(d),i.appendChild(o),e.appendChild(i)}})),this.resultContainer.innerHTML="",this.resultContainer.appendChild(e)},e.prototype.reveal=function(e,t){if(t)e=e.querySelector("#"+t+"> .to__item > .icon-arrow");else{t=e.parentNode.parentNode.id;let n=this.tree.linksData[t];n.open=!n.open}let n=this.tree.linksData[t],i=n.isCatalog||n.children.length>0||n.childrenLen>0?n.open?"to__roate":"":"to__hiden";e.className="icon-arrow "+i;let o=e.parentNode.nextElementSibling;!0===n.open?o.className="to__subItem":o.className="to__subItem to__hiden"},e.prototype.choose=function(e){let t=this,n=e.parentNode.parentNode.id||e.parentNode.id,i=t.tree.linksData[n];i.active=!i.active,function e(n){let i=t.tree.linksData[n],o=i.parentId,s=t.tree.linksData[o];if(i.parentId&&"root"!==i.parentId){let t=s.children.filter((e=>!0===e.active));s.active=t.length===s.children.length,e.call(this,o)}}.call(this,n),new h(i).map((e=>{e.active=i.active})),this.render()},e.prototype.del=function(e){e.forEach((e=>{document.getElementById(e.id).parentElement.remove(),document.getElementById(e.parentId)&&!document.getElementById(e.parentId).getElementsByClassName("to__subItem")[0].children.length&&document.getElementById(e.parentId).remove(),function(e,t){function n(e,t){if(e.id===t){for(const t in e)delete e[t];return!0}if(e.children&&e.children.length>0)for(let i=e.children.length-1;i>=0;i--)!0===n(e.children[i],t)&&e.children.splice(i,1)}if(e instanceof Array)for(let i=0;i<e.length;i++)e[i].id===t?e.splice(i,1):n(e[i],t);else n(e,t)}(this.data,e.id)})),this.updateCount()},e.prototype.add=function(e){e.forEach((e=>{!function(e,t,n){function i(e){if(e.id===t)return null==e.children&&(e.children=[]),e.children.push(n),!0;if(e.children&&e.children.length>0)for(let t=e.children.length-1;t>=0;t--)i(e.children[t])}if(u(n),e instanceof Array)for(let t=0;t<e.length;t++)i(e[t]);else i(e)}(this.data,e.parentId,e);let t=document.createElement("div"),n=this.createItem(this.tree,e);t.appendChild(n),document.getElementById(e.parentId).querySelector(".to__subItem").appendChild(t),this.updateData(),this.reveal(n,e.id)})),this.updateCount()},e.prototype.update=function(e){e.forEach((e=>{!function(e,t){function n(e,t){if(e.id===t.id)return Object.getOwnPropertyNames(t).forEach((function(n){e[n]=t[n]})),!0;if(e.children&&e.children.length>0)for(let i=e.children.length-1;i>=0;i--)n(e.children[i],t)}if(e instanceof Array)for(let i=0;i<e.length;i++)n(e[i],t);else n(e,t)}(this.data,e)})),this.updateData(),this.render()},e.prototype.updateData=function(){this.tree=null,this.tree=new h(this.data),this.data=this.tree.data},e.prototype.updateCount=function(){let e=this;e.updateData(),function t(n){if(n&&n.length)for(let i=0;i<n.length;i++){if(n[i].children){let t=!!n[i].isCatalog||n[i].children.length>0||n[i].childrenLen>0;if(t){let o=document.getElementById(n[i].id);o&&t&&(o.querySelector(".to__number").innerHTML="("+e.tree.count(n[i].id)+")")}}t(n[i].children)}}(this.data)},e.prototype.nodeCancel=function(e){this.emit("nodeCancel"),this.choose(e)},e.prototype.search=function(e){clearTimeout(this.searchTimer),this.searchTimer=setTimeout((()=>{this.tree.map((t=>{t.isSearch=t.name.indexOf(e.value)>-1})),this.render()}),200)},e.prototype.on=function(e,t){return e.split(" ").forEach((e=>{this._events[e]=this._events[e]||[],this._events[e].push(t)})),this},e.prototype.off=function(e,t){if(void 0!==e)return e.split(" ").forEach((e=>{e in this._events&&(t?this._events[e].splice(this._events[e].indexOf(t),1):this._events[e]=[])})),this;this._events={}},e.prototype.emit=function(e){if(void 0===this._events[e])return null;for(var t=this._events[e].slice(),n=0;n<t.length;++n){var i=t[n].apply(this,Array.prototype.slice.call(arguments,1));if(void 0!==i)return i}},e}();var m=n(14100);const f=window.myGlobalParams.baseApi,g=[{name:"getModelsRules",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:f},{name:"delModelRule",headers:{"Content-Type":"multipart/form-data"},baseURL:f},{name:"updateModelRules",headers:{"Content-Type":"application/json"},baseURL:f},{name:"importCMRules",headers:{"Content-Type":"multipart/form-data"},baseURL:f},{name:"checkOriginalFileName",headers:{"Content-Type":"application/json"},baseURL:f},{name:"check-elevation-name",headers:{"Content-Type":"application/json"},baseURL:f},{name:"check-name-by-category",headers:{"Content-Type":"application/json"},baseURL:f},{name:"check-infos-by-category",headers:{"Content-Type":"application/json"},baseURL:f},{name:"get-original-file-names",headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:f}];var b=n(45301);class y{constructor(){this.items={},this.headIndex=0,this.tailIndex=0,this.listeners=[]}enqueue(e){e instanceof Function?(this.items[this.tailIndex]=e,this.tailIndex++):console.error("加入队列中的对象必须是一个函数")}dequeue(){const e=this.items[this.headIndex];return delete this.items[this.headIndex],this.headIndex++,this.length>0&&this.peek()(),e}peek(){return this.items[this.headIndex]}get length(){return this.tailIndex-this.headIndex}on(e,t){const n=this.listeners.findIndex((()=>t=>t.name===e));-1===n?this.listeners.push({name:e,callbacks:[t]}):this.listeners[n].callbacks.push(t)}emit(e,...t){if(0===this.listeners.length)return;const n=this.listeners.findIndex((()=>t=>t.name===e));this.listeners[n].callbacks.forEach((e=>{e(...t)}))}once(e,t){-1===this.listeners.findIndex((()=>t=>t.name===e))&&this.listeners.push({name:e,callbacks:[t]})}off(e,t){if(0===this.listeners.length)return;let n=this.listeners.findIndex((()=>t=>t.name===e));if(-1!==n){let e=this.listeners[n].callbacks;for(let n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}}}}class v extends l.Z{constructor(e){super(e),this.keys={},this.viewer=e,this.active=!1,this.viewer.toolController.registerTool(this),this.name="Revit建模规则校验",this.rulesListNodes=null,this.newDec={},this.newLinkStr={},this.newDecIns={},this.newName={},this.clientId=e.config.wedoConfig.clientId,this.analysisDisable=!0,this.checkRes={getResIds:[],res:[]},this.models=e.impl.modelQueue().getModels()}getNames(){return["VE.Rules.Check"]}getName(){return"VE.Rules.Check"}init(){if(!this.checkModels())return!0;n(87685),this.createPanel()}activate(){this.active||(this.active=!0,this.simplePanel.setVisible(!0))}deactivate(){this.active&&(this.active=!1,this.viewer.toolController.deactivateTool(this.getName()),this.rulesTool&&(this.rulesTool.remove(),this.rulesTool=null),this.emit("deactivate"),this.viewer&&this.simplePanel&&(this.simplePanel.setVisible(!1),this.viewer.removePanel(this.simplePanel),this.simplePanel.uninitialize()))}createPanel(){if(!document.getElementById("rules-check-panel")){const e=this.viewer.container,t=this.contentBox=this.creatContent();(this.simplePanel=new s.m(this.viewer,e,"rules-check-panel",this.name,t,"5","0",!1)).closer.addEventListener("click",(()=>{this.deactivate()}),!1)}}creatContent(){let e=document.createElement("div");e.style.minWidth="320px",e.style.height="100%",e.style.padding="0 5px";const t=s.Z.createSpinner({container:document.createElement("div"),className:"viewerGlobalLoading",spinnerStyle:{height:50,width:50},contents:"读取中……"});return this.on("AnimVisible",(e=>{t.style.display=e?"block":"none"})),e.appendChild(t),e.appendChild(this.createConTabs()),e}createConTabs(){let e=this;const t=document.createElement("div");t.setAttribute("class","wd-model-rules"),t.style.height="100%";const n=document.createElement("div");n.className="wd-tabs-nav";const i=document.createElement("div");i.className="wd-tabs-tab wd-tabs-tab-active",i.textContent="校验清单",i.onclick=e=>{s(1)},n.appendChild(i);const o=document.createElement("div");function s(t){1===t?(i.classList.add("wd-tabs-tab-active"),o.classList.remove("wd-tabs-tab-active"),e.contentsReport.style.display="none",e.contentsListContainer.style.display="block"):(o.classList.add("wd-tabs-tab-active"),i.classList.remove("wd-tabs-tab-active"),e.contentsReport.style.display="block",e.contentsListContainer.style.display="none")}return o.setAttribute("id","tab2"),o.className="wd-tabs-tab",o.textContent="校验报告",o.onclick=e=>{s(2)},n.appendChild(o),t.appendChild(n),t.appendChild(e.creatTab1Contents()),t.appendChild(e.creatTab2Contents()),t}creatTab1Contents(){let e=this;const t=this.contentsListContainer=document.createElement("div");t.className="wedo-rules-chek-list-container";const i=this.contentsList=document.createElement("div");return i.className="wedo-rules-chek-list",t.appendChild(i),t.appendChild(e.creatFixEleOnFooter()),e.getModelsRulesFromDb().then((t=>{n(62422),e.group=new p(i,t.data,!1),e.group.addDataOptUi(["view","edit","del"]),e.treeOnEvents(),e.treeRender()})).catch((e=>{console.error(e)})),t}treeOnEvents(){let e=this;this.group.on("selectedItems",(t=>{e.selectedItems=t})),this.group.on("arrowClick",(e=>{})),this.group.on("nodeCancel",(e=>{})),this.group.on("view",(e=>{this.viewClick(e)})),this.group.on("edit",(e=>{this.editClick(e)})),this.group.on("del",(e=>{this.delClick(e)}))}treeRender(){this.group.render()}creatFixEleOnFooter(){let e=this,t=[];const i=document.createElement("div");i.className="rules-footer",i.style.height="30px";const o=document.createElement("div");o.style.height="30px",n(91403);const s=document.createElement("span");s.style.left="10px",s.className="wedofont wedo-cloud-sync",t.push(s),s.addEventListener("click",(function(){e.getModelsRulesFromDb().then((t=>{e.group.data=t.data,e.treeRender()})).catch((e=>{console.error(e)}))}));const r=document.createElement("span");r.setAttribute("class","wedo__tooltip_footer"),r.setAttribute("data-tip","重载建模标准清单"),r.setAttribute("data-direction","top"),r.appendChild(s),tooltip(r,{transition:!0,time:200},void 0,void 0),o.appendChild(r);const l=document.createElement("span");l.style.left="40px",l.className="wedofont wedo-cloud-download",t.push(l),l.addEventListener("click",(function(){new Promise(((e,t)=>{f?e(f+"/model-rules/download-template-excel"):t()})).then((e=>{window.open(e,"_blank")}))}));const a=document.createElement("span");a.setAttribute("class","wedo__tooltip_footer"),a.setAttribute("data-tip","下载Excel模板"),a.setAttribute("data-direction","top"),a.appendChild(l),tooltip(a,{transition:!0,time:200},void 0,void 0),o.appendChild(a);const d=document.createElement("span");d.style.left="70px",d.className="wedofont wedo-cloud-upload",t.push(d),d.addEventListener("click",(function(){console.log("导入Excel模板");let t=document.createElement("input");t.style.display="none",t.setAttribute("type","file"),t.addEventListener("change",(function(){e.uploadExcel(t.files)})),t.click()}));const c=document.createElement("span");c.setAttribute("class","wedo__tooltip_footer"),c.setAttribute("data-tip","导入Excel模板"),c.setAttribute("data-direction","top"),c.appendChild(d),tooltip(c,{transition:!0,time:200},void 0,void 0),o.appendChild(c);const u=document.createElement("button");u.style.right="28px",u.style.height="28px",u.style.lineHeight="28px",u.style.border="0px",u.style.outline="none",u.style.color="#fff",u.style.cursor="pointer",u.style.backgroundColor="transparent",u.className="wedofont wedo-Field-time",t.push(u);const h=document.createElement("span");return h.setAttribute("class","wedo__tooltip_footer"),h.setAttribute("data-tip","开始分析"),h.setAttribute("data-direction","top"),h.appendChild(u),tooltip(h,{transition:!0,time:200},void 0,void 0),o.appendChild(h),u.addEventListener("click",(function(){if(e.selectedItems.length<=0)(0,b.y)("请先选择需要检查的项目！",3);else if(e.analysisDisable){e.analysisDisable=!1;let t=new URLSearchParams;t.append("clientId",e.clientId),t.append("fileNames",e.fileNames),function(e){const t={method:"GET",url:"model-rules/get-original-file-names",dataOrParams:e,name:"get-original-file-names",isToken:!0};return new Promise(((e,n)=>{(0,m.Z)(g,t).then((t=>e(t))).catch((e=>n(e)))}))}(t).then((t=>{e.fileName2originalName=t.data.data,document.querySelector("#tab2").click(),e.contentsReport.innerHTML="",e.tab2ContentsComputed()})).catch((e=>{console.error(e)}))}else(0,b.y)("已经有任务在分析了，请等待任务分析完成后再开始",3)})),t.forEach((e=>{e.style.position="absolute",e.style.fontSize="22px",e.style.lineHeight="30px",e.addEventListener("mouseenter",(function(){e.style.color="#fe7300"})),e.addEventListener("mouseleave",(function(){e.style.color="#fff"}))})),i.appendChild(o),i}createCard(e,t,n){let i=this,o=document.createElement("div");if(o.style.padding="10px",o.style.border="1px solid #dcdee2",o.style.borderColor="#e8eaec",o.style.display="block",o.style.background="#fff",o.style.borderRadius="4px",o.style.fontSize="14px",o.style.position="relative",o.style.transition="all .2s ease-in-out",o.style.margin="6px 0",t){let e=document.createElement("div");e.style.fontSize="0.8em",e.style.color="#ed4014",e.style.cursor="pointer",e.style.right="18px",e.style.float="right",e.textContent="删除",e.addEventListener("click",(function(){if(!(i.fieldsDatas&&i.fieldsDatas.length>0))return void console.error("数据为空！");o.parentElement.removeChild(o);const e=i.fieldsDatas;for(let t=0;t<e.length;t++){const i=e[t];i.field===n.field&&i.fieldsAllowValue===n.fieldsAllowValue&&e.splice(t,1)}i.updateContents(i.fieldsDatas),console.log(i.fieldsDatas)})),o.appendChild(e);let t=document.createElement("div");t.style.fontSize="0.8em",t.style.color="#2b85e4",t.style.cursor="pointer",t.style.right="18px",t.style.float="right",t.style.marginRight="5px",t.textContent="上移",t.addEventListener("click",(function(){i.fieldsDatas&&i.fieldsDatas.length>0||console.error("数据为空！");const e=i.fieldsDatas;let t=0,o=0,s=0;for(let i=0;i<e.length;i++){const r=e[i];r.field===n.field&&r.fieldsAllowValue===n.fieldsAllowValue&&(o=i,t=i-1,s=i>=e.length-1?-1:i+1)}var r,l;i.canMove(t,s,"up")?(r=i.fieldsDatas,0!==(l=o)?r[l]=r.splice(l-1,1,r[l])[0]:r.push(r.shift()),console.log(i.fieldsDatas),i.updateContents(i.fieldsDatas)):(0,b.y)("已经到顶了，不能再上移了！",3)})),o.appendChild(t);let s=document.createElement("div");s.style.fontSize="0.8em",s.style.color="#2b85e4",s.style.cursor="pointer",s.style.right="18px",s.style.float="right",s.style.marginRight="5px",s.textContent="下移",s.addEventListener("click",(function(){i.fieldsDatas&&i.fieldsDatas.length>0||console.error("数据为空！");const e=i.fieldsDatas;let t=0,o=0,s=0;for(let i=0;i<e.length;i++){const r=e[i];r.field===n.field&&r.fieldsAllowValue===n.fieldsAllowValue&&(o=i,t=i-1,s=i>=e.length-1?-1:i+1)}i.canMove(t,s,"dw")?(downGo(i.fieldsDatas,o),console.log(i.fieldsDatas),i.updateContents(i.fieldsDatas)):(0,b.y)("已经到顶了，不能再上移了！",3)})),o.appendChild(s);let r=document.createElement("div");r.style.fontSize="0.8em",r.style.color="#2b85e4",r.style.cursor="pointer",r.style.right="18px",r.style.float="right",r.style.marginRight="5px",r.textContent="置顶",r.addEventListener("click",(function(){i.fieldsDatas&&i.fieldsDatas.length>0||console.error("数据为空！");const e=i.fieldsDatas;let t=0,o=0,s=0;for(let i=0;i<e.length;i++){const r=e[i];r.field===n.field&&r.fieldsAllowValue===n.fieldsAllowValue&&(o=i,t=i-1,s=i>=e.length-1?-1:i+1)}var r,l;i.canMove(t,s,"up")?(r=i.fieldsDatas,0!==(l=o)&&r.unshift(r.splice(l,1)[0]),console.log(i.fieldsDatas),i.updateContents(i.fieldsDatas)):(0,b.y)("已经到顶了，不能再上移了！",3)})),o.appendChild(r);let l=document.createElement("div");l.style.fontSize="0.8em",l.style.color="#2b85e4",l.style.cursor="pointer",l.style.right="18px",l.style.float="right",l.style.marginRight="5px",l.textContent="置底",l.addEventListener("click",(function(){i.fieldsDatas&&i.fieldsDatas.length>0||console.error("数据为空！");const e=i.fieldsDatas;let t=0,o=0,s=0;for(let i=0;i<e.length;i++){const r=e[i];r.field===n.field&&r.fieldsAllowValue===n.fieldsAllowValue&&(o=i,t=i-1,s=i>=e.length-1?-1:i+1)}var r,l;i.canMove(t,s,"dw")?((l=o)!==(r=i.fieldsDatas).length-1&&r.push(r.splice(l,1)[0]),console.log(i.fieldsDatas),i.updateContents(i.fieldsDatas)):(0,b.y)("已经到顶了，不能再上移了！",3)})),o.appendChild(l)}return o.appendChild(e),o}createLinkStr(e,t){let i=this;i.newLinkStr[t]="";let o=document.createElement("div"),s=document.createElement("div");return s.style.padding="4px 7px",s.style.fontSize="1.1em",s.textContent="字段连接符:",o.appendChild(s),modelRules.linkStr.forEach((t=>{t.value===e?t.selectStatus=!0:t.selectStatus=!1})),n(51352),new $Selector({parentDom:o,options:modelRules.linkStr,multipleChoice:!1}).on("selected",(function(e){i.newLinkStr[t]=e[0].value})),this.createCard(o,!1)}createModelRuleNameDom(e,t){let n=this,i=document.createElement("div"),o=document.createElement("div");o.style.padding="4px 7px",o.style.fontSize="1.1em",o.textContent="规则名称:",i.appendChild(o);let s=document.createElement("input");return s.style.display="inline-block",s.style.width="100%",s.style.height="32px",s.style.lineHeight="1.5",s.style.padding="4px 7px",s.style.fontSize="14px",s.style.border="1px solid #dcdee2",s.style.borderRadius="4px",s.style.color="#c5c8ce",s.style.backgroundColor="#fff",s.style.backgroundImage="none",s.style.position="relative",s.style.cursor="text",s.style.transition="border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out",s.style.boxSizing="border-box",s.style.outline=0,s.value=e,s.addEventListener("focus",(function(){s.style.boxShadow="0 0 0 2px rgba(45, 140, 240, .2)"})),s.addEventListener("blur",(function(){s.style.boxShadow="none"})),s.addEventListener("mouseleave",(function(){s.style.borderColor="rgb(220, 222, 226)"})),s.addEventListener("mouseenter",(function(){s.style.borderColor="#57a3f3"})),s.addEventListener("change",(function(){s.style.color="#ed4014",n.newName[t]=s.value})),i.appendChild(s),this.createCard(i,!1)}creatEditContents(e,t){let n=this,i=t.field,o=t.fieldsAllowValue,s=document.createElement("div"),r=document.createElement("div");r.style.padding="4px 7px",r.style.fontSize="1.1em",r.textContent="字段"+e+":",s.appendChild(r);let l=document.createElement("input");l.style.display="inline-block",l.style.width="100%",l.style.height="32px",l.style.lineHeight="1.5",l.style.padding="4px 7px",l.style.fontSize="14px",l.style.border="1px solid #dcdee2",l.style.borderRadius="4px",l.style.color="#c5c8ce",l.style.backgroundColor="#fff",l.style.backgroundImage="none",l.style.position="relative",l.style.cursor="text",l.style.transition="border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out",l.style.boxSizing="border-box",l.style.outline=0,l.value=i,l.addEventListener("focus",(function(){l.style.boxShadow="0 0 0 2px rgba(45, 140, 240, .2)"})),l.addEventListener("blur",(function(){l.style.boxShadow="none"})),l.addEventListener("mouseleave",(function(){l.style.borderColor="rgb(220, 222, 226)"})),l.addEventListener("mouseenter",(function(){l.style.borderColor="#57a3f3"})),l.addEventListener("change",(function(){l.style.color="#ed4014",n.fieldsDatas[e-1].field=l.value})),s.appendChild(l);let a=document.createElement("div");a.style.padding="4px 7px",a.style.fontSize="1.1em",a.textContent="允许的值：",s.appendChild(a);let d=document.createElement("input");return d.style.display="inline-block",d.style.width="100%",d.style.height="32px",d.style.lineHeight="1.5",d.style.padding="4px 7px",d.style.fontSize="14px",d.style.border="1px solid #dcdee2",d.style.borderRadius="4px",d.style.color="#c5c8ce",d.style.backgroundColor="#fff",d.style.backgroundImage="none",d.style.position="relative",d.style.cursor="text",d.style.transition="border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out",d.style.boxSizing="border-box",d.style.outline=0,d.value=o,d.addEventListener("focus",(function(){d.style.boxShadow="0 0 0 2px rgba(45, 140, 240, .2)"})),d.addEventListener("blur",(function(){d.style.boxShadow="none"})),d.addEventListener("mouseleave",(function(){d.style.borderColor="rgb(220, 222, 226)"})),d.addEventListener("mouseenter",(function(){d.style.borderColor="#57a3f3"})),d.addEventListener("change",(function(){d.style.color="#ed4014",n.fieldsDatas[e-1].fieldsAllowValue=d.value})),s.appendChild(d),this.createCard(s,!0,t)}updateContents(e){let t=document.querySelector(".model-rules-contents-instance");t.innerHTML="",this.newDec[e[0].id]="",this.newDecIns[e[0].id]="";for(let n=0;n<e.length;n++){const i=e[n].field,o=e[n].fieldsAllowValue,s=e[n].id;t.appendChild(this.creatEditContents(n+1,{field:i,fieldsAllowValue:o,id:s}))}}creattEditContentsOfAddBtn(e){let t=this,n=document.createElement("button");return n.textContent="添加字段",n.style.marginTop="15px",n.style.color="#fff",n.style.width="100%",n.style.backgroundColor="#2d8cf0",n.style.borderColor="#2d8cf0",n.style.display="inline-block",n.style.marginBottom="0",n.style.fontWeight="400",n.style.textAlign="center",n.style.verticalAlign="middle",n.style.touchAction="manipulation",n.style.cursor="pointer",n.style.backgroundImage="none",n.style.border="1px solid transparent",n.style.whiteSpace="nowrap",n.style.userSelect="none",n.style.height="32px",n.style.padding="0 15px",n.style.fontSize="14px",n.style.borderRadius="4px",n.style.transition="color .2s linear,background-color .2s linear,border .2s linear,box-shadow .2s linear",n.style.outline=0,n.addEventListener("click",(function(n){let i={field:"",fieldsAllowValue:"",id:e.id};t.fieldsDatas.push(i),t.updateContents(t.fieldsDatas)})),n}canMove(e,t,n){return!(-1===e&&"up"===n||-1===t&&"dw"===n)}setAnimVisible(e){this.emit("AnimVisible",e)}getModelsRulesFromDb(){let e=this,t=e.clientId,n=this.models.map((e=>{let n=e.getPropertyDb().svf.basePath;return n.substring(n.indexOf(t)+t.length+1,n.indexOf("/output")<=0?n.length:n.indexOf("/output"))}));e.setAnimVisible(!0);let i=new URLSearchParams;return i.append("clientId",t),i.append("files",n),new Promise(((t,n)=>{(function(e){const t={method:"GET",url:"model-rules/get-models-rules",dataOrParams:e,name:"getModelsRules",isToken:!0};return new Promise(((e,n)=>{(0,m.Z)(g,t).then((t=>e(t))).catch((e=>n(e)))}))})(i).then((n=>{e.setAnimVisible(!1),t(n.data)})).catch((t=>{e.setAnimVisible(!1),n(t)}))}))}checkModels(){let e=this,t=e.models,n=!1;for(const e of t)if(!e.is3d()){t.shift(),n=!0;break}return n&&((0,b.y)("该拓展只支持Revit 3D模型",3),resolve(!1)),e.fileNames=e.models.map((t=>{let n=t.getPropertyDb().svf.basePath;return n.substring(n.indexOf(e.clientId)+e.clientId.length+1,n.indexOf("/output")<=0?n.length:n.indexOf("/output"))})),e.filePath2fileNameMaps={},e.models.map((t=>{let n=t.getPropertyDb().svf.basePath;return e.filePath2fileNameMaps[n]=n.substring(n.indexOf(e.clientId)+e.clientId.length+1,n.indexOf("/output")<=0?n.length:n.indexOf("/output")),!0})),!0}editClick(e){let t,n=this;if(!e.isCatalog){t=document.createElement("div"),t.style.width="100%",t.appendChild(n.createModelRuleNameDom(e.name,e.id)),t.appendChild(n.createLinkStr(e.linkStr,e.id));let i=document.createElement("div");i.setAttribute("class","model-rules-contents-instance");let o=e.dec.split(e.linkStr),s=e.decInstance.split(e.linkStr);n.newDec[e.id]="",n.newDecIns[e.id]="",n.fieldsDatas=[];for(let r=0;r<o.length;r++){const l=o[r],a=s[r],d=e.id;n.fieldsDatas.push({field:l,fieldsAllowValue:a,id:d}),i.appendChild(n.creatEditContents(r+1,{field:l,fieldsAllowValue:a,id:e.id})),t.appendChild(i)}t.appendChild(n.creattEditContentsOfAddBtn(e))}new $Msg({content:e.isCatalog?"目录是没有规则信息可以编辑的哟！":t,useHTML:!0,showIcon:!1,title:"编辑规则",contentStyle:{},contentFontSize:"1.4em",confirm:function(){if(!e.isCatalog){let t="",i="";n.fieldsDatas.forEach((e=>{t+=e.field+n.newLinkStr[e.id],i+=e.fieldsAllowValue+n.newLinkStr[e.id]}));let o=new RegExp(n.newLinkStr[e.id]+"$","gi");t=t.replace(o,""),i=i.replace(o,""),console.log(t,i),function(e){const t={method:"POST",url:"model-rules/update-model-rule",dataOrParams:e,name:"updateModelRules",isToken:!0};return new Promise(((e,n)=>{(0,m.Z)(g,t).then((t=>e(t))).catch((e=>n(e)))}))}({linkStr:n.newLinkStr[e.id],name:n.newName[e.id],dec:t,id:e.orgId,decInstance:i}).then((t=>{console.log(t),t.data.data.id=e.id,t.data.data.orgId=e.orgId,t.data.data.children=e.children,n.group.update([t.data.data])})).catch((e=>{console.error(e)}))}}})}delClick(e){let t=this;new $Msg({content:"您确定要删除吗？",useHTML:!1,showIcon:!1,title:"操作确认",contentStyle:{},contentFontSize:"1.4em",confirm:function(){t.setAnimVisible(!0);let n=new FormData,i=t.models.map((e=>e.getPropertyDb().svf.basePath));n.set("id",e.orgId),n.set("files",JSON.stringify(i)),function(e){const t={method:"POST",url:"model-rules/delete-model-rule",dataOrParams:e,name:"delModelRule",isToken:!0};return new Promise(((e,n)=>{(0,m.Z)(g,t).then((t=>e(t))).catch((e=>n(e)))}))}(n).then((n=>{t.setAnimVisible(!1),t.group.del([e])})).catch((e=>{console.error(e),t.setAnimVisible(!1)}))}})}viewClick(e){new $Msg({content:e.isCatalog?"目录是没有规则信息可以查看的哟！":e.dec,showIcon:!1,title:"规则提示",contentStyle:{},contentFontSize:"1.4em"})}uploadExcel(e){let t=this,n=t.clientId,i=new FormData;i.append("clientId",n),i.append("files",t.models.map((e=>{let t=e.getPropertyDb().svf.basePath;return t.substring(t.indexOf(n)+n.length+1,t.indexOf("/output")<=0?t.length:t.indexOf("/output"))}))),i.append("file",e[0]),function(e){const t={method:"POST",url:"model-rules/import-customer-models-rules",dataOrParams:e,name:"importCMRules",isToken:!0};return new Promise(((e,n)=>{(0,m.Z)(g,t).then((t=>e(t))).catch((e=>n(e)))}))}(i).then((e=>{console.log(e),t.group.data=e.data.data,t.treeRender()})).catch((e=>{console.error(e)})),console.log(e)}creatTab2Contents(){const e=this.contentsReport=document.createElement("div");return e.setAttribute("calss","wedo-rules-chek-report"),e.style.paddingBottom="30px",e.style.display="none",e.style.position="relative",e.style.height="calc(100% - 69px)",e}computedProgress(){let e=this.contentsReport.getElementsByClassName("wedo-process-spinner");e&&e[0]&&(e[0].querySelector(".contents").innerHTML=`分析中……(${this.selectedItems.length-this.queue.length}/${this.selectedItems.length})`),this.queue.dequeue(),0===this.queue.length&&(this.contentsReport.innerHTML="",this.analysisDisable=!0,this.contentsReport.appendChild(this.createResultDom()))}createResultDom(){let e=this,t=e.checkRes.getResIds.length>0,n=document.createElement("div"),i=document.createElement("div");i.style.margin="5px; 0",i.style.position="absolute",i.style.width="100%",i.style.margin="10px 0";let o=document.createElement("div");o.setAttribute("class",t?"wedofont wedo-close-circle-fill":"wedofont wedo-check-circle-fill"),o.style.color=t?"#ed4014":"#00cc66",o.style.fontSize="28px",o.style.position="relative",o.style.verticalAlign="middle",o.style.textAlign="center",i.appendChild(o);let s=document.createElement("div");return s.style.fontSize="14px",s.style.position="relative",s.style.textAlign="center",t?(s.style.cursor="pointer",s.innerHTML="有些不符合标准哦！点击我查看详情",s.addEventListener("click",(function(){let t=e.constructionTableDatas(e.checkRes.res),n=window.open(window.location.origin+"/public/draw-model-st/index.html","_blank");window.addEventListener("message",(function(e){e.origin===window.location.origin&&"init"===e.data.id&&n.postMessage(t,window.location.origin)}))}))):s.innerHTML="nice 模型通过建模标准审核啦！",i.appendChild(s),n.appendChild(i),n}constructionTableDatas(e){var t=[],n=this.fileName2originalName,i=this.selectedItems;for(let r=0;r<e.length;r++){const l=e[r];if(l.id===window.modelRules.assembleId[0]||l.id===window.modelRules.assembleId[1]){var o=window.modelRules.assembleIdAndName[l.id],s=l.name;l.checkResult.forEach((e=>{var n=e.ins,i=e.dbid,r=null,l=e.name;l.includes("[")&&(r=l.substring(l.indexOf("[")+1,l.indexOf("]"))),t.push({id:i,checkCategory:o,checkItem:s,originFileName:l,instance:n,revitId:r,dbid:i})}))}else l.checkResult.forEach((e=>{var o=window.modelRules.assembleIdAndName[l.id];e.ins.forEach((s=>{var r=i.filter((t=>e.stdId===t.orgId))[0].name,l=s.dbid,a=null,d=s.value?s.value:s.name;d.includes("[")&&(a=d.substring(d.indexOf("[")+1,d.indexOf("]")));var c;c=d.includes("[")?d.substring(0,d.indexOf("[")):d,t.push({id:l,checkCategory:o,checkItem:r,originFileName:n[e.name],instance:c,revitId:a,dbid:l})}))}))}return t}tab2ContentsComputed(){let e=this;const t=s.Z.createSpinner({container:document.createElement("div"),className:"wedo-process-spinner",spinnerStyle:{height:50,width:50},contents:`分析中……(0/${e.selectedItems.length})`});this.contentsReport.appendChild(t);const n=this.queue=new y;e.checkRes={getResIds:[],res:[]};for(let t=0;t<e.selectedItems.length;t++){const i=e.selectedItems[t];"1"===i.wbs||0===i.wbs.indexOf("1.")?n.enqueue((()=>{e.localCheckFileName(i.orgId).then((t=>{e.computedProgress()}))})):"2"===i.wbs||0===i.wbs.indexOf("2.")?n.enqueue((()=>{e.localCheckElevationName(i.orgId).then((t=>{e.computedProgress()}))})):"3"===i.wbs||0===i.wbs.indexOf("3.")?n.enqueue((()=>{e.localCheckNameByCategory(i.orgId).then((t=>{e.computedProgress()}))})):"4"===i.wbs||0===i.wbs.indexOf("4.")?n.enqueue((()=>{let t=0;for(const n of e.models)e.getDbidsFromSys(n,"系统类型",i.name).then((o=>{e.judgeColorByDbids(e.viewer,n,o,i.decInstance,i.orgId).then((n=>{t++,t===e.models.length&&e.computedProgress()})).catch((e=>{console.error(e)}))}))})):"5"!==i.wbs&&0!==i.wbs.indexOf("5.")||n.enqueue((()=>{e.localCheckInfosByCategory(i.orgId).then((t=>{e.computedProgress()}))}))}n.peek()()}localCheckFileName(e){let t=this,n=new URLSearchParams;return n.append("clientId",t.clientId),n.append("fileNames",t.fileNames),n.append("stdId",e),new Promise(((e,i)=>{(function(e){const t={method:"GET",url:"model-rules/check-original-file-name",dataOrParams:e,name:"checkOriginalFileName",isToken:!0};return new Promise(((e,n)=>{(0,m.Z)(g,t).then((t=>e(t))).catch((e=>n(e)))}))})(n).then((n=>{let i=n.data.data;for(const e of i)if(!e.check){let n={name:e.originalName,ins:[],dbid:null};t.assembleResult(modelRules.assembleId[0],n)}e(n)})).catch((e=>{console.error(e),i(e)}))}))}localCheckElevationName(e){let t=this,n=new URLSearchParams;return n.append("clientId",t.clientId),n.append("fileNames",t.fileNames),n.append("stdId",e),new Promise(((e,i)=>{(function(e){const t={method:"GET",url:"model-rules/check-elevation-name",dataOrParams:e,name:"check-elevation-name",isToken:!0};return new Promise(((e,n)=>{(0,m.Z)(g,t).then((t=>e(t))).catch((e=>n(e)))}))})(n).then((n=>{let i=n.data.data;for(const e of i)if(!e.check){let n={name:t.fileName2originalName[e.fileName],ins:e.violationElevations,dbid:null};t.assembleResult(modelRules.assembleId[1],n)}e(n)})).catch((e=>{console.error(e),i(e)}))}))}localCheckNameByCategory(e){let t=this,n=new URLSearchParams;return n.append("clientId",t.clientId),n.append("fileNames",t.fileNames),n.append("stdId",e),new Promise(((e,i)=>{(function(e){const t={method:"GET",url:"model-rules/check-name-by-category",dataOrParams:e,name:"check-name-by-category",isToken:!0};return new Promise(((e,n)=>{(0,m.Z)(g,t).then((t=>e(t))).catch((e=>n(e)))}))})(n).then((n=>{let i=n.data.data;for(const e of i)if(!e.check){let n={name:e.fileName,ins:e.violationDbids,stdId:e.stdId};t.assembleResult(modelRules.assembleId[2],n)}e(n)})).catch((e=>{console.error(e),i(e)}))}))}localCheckInfosByCategory(e){let t=this,n=new URLSearchParams;return n.append("clientId",t.clientId),n.append("fileNames",t.fileNames),n.append("stdId",e),new Promise(((e,i)=>{(function(e){const t={method:"GET",url:"model-rules/check-infos-by-category",dataOrParams:e,name:"check-infos-by-category",isToken:!0};return new Promise(((e,n)=>{(0,m.Z)(g,t).then((t=>e(t))).catch((e=>n(e)))}))})(n).then((n=>{let i=n.data.data;for(const e of i)if(!e.check){let n={name:e.fileName,ins:e.validationFfailed,stdId:e.stdId};t.assembleResult(modelRules.assembleId[4],n)}e(n)})).catch((e=>{console.error(e),i(e)}))}))}getDbidsFromSys(e,t="系统类型",n){return new Promise(((i,o)=>{e.getPropertyDb().executeUserFunction((0,r.CY)(),{condition:t,value:[n]}).then((function(o){0===o.length&&"系统类型"===t?e.getPropertyDb().executeUserFunction((0,r.CY)(),{condition:"类型",value:[n]}).then((function(e){i(e)})):i(o)})).catch((function(e){o(e)}))}))}judgeColorByDbids(e,t,n,i,o){let s=this;var r=[],l={model:t,br:[],check:!0},a=t.getData().instanceTree;for(const o of n)a.enumNodeFragments(o,(n=>{var s=e.impl.getRenderProxy(t,n).material,r=s.color;"MeshPhongMaterial"===s.type&&255*r.r+","+255*r.g+","+255*r.b!==i&&l.br.push(o)}));l.br=Array.from(new Set(l.br)),l.br.length>0&&(l.check=!1),r.push(l);let d=0;return new Promise(((e,n)=>{for(const i of r)i.check?(d++,d===r.length&&e()):t.getBulkProperties2(i.br,{propFilter:["name"],ignoreHidden:!1},(function(n){d++;let i={name:s.filePath2fileNameMaps[t.getPropertyDb().svf.basePath],ins:n,stdId:o};s.assembleResult(modelRules.assembleId[3],i),d===r.length&&e(n)}),(function(e){d++,n(e),console.error(e)}))}))}assembleResult(e,t){let n=this;if(0===n.checkRes.getResIds.length){let i={id:e,name:modelRules.assembleIdAndName[e],checkResult:[t]};n.checkRes.getResIds.push(e),n.checkRes.res.push(i)}else if(-1!==n.checkRes.getResIds.indexOf(e))n.checkRes.res[n.checkRes.getResIds.indexOf(e)].checkResult.push(t);else{let i={id:e,name:modelRules.assembleIdAndName[e],checkResult:[t]};n.checkRes.getResIds.push(e),n.checkRes.res.push(i)}console.log(n.checkRes)}}Autodesk.Viewing.theExtensionManager.registerExtension(v.ExtensionId,v);class w extends l.Z{constructor(e){super(e),this.keys={},this.viewer=e,this.active=!1,this.viewer.toolController.registerTool(this),this.models=e.impl.modelQueue().getModels(),this.name="规范检查"}getNames(){return["VE.Standars.Check"]}getName(){return"VE.Standars.Check"}init(){if(!this.checkModels())return!0;this.createPanel()}activate(){this.active||(this.active=!0,this.simplePanel.setVisible(!0))}deactivate(){this.active&&(this.active=!1,this.standardsTool&&(this.standardsTool.remove(),this.standardsTool=null),this.emit("deactivate"),this.viewer&&this.simplePanel&&(this.simplePanel.setVisible(!1),this.viewer.removePanel(this.simplePanel),this.simplePanel.uninitialize()))}createPanel(){if(!document.getElementById("standars-check-panel")){const e=this.viewer.container,t=this.contentBox=this.creatContent();(this.simplePanel=new s.m(this.viewer,e,"standars-check-panel",this.name,t,"5","0",null)).closer.addEventListener("click",(()=>{this.deactivate()}),!1)}}creatContent(){let e=document.createElement("div");const t=s.Z.createSpinner({container:document.createElement("div"),className:"viewerGlobalLoading",spinnerStyle:{height:100,width:100},contents:"功能规划中……"});return this.on("AnimVisible",(e=>{t.style.display=e?"block":"none"})),e.appendChild(t),e}setAnimVisible(e){this.emit("AnimVisible",e)}checkModels(){let e=this.models,t=!1;for(const n of e)if(!n.is3d()){e.shift(),t=!0;break}return!t||(Autodesk.Viewing.Private.AlertBox.displayError(this.viewer.container,"该拓展只支持Revit 3D模型","拓展使用错误！","img-unsupported",!1),!1)}}n(87685);class x extends o.Z{constructor(e,t={}){super(e,t),this.rulesTool=new v(e),this.standardsTool=new w(e),this.rulesTool.on("deactivate",(()=>{this._rulesControl.container.classList.remove("active"),s.Z.changeBtnIconCss(this._standardsControl,this.standardsTool.active,"standarsCheckBtn"),s.Z.changeBtnIconCss(this._rulesControl,this.rulesTool.active,"rulesCheckBtn"),this.standardsTool.active||this.rulesTool.active||this.deactivate()})),this.standardsTool.on("deactivate",(()=>{s.Z.changeBtnIconCss(this._standardsControl,this.standardsTool.active,"standarsCheckBtn"),s.Z.changeBtnIconCss(this._rulesControl,this.rulesTool.active,"rulesCheckBtn"),this.standardsTool.active||this.rulesTool.active||this.deactivate()})),this.btnClickEvts=[]}static get ExtensionId(){return"VE.RSC"}load(){return this.btnClickEvts.push({key:"model.rules",fun:this.modelRulesBtnClick.bind(this)}),this.btnClickEvts.push({key:"standars.rules",fun:this.standarsRulesBtnClick.bind(this)}),!0}modelRulesBtnClick(){this.rulesTool.active?(this.rulesTool.deactivate(),this._rulesControl.container.classList.remove("active"),this._comboCtrl.container.classList.remove("active")):(this.rulesTool.init(),this.rules()),s.Z.changeBtnIconCss(this._rulesControl,this.rulesTool.active,"rulesCheckBtn")}standarsRulesBtnClick(){this.standardsTool.active?(this.standardsTool.deactivate(),this._standardsControl.container.classList.remove("active"),this._comboCtrl.container.classList.remove("active")):(this.standardsTool.init(),this.standards()),s.Z.changeBtnIconCss(this._standardsControl,this.standardsTool.active,"standarsCheckBtn")}onToolbarCreated(){this._rulesControl=s.Z.createButton("toolbar-rules-check","wedofont wedo-model-rules","Revit建模规则检查",(()=>{this.modelRulesBtnClick()})),this._standardsControl=s.Z.createButton("toolbar-standars-check","wedofont wedo-standars-rules","GB规范检查",(()=>{this.standarsRulesBtnClick()})),this.parentControl=this._options.parentControl;var e=this._viewer.getToolbar(!0);if("string"==typeof this.parentControl&&(this.parentControl=e.getControl(this.parentControl)),!this.parentControl&&!this._options.hideControls){var t="wdkitsTools-1";this.parentControl=e.getControl(t)?e.getControl(t):new Autodesk.Viewing.UI.ControlGroup(t),e.addControl(this.parentControl)}this._comboCtrl=new Autodesk.Viewing.UI.ComboButton("toolbar-standards-rules-check"),this._comboCtrl.setToolTip("图纸和模型自动化核查工具集"),this._comboCtrl.icon.style.lineHeight="32px",this._comboCtrl.icon.innerHTML=this.createBtnGroupIcon(),this._comboCtrl.icon.className="standards-rules-check",this._comboCtrl.addControl(this._rulesControl),this._comboCtrl.addControl(this._standardsControl);var n=this._comboCtrl.onClick;this._comboCtrl.onClick=()=>{this._comboCtrl.container.classList.contains("active")?this.deactivate():n()},this._options.hideControls||this.parentControl.addControl(this._comboCtrl)}unload(){this.parentControl.removeControl(this._comboCtrl),this.rulesTool.deactivate(),this.standardsTool.deactivate()}deactivate(){this._rulesControl.container.classList.remove("active"),this._standardsControl.container.classList.remove("active"),this._comboCtrl.container.classList.remove("active"),this.rulesTool.deactivate(),this.standardsTool.deactivate()}createRulesBtnIcon(){return'\n        <span class="wedofont wedo-model-rules" style="line-height: 1;"></span>        \n        '}createStandardsBtnIcon(){return'\n        <span class="wedofont wedo-standars-rules" style="line-height: 1;"></span>        \n        '}createBtnGroupIcon(){return'\n            <span class="wedofont wedo-list-check"></span>\n        '}rules(){this.rulesTool.activate(),this._rulesControl.container.classList.add("active"),this.standardsTool.deactivate(),this._standardsControl.container.classList.remove("active"),this._comboCtrl.container.classList.add("active")}standards(){this.standardsTool.activate(),this._standardsControl.container.classList.add("active"),this.rulesTool.deactivate(),this._rulesControl.container.classList.remove("active"),this._comboCtrl.container.classList.add("active")}}Autodesk.Viewing.theExtensionManager.registerExtension(x.ExtensionId,x)},60055:(e,t,n)=>{var i=n(93379),o=n(69394);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s=i(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var r=o.locals;e.hot.accept(69394,(function(){"string"==typeof(o=(o=n(69394)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(r,o.locals)?(r=o.locals,s(o)):e.hot.invalidate()}))}e.hot.dispose((function(){s()})),e.exports=o.locals||{}},74801:(e,t,n)=>{var i=n(93379),o=n(23149);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s=i(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var r=o.locals;e.hot.accept(23149,(function(){"string"==typeof(o=(o=n(23149)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(r,o.locals)?(r=o.locals,s(o)):e.hot.invalidate()}))}e.hot.dispose((function(){s()})),e.exports=o.locals||{}},87685:(e,t,n)=>{var i=n(93379),o=n(66453);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s=i(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var r=o.locals;e.hot.accept(66453,(function(){"string"==typeof(o=(o=n(66453)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(r,o.locals)?(r=o.locals,s(o)):e.hot.invalidate()}))}e.hot.dispose((function(){s()})),e.exports=o.locals||{}}},o={};function s(e){var t=o[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var n=o[e]={id:e,loaded:!1,exports:{}};try{var r={id:e,module:n,factory:i[e],require:s};s.i.forEach((function(e){e(r)})),n=r.module,r.factory.call(n.exports,n,n.exports,r.require)}catch(e){throw n.error=e,e}return n.loaded=!0,n.exports}s.m=i,s.c=o,s.i=[],e=[],s.O=(t,n,i,o)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){for(var[n,i,o]=e[d],l=!0,a=0;a<n.length;a++)(!1&o||r>=o)&&Object.keys(s.O).every((e=>s.O[e](n[a])))?n.splice(a--,1):(l=!1,o<r&&(r=o));l&&(e.splice(d--,1),t=i())}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,i,o]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.hu=e=>e+"."+s.h()+".hot-update.js",s.hmrF=()=>"RSC."+s.h()+".hot-update.json",s.h=()=>"7152d5a9c66f2a2ebb99",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="wd-viewer:",s.l=(e,i,o,r)=>{if(t[e])t[e].push(i);else{var l,a;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+o){l=u;break}}l||(a=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",n+o),l.src=e),t[e]=[i];var h=(n,i)=>{l.onerror=l.onload=null,clearTimeout(p);var o=t[e];if(delete t[e],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((e=>e(i))),n)return n(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),a&&document.head.appendChild(l)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.j=832,(()=>{var e,t,n,i,o={},r=s.c,l=[],a=[],d="idle";function c(e){d=e;for(var t=0;t<a.length;t++)a[t].call(null,e)}function u(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return u(e)}))}function h(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return c("check"),s.hmrM().then((function(i){if(!i)return c(f()?"ready":"idle"),null;c("prepare");var o=[];return t=[],n=[],Promise.all(Object.keys(s.hmrC).reduce((function(e,t){return s.hmrC[t](i.c,i.r,i.m,e,n,o),e}),[])).then((function(){return u((function(){return e?m(e):(c("ready"),o)}))}))}))}function p(e){return"ready"!==d?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):m(e)}function m(e){e=e||{},f();var t=n.map((function(t){return t(e)}));n=void 0;var o,s=t.map((function(e){return e.error})).filter(Boolean);if(s.length>0)return c("abort"),Promise.resolve().then((function(){throw s[0]}));c("dispose"),t.forEach((function(e){e.dispose&&e.dispose()})),c("apply");var r=function(e){o||(o=e)},l=[];return t.forEach((function(e){if(e.apply){var t=e.apply(r);if(t)for(var n=0;n<t.length;n++)l.push(t[n])}})),o?(c("fail"),Promise.resolve().then((function(){throw o}))):i?m(e).then((function(e){return l.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):(c("idle"),Promise.resolve(l))}function f(){if(i)return n||(n=[]),Object.keys(s.hmrI).forEach((function(e){i.forEach((function(t){s.hmrI[e](t,n)}))})),i=void 0,!0}s.hmrD=o,s.i.push((function(m){var f,g,b,y,v=m.module,w=function(n,i){var o=r[i];if(!o)return n;var s=function(t){if(o.hot.active){if(r[t]){var s=r[t].parents;-1===s.indexOf(i)&&s.push(i)}else l=[i],e=t;-1===o.children.indexOf(t)&&o.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+i),l=[];return n(t)},a=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&"e"!==h&&Object.defineProperty(s,h,a(h));return s.e=function(e){return function(e){switch(d){case"ready":return c("prepare"),t.push(e),u((function(){c("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},s}(m.require,m.id);v.hot=(f=m.id,g=v,y={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:b=e!==f,_requireSelf:function(){l=g.parents.slice(),e=b?void 0:f,s(f)},active:!0,accept:function(e,t,n){if(void 0===e)y._selfAccepted=!0;else if("function"==typeof e)y._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var i=0;i<e.length;i++)y._acceptedDependencies[e[i]]=t||function(){},y._acceptedErrorHandlers[e[i]]=n;else y._acceptedDependencies[e]=t||function(){},y._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)y._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)y._declinedDependencies[e[t]]=!0;else y._declinedDependencies[e]=!0},dispose:function(e){y._disposeHandlers.push(e)},addDisposeHandler:function(e){y._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=y._disposeHandlers.indexOf(e);t>=0&&y._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,d){case"idle":n=[],Object.keys(s.hmrI).forEach((function(e){s.hmrI[e](f,n)})),c("ready");break;case"ready":Object.keys(s.hmrI).forEach((function(e){s.hmrI[e](f,n)}));break;case"prepare":case"check":case"dispose":case"apply":(i=i||[]).push(f)}},check:h,apply:p,status:function(e){if(!e)return d;a.push(e)},addStatusHandler:function(e){a.push(e)},removeStatusHandler:function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1)},data:o[f]},e=void 0,y),v.parents=l,v.children=[],l=[],m.require=w})),s.hmrC={},s.hmrI={}})(),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e,t,n,i,o={832:0},r={};function l(e){return new Promise(((t,n)=>{r[e]=t;var i=s.p+s.hu(e),o=new Error;s.l(i,(t=>{if(r[e]){r[e]=void 0;var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;o.message="Loading hot update chunk "+e+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,n(o)}}))}))}function a(r){function l(e){for(var t=[e],n={},i=t.map((function(e){return{chain:[e],id:e}}));i.length>0;){var o=i.pop(),r=o.id,l=o.chain,d=s.c[r];if(d&&(!d.hot._selfAccepted||d.hot._selfInvalidated)){if(d.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:r};if(d.hot._main)return{type:"unaccepted",chain:l,moduleId:r};for(var c=0;c<d.parents.length;c++){var u=d.parents[c],h=s.c[u];if(h){if(h.hot._declinedDependencies[r])return{type:"declined",chain:l.concat([u]),moduleId:r,parentId:u};-1===t.indexOf(u)&&(h.hot._acceptedDependencies[r]?(n[u]||(n[u]=[]),a(n[u],[r])):(delete n[u],t.push(u),i.push({chain:l.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];-1===e.indexOf(i)&&e.push(i)}}s.f&&delete s.f.jsonpHmr,e=void 0;var d={},c=[],u={},h=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var p in t)if(s.o(t,p)){var m,f=t[p],g=!1,b=!1,y=!1,v="";switch((m=f?l(p):{type:"disposed",moduleId:p}).chain&&(v="\nUpdate propagation: "+m.chain.join(" -> ")),m.type){case"self-declined":r.onDeclined&&r.onDeclined(m),r.ignoreDeclined||(g=new Error("Aborted because of self decline: "+m.moduleId+v));break;case"declined":r.onDeclined&&r.onDeclined(m),r.ignoreDeclined||(g=new Error("Aborted because of declined dependency: "+m.moduleId+" in "+m.parentId+v));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(m),r.ignoreUnaccepted||(g=new Error("Aborted because "+p+" is not accepted"+v));break;case"accepted":r.onAccepted&&r.onAccepted(m),b=!0;break;case"disposed":r.onDisposed&&r.onDisposed(m),y=!0;break;default:throw new Error("Unexception type "+m.type)}if(g)return{error:g};if(b)for(p in u[p]=f,a(c,m.outdatedModules),m.outdatedDependencies)s.o(m.outdatedDependencies,p)&&(d[p]||(d[p]=[]),a(d[p],m.outdatedDependencies[p]));y&&(a(c,[m.moduleId]),u[p]=h)}t=void 0;for(var w,x=[],M=0;M<c.length;M++){var I=c[M],C=s.c[I];C&&(C.hot._selfAccepted||C.hot._main)&&u[I]!==h&&!C.hot._selfInvalidated&&x.push({module:I,require:C.hot._requireSelf,errorHandler:C.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete o[e]})),n=void 0;for(var t,i=c.slice();i.length>0;){var r=i.pop(),l=s.c[r];if(l){var a={},u=l.hot._disposeHandlers;for(M=0;M<u.length;M++)u[M].call(null,a);for(s.hmrD[r]=a,l.hot.active=!1,delete s.c[r],delete d[r],M=0;M<l.children.length;M++){var h=s.c[l.children[M]];h&&(e=h.parents.indexOf(r))>=0&&h.parents.splice(e,1)}}}for(var p in d)if(s.o(d,p)&&(l=s.c[p]))for(w=d[p],M=0;M<w.length;M++)t=w[M],(e=l.children.indexOf(t))>=0&&l.children.splice(e,1)},apply:function(e){for(var t in u)s.o(u,t)&&(s.m[t]=u[t]);for(var n=0;n<i.length;n++)i[n](s);for(var o in d)if(s.o(d,o)){var l=s.c[o];if(l){w=d[o];for(var a=[],h=[],p=[],m=0;m<w.length;m++){var f=w[m],g=l.hot._acceptedDependencies[f],b=l.hot._acceptedErrorHandlers[f];if(g){if(-1!==a.indexOf(g))continue;a.push(g),h.push(b),p.push(f)}}for(var y=0;y<a.length;y++)try{a[y].call(null,w)}catch(t){if("function"==typeof h[y])try{h[y](t,{moduleId:o,dependencyId:p[y]})}catch(n){r.onErrored&&r.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:p[y],error:n,originalError:t}),r.ignoreErrored||(e(n),e(t))}else r.onErrored&&r.onErrored({type:"accept-errored",moduleId:o,dependencyId:p[y],error:t}),r.ignoreErrored||e(t)}}}for(var v=0;v<x.length;v++){var M=x[v],I=M.module;try{M.require(I)}catch(t){if("function"==typeof M.errorHandler)try{M.errorHandler(t,{moduleId:I,module:s.c[I]})}catch(n){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:I,error:n,originalError:t}),r.ignoreErrored||(e(n),e(t))}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:I,error:t}),r.ignoreErrored||e(t)}}return c}}}self.webpackHotUpdatewd_viewer=(e,n,o)=>{for(var l in n)s.o(n,l)&&(t[l]=n[l]);o&&i.push(o),r[e]&&(r[e](),r[e]=void 0)},s.hmrI.jsonp=function(e,o){t||(t={},i=[],n=[],o.push(a)),s.o(t,e)||(t[e]=s.m[e])},s.hmrC.jsonp=function(r,d,c,u,h,p){h.push(a),e={},n=d,t=c.reduce((function(e,t){return e[t]=!1,e}),{}),i=[],r.forEach((function(t){s.o(o,t)&&void 0!==o[t]&&(u.push(l(t)),e[t]=!0)})),s.f&&(s.f.jsonpHmr=function(t,n){e&&!s.o(e,t)&&s.o(o,t)&&void 0!==o[t]&&(n.push(l(t)),e[t]=!0)})},s.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(s.p+s.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))},s.O.j=e=>0===o[e];var d=(e,t)=>{var n,i,[r,l,a]=t,d=0;for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(a)var c=a(s);for(e&&e(t);d<r.length;d++)i=r[d],s.o(o,i)&&o[i]&&o[i][0](),o[r[d]]=0;return s.O(c)},c=self.webpackChunkwd_viewer=self.webpackChunkwd_viewer||[];c.forEach(d.bind(null,0)),c.push=d.bind(null,c.push.bind(c))})();var r=s.O(void 0,[839],(()=>s(15877)));return s.O(r)})()}));