/*!
 * LMV v7.8.0
 * 
 * Copyright 2019 Autodesk, Inc.
 * All rights reserved.
 * 
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 * 
 * Autodesk Forge Viewer Usage Limitations:
 * 
 * The Autodesk Forge viewer can only be used to view files generated by
 * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be
 * delivered from an Autodesk hosted URL.
 */
Autodesk.Extensions.webVR=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=466)}({1:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),r=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[n].concat(r).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},2:function(e,t,n){var o,i,r={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},c=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=s.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),l=null,u=0,d=[],f=n(3);function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(w(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(w(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],a=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function g(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=c(e.insertAt.before,n);n.insertBefore(t,i)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return n.nc}();o&&(e.attrs.nonce=o)}return b(t,e.attrs),g(e,t),t}function b(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function w(e,t){var n,o,i,r;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var a=u++;n=l||(l=m(t)),o=E.bind(null,n,a,!1),i=E.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),g(e,t),t}(t),o=R.bind(null,n,t),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),o=T.bind(null,n),i=function(){v(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}e&&p(h(e,t),t);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete r[s.id]}}}};var A,y=(A=[],function(e,t){return A[e]=t,A.filter(Boolean).join("\n")});function E(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function T(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function R(e,t,n){var o=n.css,i=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(o=f(o)),i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},260:function(e,t,n){var o=n(261);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(e.exports=o.locals)},261:function(e,t,n){(e.exports=n(1)(!1)).push([e.i,'.adsk-icon-webvr{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAc1JREFUSA3tVL2KwkAQnsSgpYKCtaIgCNaCja0gYiHY6Qv4BsFnsLLwFawsLSy0VBQbLQT/CxFEsFIUdW4ndy4uGy9y3jWHAyH5Zr6ZyXyzCcDbLBRQWBwtOC+FtUwmA4lEAhB/t4+qqrDb7QA6nQ6r/XemvjT/E8kqe/cnaD+nmE5wOByg2+3CcDi0rEw6t9ttmEwm5lwWFBawXq8xlUqh3W5Hp9OJuq7j6XQSODcwGAwwGo2ipmno9XqxUqncQvxO3Tmgh2KxSJrxy2azYaPREDgErtcrZrNZzqMct9uNo9FI4EoSTadTYdTL5QKr1UrwEWANYLFYCP7tdgubzUbwSQ3ou3A4HJwUCAQgFosZ+Hw+AxUhY5MBce8tHo9DOBy+d4EkEY1erVYxnU5jPp/HXq9njMyWiblcDkOhEJZKJcN3PB6xXC5jMpnEQqGAs9lMkIeA1EBifDlogezVjMvlciEt+BmTJBLn+0Skd61W4yE6mvV6nePvHlTS0sqWyyX0+32B1mw2BfwIaOPxGCKRyMOfnaIo0Gq1gH0fQg1qyI4k+P1+01zK2+/3oHg8HvT5fKYkqkjE+XwuHT+KBYNBYPswzb01IN7b/rkCH+c1AQdiGKHcAAAAAElFTkSuQmCC");background-repeat:no-repeat;background-position:center}.webvr-polyfill-fullscreen-wrapper canvas{width:100% !important;height:100% !important}\n',""])},3:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},466:function(e,t,n){"use strict";function o(e,t,n,o){var i,r,a,s,c,l=Autodesk.Viewing.Private,u=e.getEyeParameters("left"),d=e.getEyeParameters("right"),f=new THREE.Vector3,p=new THREE.Vector3,h=new THREE.PerspectiveCamera,g=new THREE.PerspectiveCamera,v=10*e.modelScaleFactor,m=null,b=this;function w(e,t,n,o,i){e.matrixWorld.decompose(i.position,i.quaternion,i.scale),o&&i.position.set(0,0,0),i.translateOnAxis(n?f:p,v),i.projectionMatrix.elements=n?t.leftProjectionMatrix:t.rightProjectionMatrix}this.init=function(n,c,h){i=new l.RenderContext,r=n;var g=1.5*b.getWindow().devicePixelRatio;a=2*e.getEyeParameters("left").renderWidth/g,s=e.getEyeParameters("right").renderHeight/g,this.settings=i.settings,i.init(r,a,s),f.fromArray(u.offset),p.fromArray(d.offset),m=new VRFrameData,t.worldup&&1==t.worldup.z&&(o.webVR_orbitModel=!1)},this.modeFusion=function(n){var o=new THREE.Vector3(0,0,1);o.applyQuaternion((new THREE.Quaternion).fromArray(n.orientation)).multiplyScalar(2.1*v),t.position.set(o.x,o.y,o.z),t.lookAt(e.target),t.up.set(0,1,0)},this.modeWalkthrough=function(e){e.orientation&&0!=e.orientation[1]&&t.quaternion.fromArray(e.orientation),e.position&&0!=e.position[0]&&t.position.fromArray(e.position).multiplyScalar(v),t.worldup&&1==t.worldup.z&&(t.quaternion.setFromAxisAngle(new THREE.Vector3(1,0,0),Math.PI/2),t.quaternion.multiply((new THREE.Quaternion).fromArray(e.orientation)),e.position&&0!=e.position[0]&&t.position.set(t.position.x,-t.position.z,t.position.y));var n=new THREE.Vector3(0,0,-1);n.applyQuaternion(t.quaternion),t.target=t.position.clone().add(n.clone().multiplyScalar(10))},this.updateCamera=function(){if(e&&e._isPresenting&&(e.depthNear=t.near,e.depthFar=t.far,e.getFrameData(m),(c=m.pose).orientation))return o.webVR_orbitModel?this.modeFusion(c):this.modeWalkthrough(c),t.updateMatrixWorld(),t.dirty=!0,w(t,m,!0,!1,h),w(t,m,!1,!1,g),n&&(n.camera=t.clone(),n.camera.position.set(0,0,0),w(t,m,!0,!0,n.cameraL),w(t,m,!1,!0,n.cameraR)),{L:h,R:g,C:t}},this.beginScene=function(e,n,o,r){i.beginScene(e,t,o,r)},this.renderScenePart=function(e,t,o,c,l){var u=a/2;r.setViewport(0,0,u,s),i.setCamera(h),i.renderScenePart(e,!0,!1,!1,!1),r.setViewport(u,0,u,s),i.setCamera(g),i.renderScenePart(e,!0,!1,!1,!1),n&&(r.setViewport(0,0,u,s),i.setCamera(n.cameraL),i.renderScenePart(n.scene,!0,!1,!1,!1),r.setViewport(u,0,u,s),i.setCamera(n.cameraR),i.renderScenePart(n.scene,!0,!1,!1,!1)),r.setViewport(0,0,a,s)},this.sceneDirty=function(e,t){i.sceneDirty(e,t)},this.endScene=function(){i.endScene()},this.clearAllOverlays=function(){},this.renderOverlays=function(e){},this.composeFinalFrame=function(t,n){i.composeFinalFrame(!0,n),e._isPresenting&&e.submitFrame()},this.cleanup=function(){i.cleanup()},this.setSize=function(e,t,n){a=e,s=t,i.setSize(a,s,n)},this.getMaxAnisotropy=function(){return i.getMaxAnisotropy()},this.hasMRT=function(){return i.hasMRT()},this.initPostPipeline=function(e,t,n){i.initPostPipeline(!1,!1,!1)},this.setClearColors=function(e,t){i.setClearColors(e,t)},this.setAOOptions=function(e,t){i.setAOOptions(e,t)},this.getAORadius=function(){return i.getAORadius()},this.getAOIntensity=function(){return i.getAOIntensity()},this.setTonemapExposureBias=function(e){i.setTonemapExposureBias(e)},this.getExposureBias=function(){return i.getExposureBias()},this.setTonemapMethod=function(e){i.setTonemapMethod(e)},this.getToneMapMethod=function(){return i.getToneMapMethod()},this.toggleTwoSided=function(e){i.toggleTwoSided(e)},this.enter2DMode=function(e){i.enter2DMode(e)},this.getAOEnabled=function(){return!1},this.idAtPixel=function(e,t){return 0},this.setHighlightLights=function(e){},this.setStencilEnabled=function(e){},this.setEdgeColor=function(e){},this.overlayUpdate=function(e){i.overlayUpdate(e)},this.rolloverObjectViewport=function(e,t){},this.screenCapture=function(){return console.warn("Screen capture not implemented by stereo render context"),null},this.setUnitScale=function(e){i.setUnitScale(e)},this.getUnitScale=function(){return i.getUnitScale()},this.getColorTarget=function(){return null}}function i(e){var t,n,o,i,r=16777215;this.init=function(e){if(!t){var o=Autodesk.Viewing.Private.getResourceUrl,i=THREE.ImageUtils;i.crossOrigin="anonymous";var a=["back.png","zoomin.png","zoomout.png","next.png"];t=new THREE.Object3D,n=new THREE.Object3D;var s=new THREE.Object3D;s.position.set(0,-12,-14),s.rotateX(-.6);for(var c=0;c<a.length;c++){var l=d("res/webvr/"+a[c],2,1);l.position.set(2*(c-a.length/2),0,.1),l.scale.set(.94,.94,.1),s.add(l)}var u=d("res/webvr/bg.png",48,.1);s.add(u),n.add(s),t.add(n),t.visible=!0,e.add(t)}function d(e,t,n){return new THREE.Mesh(new THREE.PlaneBufferGeometry(t,1),new THREE.MeshBasicMaterial({map:i.loadTexture(o(e)),color:r,side:THREE.DoubleSide,depthTest:!1,transparent:!0,opacity:n}))}},this.onVisible=function(e){n.rotation.y=e.rotation._z,o=-t.quaternion.y},this.update=function(e){var n=e.quaternion.clone().inverse();t.quaternion.copy(n);var a=t.visible;t.visible=t.quaternion.x>.26&&t.quaternion.x<.4,!a&&t.visible&&this.onVisible(e),i>=0&&i<4&&t.children[0].children[0].children[i].material.color.setHex(r),(i=Math.floor(4.54*(o+t.quaternion.y+.14)*4))>=0&&i<4&&t.children[0].children[0].children[i].material.color.setHex(11184895)},this.onClick=function(){}}function r(e,t,n,o){var i,r;this.init=function(e){(i=new THREE.Object3D).scale.set(.25,.25,1),i.add(new THREE.Mesh(new THREE.RingGeometry(.6,1,32,32),new THREE.MeshBasicMaterial({color:11141154,depthTest:!1,side:THREE.DoubleSide}))),e.add(i)},this.update=function(t,o){var a;(r=e.hitTestViewport(new THREE.Vector3,!1))?(i.children[0].material.color.setHex(8874),a=r.intersectPoint.clone().sub(t.position).length()):(i.children[0].material.color.setHex(11141154),a=.5*(t.far-t.near));var s=new THREE.Matrix4;s.extractRotation(o.camera.matrixWorld);var c=new THREE.Vector3(0,0,-1);(c=s.multiplyVector3(c)).multiplyScalar(a),i.scale.set(n,n,n),i.position.copy(c),i.lookAt(o.camera.position)},this.onClick=function(){if(r){var e=r.intersectPoint;r.face.normal;o?e.z+=5:e.y+=5;var n=t.getCurrentView();n.position.copy(e),n.center.set(e.x+1e-6,e.y,e.z),n.pivot.set(e.x,e.y,e.z),t.goToView(n)}}}n.r(t),Autodesk.Viewing.GlobalManagerMixin.call(o.prototype);var a=Autodesk.Viewing;function s(e,t,n){this.setGlobalManager(e.globalManager);var s,c,l=e.canvas,u=e.navigation,d=u.getCamera(),f=Autodesk.Viewing.Private,p={webVR_cursor:f.isExperimentalFlagEnabled("webVR_cursor",t.options),webVR_menu:f.isExperimentalFlagEnabled("webVR_menu",t.options),webVR_orbitModel:f.isExperimentalFlagEnabled("webVR_orbitModel",t.options)},h=["vr"],g=!1,v=!1,m=this;this.activate=function(t){g=!0,e.impl.toggleGroundShadow(!1),e.impl.toggleGroundReflection(!1),u.toPerspective(),u.setVerticalFov(75,!0),u.setRequestFitToView(!0);var i=e.model.getBoundingBox().size();if(n.target=e.model.getBoundingBox().center(),u.setPivotPoint(n.target,!0,!0),u.setView(d.position,n.target),u.setCameraUpVector(new THREE.Vector3(0,1,0)),n.modelScaleFactor=Math.max(Math.min(Math.min(i.x,i.y),i.z)/10,1e-4),n._isPresenting=a.isMobileDevice(),n.requestPresent([{source:l}]).then((function(){e.impl.setLmvDisplay(n),n._isPresenting=!0})),n.resetPose(),a.isMobileDevice()){b(!1),e.setScreenMode(Autodesk.Viewing.ScreenMode.kFullScreen),l.addEventListener("dblclick",(function(){g&&e.setActiveNavigationTool()}))}(p.webVR_cursor||p.webVR_menu)&&(c=this.initHUD()),(s=new o(n,d,c,p)).setGlobalManager(this.globalManager),e.impl.setUserRenderContext(s)},this.initHUD=function(){var t=new THREE.Scene,o=d.clone();if(p.webVR_menu){var a=new i(n.modelScaleFactor);a.init(t)}if(p.webVR_cursor){var s=d.worldup&&1==d.worldup.z,c=new r(e.impl,e.autocam,n.modelScaleFactor,s);c.init(t),l.addEventListener("click",c.onClick)}return{scene:t,camera:o,cameraL:o.clone(),cameraR:o.clone(),menu:a,cursor:c,IPD:1.2}},this.update=function(t){if(!n)return!0;v&&!n.isPresenting&&g&&e.setActiveNavigationTool(),v=n.isPresenting;var o=s.updateCamera();return!c||(p.webVR_cursor&&c.cursor.update(o.C,c),p.webVR_menu&&c.menu.update(c.camera),!0)},this.deactivate=function(t){n&&(n.isPresenting&&n.exitPresent(),n._isPresenting=!1),g=!1,b(!0),e.impl.setUserRenderContext(null),e.setScreenMode(Autodesk.Viewing.ScreenMode.kNormal),e.resize(e.canvas.clientWidth,e.canvas.clientHeight),e.autocam.resetHome(),c&&p.webVR_cursor&&l.removeEventListener("click",c.cursor.onClick)};var b=function(t){e.getExtension("Autodesk.ViewCubeUi",(function(e){e.setVisible(t),e.displayViewCube(t&&!a.isMobileDevice())}));var n=m.getDocument().getElementsByClassName("adsk-toolbar");n.length>0&&""!==n[0]&&(n[0].style.display=t?"block":"none")};this.isActive=function(){return g},this.getNames=function(){return h},this.getName=function(){return h[0]}}a.GlobalManagerMixin.call(s.prototype);n(260);function c(e,t){Autodesk.Viewing.Extension.call(this,e,t),this.name="webvr"}n.d(t,"VRExtension",(function(){return c})),c.populateDefaultOptions=function(e){e.experimental.push("--webVR_orbitModel"),e.experimental.push("--webVR_cursor"),e.experimental.push("--webVR_menu")},c.prototype=Object.create(Autodesk.Viewing.Extension.prototype),c.prototype.constructor=c;var l=c.prototype;l.load=function(){var e=this,t=null,n=Autodesk.Viewing.Private;return n.loadDependency("VRFrameData","webvr-polyfill.min.js",(function(){navigator.getVRDisplays().then((function(o){if(o.length>0&&(t=o[0]).capabilities.canPresent){var i=e.viewer,r=i.getToolbar(),a=Autodesk.Viewing.UI;return e.tool=new s(i,e,t),i.toolController.registerTool(e.tool),e.createUI(r),e.onToolChanged=function(t){var n="vr"===t.toolName&&t.active?a.Button.State.ACTIVE:a.Button.State.INACTIVE;e.vrToolButton&&e.vrToolButton.setState(n)},void i.addEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT,e.onToolChanged)}n.logger.warn("Attempted to load WebVR extension, but WebVR is not supported.")}))})),!0},l.createUI=function(e){var t=this,n=(this.viewer,Autodesk.Viewing.UI),o=e.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);this.vrToolButton=new n.Button("toolbar-vrTool"),this.vrToolButton.setGlobalManager(this.globalManager),this.vrToolButton.setToolTip("Enable VR mode"),this.vrToolButton.setIcon("adsk-icon-webvr"),this.vrToolButton.onClick=function(e){var o=t.vrToolButton.getState();o===n.Button.State.INACTIVE?t.activate():o===n.Button.State.ACTIVE&&t.deactivate()};var i=o.getControl("toolbar-cameraSubmenuTool");i?o.addControl(this.vrToolButton,{index:o.indexOf(i.getId())}):o.addControl(this.vrToolButton)},l.unload=function(){var e=this.viewer;return this.onToolChanged&&(e.removeEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT,this.onToolChanged),this.onToolChanged=void 0),e.getToolbar()&&this.vrToolButton&&this.vrToolButton.removeFromParent(),this.vrToolButton=null,this.tool&&(e.toolController.deregisterTool(this.tool),this.tool=null),!0},l.activate=function(){return this.activeStatus||(this.viewer.setActiveNavigationTool("vr"),this.activeStatus=!0),!0},l.deactivate=function(){return this.activeStatus&&(this.viewer.setActiveNavigationTool(),this.activeStatus=!1),!0},Autodesk.Viewing.theExtensionManager.registerExtension("Autodesk.Viewing.WebVR",c)}});
//# sourceMappingURL=webVR.min.js.map