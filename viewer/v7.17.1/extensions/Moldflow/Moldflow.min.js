/*!
 * LMV v7.17.1
 * 
 * Copyright 2020 Autodesk, Inc.
 * All rights reserved.
 * 
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 * 
 * Autodesk Forge Viewer Usage Limitations:
 * 
 * The Autodesk Forge viewer can only be used to view files generated by
 * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be
 * delivered from an Autodesk hosted URL.
 */
Autodesk.Extensions.Moldflow=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=355)}({355:function(e,t,r){"use strict";r.r(t),r.d(t,"MoldflowExtension",(function(){return o}));r(356);var n=Autodesk.Viewing,a=n.Extension,i=n.theExtensionManager;function o(e,t){a.call(this,e,t),this.onGeometryLoaded=this.onGeometryLoaded.bind(this),this.onCameraChanged=this.onCameraChanged.bind(this)}o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.prototype.load=function(){return this.viewer.model?this.initBaseMFView():this.viewer.addEventListener(n.GEOMETRY_LOADED_EVENT,this.onGeometryLoaded),this.viewer.addEventListener(n.CAMERA_CHANGE_EVENT,this.onCameraChanged),!0},o.prototype.unload=function(){return this.legendContainer&&this.viewer.container.removeChild(this.legendContainer),this.scalebarContainer&&this.viewer.container.removeChild(this.scalebarContainer),!0},o.prototype.onGeometryLoaded=function(){this.viewer.removeEventListener(n.GEOMETRY_LOADED_EVENT,self.onGeometryLoaded),self.onGometryLoaded=null,this.initBaseMFView()};var s=function(e,t,r,n,a){this.title=e,this.unit=t,this.smooth=r,this.colourArr=n,this.labelArr=a};o.prototype.initBaseMFView=function(){var e=this,t=new s("","",0,0,0,[0]),r=e.viewer.model.getPropertyDb();r.findProperty("lbVer").then((function(n){var a=n.length-1;-1!==a&&r.getProperties(n[a],(function(r){for(var n="",a=0,i="",o=0,s=0;s<r.properties.length;++s){var l=r.properties[s];switch(l.displayName){case"lbTitle":t.title=l.displayValue;break;case"lbUnit":t.unit=l.displayValue;break;case"lbRGBA":n=l.displayValue;break;case"lbRGBAcount":a=l.displayValue;break;case"lbSmooth":t.smooth=l.displayValue;break;case"lbLabels":i=l.displayValue;break;case"lbLabelCount":o=l.displayValue}}0!=a&&(t.colourArr=new Array(a),t.colourArr=n.split(",",a)),0!=o&&(t.labelArr=new Array(o),t.labelArr=i.split("&",o)),e.createLegendBar(t)}))})),r.findProperty("sbVer").then((function(t){t.length<=0||e.createScaleBar()}))},o.prototype.createLegendBar=function(e){var t=this.getDocument(),r=t.createElement("div");r.classList.add("adsk-mf-legend-container");var a=t.createElement("div");a.classList.add("adsk-mf-legend-title");var i=t.createElement("div");if(i.classList.add("adsk-mf-legend-colour-container"),e.unit||(e.unit=""),a.innerHTML=n.i18n.translate(e.title+" "+e.unit),1==e.smooth){var o=t.createElement("div");o.classList.add("adsk-mf-legend-colour-bar");var s="";if(e.colourArr.length>0){s="linear-gradient(to bottom";for(var l=e.colourArr.length-1;l>-1;l--)s+=", "+e.colourArr[l].substring(0,7);s+=")"}o.style.background=s,i.appendChild(o)}else{var c=new Array(e.colourArr.length),d="calc(100%/"+e.colourArr.length+")",u=t.createElement("div");u.classList.add("adsk-mf-legend-colour-bar");for(var f=e.colourArr.length-1;f>-1;f--)c[f]=t.createElement("div"),c[f].classList.add("adsk-mf-legend-colour-band"),u.appendChild(c[f]),c[f].style.background=e.colourArr[f],c[f].style.height=d;i.appendChild(u)}var p=t.createElement("div");p.classList.add("adsk-mf-legend-label-container");for(var h=new Array(e.labelArr.length),b="calc((100% - 20px)/"+(e.labelArr.length-1)+")",v=e.labelArr.length-1;v>-1;v--)h[v]=t.createElement("div"),h[v].classList.add("adsk-mf-legend-label"),p.appendChild(h[v]),h[v].innerHTML=e.labelArr[v],h[v].style.height=b;i.appendChild(p),r.appendChild(a),r.appendChild(i),this.viewer.container.appendChild(r)};var l=1,c=1;o.prototype.onCameraChanged=function(){var e=this.viewer.navigation.getEyeToCenterOfBoundsVec(this.viewer.model.getBoundingBox()).length();l!=e&&(l=e,0!=e&&(e=1/e),this.updateScaleBar(e,"mm"))},o.prototype.createScaleBar=function(){var e=this.getDocument();this.scalebarContainer=e.createElement("div"),this.scalebarContainer.classList.add("adsk-mf-scalebar"),this.scalebarRuler=e.createElement("div"),this.scalebarRuler.classList.add("adsk-mf-scalebar-ruler"),this.scalebarLabel=e.createElement("div"),this.scalebarLabel.classList.add("adsk-mf-scalebar-label"),this.scalebarLabel.innerHTML="Scale(100mm)",this.scalebarRulerTicks=[];for(var t=0;t<4;t++){var r=e.createElement("div");r.classList.add("adsk-mf-scalebar-tick"),this.scalebarRulerTicks[t]=r,this.scalebarRuler.appendChild(r)}this.scalebarContainer.appendChild(this.scalebarRuler),this.scalebarContainer.appendChild(this.scalebarLabel);var n=this.viewer.navigation.getEyeToCenterOfBoundsVec(this.viewer.model.getBoundingBox()).length();l=n,0!=n&&(n=1/n),this.updateScaleBar(n,"mm"),this.viewer.container.appendChild(this.scalebarContainer)},o.prototype.updateScaleBar=function(e,t){for(var r=this.getDocument(),n=1,a=1e3/e/2.5;a<1||a>=10;)a<1?(n*=.1,a*=10):a>=10&&(n*=10,a*=.1);c=Math.floor(a);var i=Math.floor(1e3/a)*c;if(null!=this.scalebarContainer){this.scalebarContainer.style.width=i+"px",this.scalebarContainer.style.left=this.viewer.container.clientWidth/2-.5*i-2+"px";var o=c*n;o=parseFloat(o.toPrecision(1)),this.scalebarLabel.innerHTML="Scale("+o+" "+t+")",this.scalebarRulerTicks=[],this.scalebarRuler.innerHTML="";for(var s=0;s<c-1;s++){var l=r.createElement("div");l.classList.add("adsk-mf-scalebar-tick"),l.style.marginLeft=i/c-2+"px",this.scalebarRulerTicks[s]=l,this.scalebarRuler.appendChild(l)}}},i.registerExtension("Autodesk.Moldflow",o)},356:function(e,t,r){var n=r(357);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(5)(n,a);n.locals&&(e.exports=n.locals)},357:function(e,t,r){(e.exports=r(4)(!1)).push([e.i,".adsk-mf-legend-container{top:calc(25%);left:20px;height:calc(50%);position:absolute;min-height:100px;pointer-events:none}.adsk-mf-legend-title{height:20px;text-align:left;color:black}.adsk-mf-legend-colour-container{display:inline-block;position:relative;height:calc(100% - 20px)}.adsk-mf-legend-colour-bar{float:left;width:20px;height:calc(100% - 16px);margin:7px 0 0 5px}.adsk-mf-legend-colour-band{width:20px}.adsk-mf-legend-label-container{display:inline-block;height:100%;position:relative}.adsk-mf-legend-label{text-align:left;margin-left:3px;font-size:14px;white-space:nowrap;color:black}.adsk-mf-scalebar{bottom:60px;height:60px;width:400px;left:calc(50% - 200px);position:absolute;pointer-events:none}.adsk-mf-scalebar-ruler{height:25%;width:100%;margin-left:auto;margin-right:auto;border-bottom:2px solid gray;border-left:2px solid gray;border-right:2px solid gray;margin-bottom:5px}.adsk-mf-scalebar-tick{float:left;width:2px;background:gray;height:100%;margin-left:calc(20%)}.adsk-mf-scalebar-label{height:50%;width:auto;text-align:center;font-size:14px;color:black}\n",""])},4:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var a=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),i=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(i).concat([a]).join("\n")}var o;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(n[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},5:function(e,t,r){var n,a,i={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=n.apply(this,arguments)),a}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,d=0,u=[],f=r(6);function p(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=i[n.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](n.parts[o]);for(;o<n.parts.length;o++)a.parts.push(y(n.parts[o],t))}else{var s=[];for(o=0;o<n.parts.length;o++)s.push(y(n.parts[o],t));i[n.id]={id:n.id,refs:1,parts:s}}}}function h(e,t){for(var r=[],n={},a=0;a<e.length;a++){var i=e[a],o=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};n[o]?n[o].parts.push(s):r.push(n[o]={id:o,parts:[s]})}return r}function b(e,t){var r=l(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),u.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=l(e.insertAt.before,r);r.insertBefore(t,a)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return g(t,e.attrs),b(e,t),t}function g(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function y(e,t){var r,n,a,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var o=d++;r=c||(c=m(t)),n=L.bind(null,r,o,!1),a=L.bind(null,r,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),b(e,t),t}(t),n=C.bind(null,r,t),a=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=m(t),n=k.bind(null,r),a=function(){v(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=h(e,t);return p(r,t),function(e){for(var n=[],a=0;a<r.length;a++){var o=r[a];(s=i[o.id]).refs--,n.push(s)}e&&p(h(e,t),t);for(a=0;a<n.length;a++){var s;if(0===(s=n[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var w,x=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function L(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function k(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function C(e,t,r){var n=r.css,a=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||i)&&(n=f(n)),a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}},6:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(a=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}}});
//# sourceMappingURL=Moldflow.min.js.map