/*! For license information please see RollCamera.min.js.LICENSE.txt */
(()=>{var A={48029:(A,e,t)=>{"use strict";t.d(e,{Z:()=>f});var n=t(87537),o=t.n(n),r=t(23645),i=t.n(r),a=t(61667),s=t.n(a),c=new URL(t(71942),t.b),l=i()(o()),u=s()(c);l.push([A.id,".bimviewericon-roll:before{font-family:'rollCameraIcon';content:\"\\e944\"}@font-face{font-family:'rollCameraIcon';src:url("+u+') format("woff");font-weight:normal;font-style:normal}\n',"",{version:3,sources:["webpack://./extensions/RollCamera/RollCamera.css"],names:[],mappings:"AAAA,2BACE,4BAA6B,CAC7B,eAAgB,CACjB,WAGC,4BAA6B,CAC7B,0DAAq8C,CAAE,kBAAmB,CAC19C,iBAAkB",sourcesContent:[".bimviewericon-roll:before {\n  font-family: 'rollCameraIcon';\n  content: \"\\e944\";\n}\n\n@font-face {\n  font-family: 'rollCameraIcon';\n  src: url('data:application/font-woff;base64,d09GRgABAAAAAAQkAA0AAAAABfwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAECAAAABwAAAAchlsyK0dERUYAAAPsAAAAHAAAAB4AJwAKT1MvMgAAAaAAAAA/AAAAYPhWBm9jbWFwAAAB8AAAAEIAAAFS6VcD0Gdhc3AAAAPkAAAACAAAAAgAAAAQZ2x5ZgAAAkAAAACUAAAAlFQ5DcxoZWFkAAABMAAAADUAAAA2EKQYnmhoZWEAAAFoAAAAIAAAACQHxAPEaG10eAAAAeAAAAAOAAAAEAwAAABsb2NhAAACNAAAAAoAAAAKAEoAAG1heHAAAAGIAAAAGAAAACAACAAtbmFtZQAAAtQAAADlAAABv5krYsVwb3N0AAADvAAAACcAAAA5PNEldHicY2BkYGAAYqfsyQ/i+W2+MnCzMIDAFc8dliD6ppX0CwaG/wdYGJkPALkcDEwgUQArKAqGAAAAeJxjYGRgYD7w/wADAwsDA8P//yyMDEARFMACAHc+BJB4nGNgZGBgYGHQZmBmAAEmBjQAAAVFADZ4nGNgZmFgnMDAysDANJPpDAMDQz+EZnzNYMzIyYAKGAXQBBgcXrq8dGE+8P8AgwMzEIPUIMkqMDACAEevC7oAeJxjYYAAFigGAACAAA0AAHicY2BgYGaAYBkGRgYQ8AHyGMF8FgYDIM0BhEwgiZcu///+/4/EYhTbD1ULBYxsDHAuI0gPEwMqYGQY9gAAhd8MDAAAAAAAAAAAAAAASgAAAAMAAP/ABAEDwAADAAcAKgAACQMlBxc3ARYXFhQHBgcOASMiJzcWMzI2NzY3NjQnJicuASMVJzcVMhYBOgE7/sX+xgE6sbGxAZVUHg8PHlQ+oVVvY0hDR0J9MUEXDAwXQTF9Qs3NVaECsP7H/scBObCwsbEBLlRvOHA4b1Q+QTZIHjMwQVcrWCtXQTAynM3MnEEAAHicjZAxCsJAEEV/NCpGsBILq/UCQcHGCwgWIlhY2MU4hIDsSoyKeAwP4A3s7D2VtT/L9Lowy9s//88uC6CLJwJUK0CEvnINLYyV69SXyiH5oNxAB3flJvWXcoQBPkwFYZtKz0+ouMa7hsp16lPlkLxRbvAFN+Um9YdyhAneOCOH4MIqSCkcLHDO5SJFnjryiq0MJ+yR0IKVZKd9QvgZ/GlY+9aRzapl+DkxRpSlOObOmnE8+mPIzEsl4xlN1hsTngU7altcuc99cMGqvDFDzpYmEytFUsrObK9mnrqFczbGFxdwSbMAAAB4nGNgYkAGjAzogAUoyMTAxMjMlp5TWZBhyF6al+lqaWICACf5BKUAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQmYgZgHzGAADvwAyAAAAAQAAAADY114JAAAAANRJuDkAAAAA2Tob6A==') format('woff'); font-weight: normal;\n  font-style: normal;\n }"],sourceRoot:""}]);const f=l},23645:A=>{"use strict";A.exports=function(A){var e=[];return e.toString=function(){return this.map((function(e){var t="",n=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),n&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=A(e),n&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(A,t,n,o,r){"string"==typeof A&&(A=[[null,A,void 0]]);var i={};if(n)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(i[s]=!0)}for(var c=0;c<A.length;c++){var l=[].concat(A[c]);n&&i[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},61667:A=>{"use strict";A.exports=function(A,e){return e||(e={}),A?(A=String(A.__esModule?A.default:A),/^['"].*['"]$/.test(A)&&(A=A.slice(1,-1)),e.hash&&(A+=e.hash),/["'() \t\n]|(%20)/.test(A)||e.needQuotes?'"'.concat(A.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):A):A}},87537:A=>{"use strict";A.exports=function(A){var e=A[1],t=A[3];if(!t)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),r="/*# ".concat(o," */"),i=t.sources.map((function(A){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(A," */")}));return[e].concat(i).concat([r]).join("\n")}return[e].join("\n")}},93379:A=>{"use strict";var e=[];function t(A){for(var t=-1,n=0;n<e.length;n++)if(e[n].identifier===A){t=n;break}return t}function n(A,n){for(var r={},i=[],a=0;a<A.length;a++){var s=A[a],c=n.base?s[0]+n.base:s[0],l=r[c]||0,u="".concat(c," ").concat(l);r[c]=l+1;var f=t(u),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(e[f].references++,e[f].updater(p)):e.push({identifier:u,updater:o(p,n),references:1}),i.push(u)}return i}function o(A,e){var t=e.domAPI(e);return t.update(A),function(e){if(e){if(e.css===A.css&&e.media===A.media&&e.sourceMap===A.sourceMap)return;t.update(A=e)}else t.remove()}}A.exports=function(A,o){var r=n(A=A||[],o=o||{});return function(A){A=A||[];for(var i=0;i<r.length;i++){var a=t(r[i]);e[a].references--}for(var s=n(A,o),c=0;c<r.length;c++){var l=t(r[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}r=s}}},90569:A=>{"use strict";var e={};A.exports=function(A,t){var n=function(A){if(void 0===e[A]){var t=document.querySelector(A);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(A){t=null}e[A]=t}return e[A]}(A);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}},19216:A=>{"use strict";A.exports=function(A){var e=document.createElement("style");return A.setAttributes(e,A.attributes),A.insert(e),e}},3565:(A,e,t)=>{"use strict";A.exports=function(A){var e=t.nc;e&&A.setAttribute("nonce",e)}},7795:A=>{"use strict";A.exports=function(A){var e=A.insertStyleElement(A);return{update:function(t){!function(A,e,t){var n=t.css,o=t.media,r=t.sourceMap;o?A.setAttribute("media",o):A.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(n,A)}(e,A,t)},remove:function(){!function(A){if(null===A.parentNode)return!1;A.parentNode.removeChild(A)}(e)}}}},44589:A=>{"use strict";A.exports=function(A,e){if(e.styleSheet)e.styleSheet.cssText=A;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(A))}}},71942:A=>{"use strict";A.exports="data:application/font-woff;base64,d09GRgABAAAAAAQkAA0AAAAABfwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAECAAAABwAAAAchlsyK0dERUYAAAPsAAAAHAAAAB4AJwAKT1MvMgAAAaAAAAA/AAAAYPhWBm9jbWFwAAAB8AAAAEIAAAFS6VcD0Gdhc3AAAAPkAAAACAAAAAgAAAAQZ2x5ZgAAAkAAAACUAAAAlFQ5DcxoZWFkAAABMAAAADUAAAA2EKQYnmhoZWEAAAFoAAAAIAAAACQHxAPEaG10eAAAAeAAAAAOAAAAEAwAAABsb2NhAAACNAAAAAoAAAAKAEoAAG1heHAAAAGIAAAAGAAAACAACAAtbmFtZQAAAtQAAADlAAABv5krYsVwb3N0AAADvAAAACcAAAA5PNEldHicY2BkYGAAYqfsyQ/i+W2+MnCzMIDAFc8dliD6ppX0CwaG/wdYGJkPALkcDEwgUQArKAqGAAAAeJxjYGRgYD7w/wADAwsDA8P//yyMDEARFMACAHc+BJB4nGNgZGBgYGHQZmBmAAEmBjQAAAVFADZ4nGNgZmFgnMDAysDANJPpDAMDQz+EZnzNYMzIyYAKGAXQBBgcXrq8dGE+8P8AgwMzEIPUIMkqMDACAEevC7oAeJxjYYAAFigGAACAAA0AAHicY2BgYGaAYBkGRgYQ8AHyGMF8FgYDIM0BhEwgiZcu///+/4/EYhTbD1ULBYxsDHAuI0gPEwMqYGQY9gAAhd8MDAAAAAAAAAAAAAAASgAAAAMAAP/ABAEDwAADAAcAKgAACQMlBxc3ARYXFhQHBgcOASMiJzcWMzI2NzY3NjQnJicuASMVJzcVMhYBOgE7/sX+xgE6sbGxAZVUHg8PHlQ+oVVvY0hDR0J9MUEXDAwXQTF9Qs3NVaECsP7H/scBObCwsbEBLlRvOHA4b1Q+QTZIHjMwQVcrWCtXQTAynM3MnEEAAHicjZAxCsJAEEV/NCpGsBILq/UCQcHGCwgWIlhY2MU4hIDsSoyKeAwP4A3s7D2VtT/L9Lowy9s//88uC6CLJwJUK0CEvnINLYyV69SXyiH5oNxAB3flJvWXcoQBPkwFYZtKz0+ouMa7hsp16lPlkLxRbvAFN+Um9YdyhAneOCOH4MIqSCkcLHDO5SJFnjryiq0MJ+yR0IKVZKd9QvgZ/GlY+9aRzapl+DkxRpSlOObOmnE8+mPIzEsl4xlN1hsTngU7altcuc99cMGqvDFDzpYmEytFUsrObK9mnrqFczbGFxdwSbMAAAB4nGNgYkAGjAzogAUoyMTAxMjMlp5TWZBhyF6al+lqaWICACf5BKUAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQmYgZgHzGAADvwAyAAAAAQAAAADY114JAAAAANRJuDkAAAAA2Tob6A=="}},e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={id:n,exports:{}};return A[n](r,r.exports,t),r.exports}t.m=A,t.n=A=>{var e=A&&A.__esModule?()=>A.default:()=>A;return t.d(e,{a:e}),e},t.d=(A,e)=>{for(var n in e)t.o(e,n)&&!t.o(A,n)&&Object.defineProperty(A,n,{enumerable:!0,get:e[n]})},t.o=(A,e)=>Object.prototype.hasOwnProperty.call(A,e),t.r=A=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},t.b=document.baseURI||self.location.href;var n={};(()=>{"use strict";t.r(n),t.d(n,{default:()=>M});var A=t(93379),e=t.n(A),o=t(7795),r=t.n(o),i=t(90569),a=t.n(i),s=t(3565),c=t.n(s),l=t(19216),u=t.n(l),f=t(44589),p=t.n(f),d=t(48029),m={};function v(A){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},v(A)}function h(A,e,t,n,o,r,i){try{var a=A[r](i),s=a.value}catch(A){return void t(A)}a.done?e(s):Promise.resolve(s).then(n,o)}function g(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}function y(A,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(A,n.key,n)}}function w(A,e){return w=Object.setPrototypeOf||function(A,e){return A.__proto__=e,A},w(A,e)}function E(A,e){return!e||"object"!==v(e)&&"function"!=typeof e?b(A):e}function b(A){if(void 0===A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function C(A){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},C(A)}m.styleTagTransform=p(),m.setAttributes=c(),m.insert=a().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=u(),e()(d.Z,m),d.Z&&d.Z.locals&&d.Z.locals;var B=Autodesk.Viewing.Private,M=function(A){!function(A,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(e&&e.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),e&&w(A,e)}(s,Autodesk.Viewing.Extension);var e,t,n,o,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(A){return!1}}(),function(){var A,e=C(r);if(i){var t=C(this).constructor;A=Reflect.construct(e,arguments,t)}else A=e.apply(this,arguments);return E(this,A)});function s(A){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(this,s),(e=a.call(this,A,t)).viewer=A,e.options=t,e.enabled=!1,e.update=e.update.bind(b(e)),e}return e=s,t=[{key:"load",value:function(){return this.viewer.addEventListener(Autodesk.Viewing.MODEL_ADDED_EVENT,this.update),this.viewer.addEventListener(Autodesk.Viewing.MODEL_REMOVED_EVENT,this.update),!0}},{key:"unload",value:function(){return this.viewer.removeEventListener(Autodesk.Viewing.MODEL_ADDED_EVENT,this.update),this.viewer.removeEventListener(Autodesk.Viewing.MODEL_REMOVED_EVENT,this.update),this.destroyUI(),this.viewer=null,this.options=null,!0}},{key:"update",value:function(){var A=this.viewer.impl.modelQueue().getModels();if(1!==A.length)this.enabled=!1;else{var e=A[0];this.enabled=this.viewer.impl.is2d&&(e.isLeaflet()||e.isPdf(!0))}this.enabled?this.createUI():this.destroyUI()}},{key:"onToolbarCreated",value:function(){this.update()}},{key:"roll",value:(n=regeneratorRuntime.mark((function A(){var e,t,n,o,r=arguments;return regeneratorRuntime.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return e=r.length>0&&void 0!==r[0]&&r[0],A.next=3,Autodesk.Viewing.EventUtils.waitUntilTransitionEnded(this.viewer);case 3:t=this.viewer.autocam,n={center:t.center.clone(),position:t.camera.position.clone(),pivot:t.camera.pivot.clone(),fov:t.camera.fov,worldUp:t.sceneUpDirection.clone(),isOrtho:!1===t.camera.isPerspective},o=t.center.clone().sub(t.camera.position).normalize(),e?n.up=t.camera.up.clone().cross(o):(n.up=t.camera.up.clone().multiplyScalar(-1),n.up.cross(o)),n.up.normalize(),t.addGlobalPositions(n),t.elapsedTime=0,t.animateTransition(n);case 11:case"end":return A.stop()}}),A,this)})),o=function(){var A=this,e=arguments;return new Promise((function(t,o){var r=n.apply(A,e);function i(A){h(r,t,o,i,a,"next",A)}function a(A){h(r,t,o,i,a,"throw",A)}i(void 0)}))},function(){return o.apply(this,arguments)})},{key:"createUI",value:function(){var A=this,e=this.viewer.getToolbar&&this.viewer.getToolbar();if(e&&!this.rollCameraBtn){var t=this.viewer.config.hideSettingsToolbar?Autodesk.Viewing.TOOLBAR.NAVTOOLSID:Autodesk.Viewing.TOOLBAR.SETTINGSTOOLSID,n=e.getControl(t);if(n){this.rollCameraBtn=new Autodesk.Viewing.UI.Button("toolbar-rool-camera"),this.rollCameraBtn.setToolTip(Autodesk.Viewing.i18n.translate("Rotate page")),this.rollCameraBtn.setIcon("bimviewericon-roll"),this.rollCameraBtn.onClick=function(){A.roll(A.options.clockwise),B.analytics.track("viewer.roll_camera",{from:"UI"})};var o=this.viewer.config.hideSettingsToolbar?void 0:n.indexOf(n.getControl("toolbar-settingsTool"));n.addControl(this.rollCameraBtn,{index:o})}}}},{key:"destroyUI",value:function(){this.rollCameraBtn&&this.viewer.getToolbar&&this.viewer.getToolbar()&&(this.rollCameraBtn.removeFromParent(),this.rollCameraBtn=null)}}],t&&y(e.prototype,t),s}();M.extensionName="Autodesk.BIM360.RollCamera",Autodesk.Viewing.theExtensionManager.registerExtension(M.extensionName,M)})(),Autodesk.Extensions.RollCamera=n})();
//# sourceMappingURL=RollCamera.min.js.map