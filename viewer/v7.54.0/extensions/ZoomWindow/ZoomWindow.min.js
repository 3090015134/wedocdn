/*! For license information please see ZoomWindow.min.js.LICENSE.txt */
(()=>{var A={48854:(A,e,t)=>{"use strict";t.d(e,{Z:()=>v});var o=t(87537),n=t.n(o),i=t(23645),r=t.n(i),s=t(61667),a=t.n(s),u=new URL(t(26187),t.b),l=r()(n()),c=a()(u);l.push([A.id,"@font-face{font-family:'zoomwindowtool';src:url("+c+');font-weight:normal;font-style:normal}.adsk-viewing-viewer [class^="zoomwindowtoolicon-"],.adsk-viewing-viewer [class^="zoomwindowtoolicon-"]:before,[class*=" zoomwindowtoolicon-"],[class*=" zoomwindowtoolicon-"]:before{font-family:\'zoomwindowtool\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.adsk-viewing-viewer .zoomwindowtoolicon-zoom-window:before{content:"\\e900"}\n',"",{version:3,sources:["webpack://./extensions/ZoomWindow/ZoomWindow.css"],names:[],mappings:"AAAA,WACI,4BAA6B,CAC7B,2CAAk9D,CACl9D,kBAAmB,CACnB,iBAAkB,CAGtB,sLAKE,uCAAwC,CACxC,UAAW,CACX,iBAAkB,CAClB,kBAAmB,CACnB,mBAAoB,CACpB,mBAAoB,CACpB,aAAc,CAGd,kCAAmC,CACnC,iCAAkC,CACnC,4DAGC,eAAgB",sourcesContent:['@font-face {\n    font-family: \'zoomwindowtool\';\n    src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAWwAAsAAAAABWQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFKmNtYXAAAAFoAAAAVAAAAFQXVtKHZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAVQAAAFUGr5W0GhlYWQAAAMYAAAANgAAADYLLmLJaGhlYQAAA1AAAAAkAAAAJAevA8ZobXR4AAADdAAAABQAAAAUCgAAK2xvY2EAAAOIAAAADAAAAAwAKAC+bWF4cAAAA5QAAAAgAAAAIAAUAGVuYW1lAAADtAAAAdoAAAHawO5e5HBvc3QAAAWQAAAAIAAAACAAAwAAAAMDAAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QADwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkA//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAADgAr/74D7QOAABQAKAAsADAANAA5AD8AQwBIAE4AUgBXAF0AYgAABSIuAjU0PgIzMh4CFRQOAiMRIg4CFRQeAjMyPgI1NC4CEzcXBwEzESMnIRUhAyM1MxUhIzUzFTMnIzUzNSM1MxURIzUzFSMhIzUzBSM1MxUFIzUjNTMRIzUzFQKrP21QLy9QbT8+bVEuLlFtPixMOCEhOEwsK0w5ISE5TGg2eTb+1jw8YgEA/wBWqqr+1oAqVlYqKioqKoBWAoCqqv8AqqoCACpWgCoqKy9RbT4+bVEvL1FtPj5tUS8B/CE5TCsrTDkhITlMKytMOSH+ZjZ5NgHC/wCePP7zKyuAVdWrVaurASuAKysrKytVVSv+VaurAAEAAAABAAD/0i17Xw889QALBAAAAAAA1BEPRwAAAADUEQ9HAAD/vgPtA4AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAA+0AAQAAAAAAAAAAAAAAAAAAAAUEAAAAAAAAAAAAAAACAAAABAAAKwAAAAAACgAUAB4AqgABAAAABQBjAA4AAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADgAAAAEAAAAAAAIABwCfAAEAAAAAAAMADgBLAAEAAAAAAAQADgC0AAEAAAAAAAUACwAqAAEAAAAAAAYADgB1AAEAAAAAAAoAGgDeAAMAAQQJAAEAHAAOAAMAAQQJAAIADgCmAAMAAQQJAAMAHABZAAMAAQQJAAQAHADCAAMAAQQJAAUAFgA1AAMAAQQJAAYAHACDAAMAAQQJAAoANAD4em9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsUmVndWxhcgBSAGUAZwB1AGwAYQByem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==);\n    font-weight: normal;\n    font-style: normal;\n}\n\n.adsk-viewing-viewer [class^="zoomwindowtoolicon-"],\n.adsk-viewing-viewer [class^="zoomwindowtoolicon-"]:before,\n[class*=" zoomwindowtoolicon-"],\n[class*=" zoomwindowtoolicon-"]:before {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'zoomwindowtool\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.adsk-viewing-viewer .zoomwindowtoolicon-zoom-window:before {\n  content: "\\e900";\n}'],sourceRoot:""}]);const v=l},23645:A=>{"use strict";A.exports=function(A){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=A(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(A,t,o,n,i){"string"==typeof A&&(A=[[null,A,void 0]]);var r={};if(o)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(r[a]=!0)}for(var u=0;u<A.length;u++){var l=[].concat(A[u]);o&&r[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),n&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=n):l[4]="".concat(n)),e.push(l))}},e}},61667:A=>{"use strict";A.exports=function(A,e){return e||(e={}),A?(A=String(A.__esModule?A.default:A),/^['"].*['"]$/.test(A)&&(A=A.slice(1,-1)),e.hash&&(A+=e.hash),/["'() \t\n]|(%20)/.test(A)||e.needQuotes?'"'.concat(A.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):A):A}},87537:A=>{"use strict";A.exports=function(A){var e=A[1],t=A[3];if(!t)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(n," */"),r=t.sources.map((function(A){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(A," */")}));return[e].concat(r).concat([i]).join("\n")}return[e].join("\n")}},93379:A=>{"use strict";var e=[];function t(A){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===A){t=o;break}return t}function o(A,o){for(var i={},r=[],s=0;s<A.length;s++){var a=A[s],u=o.base?a[0]+o.base:a[0],l=i[u]||0,c="".concat(u," ").concat(l);i[u]=l+1;var v=t(c),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==v?(e[v].references++,e[v].updater(d)):e.push({identifier:c,updater:n(d,o),references:1}),r.push(c)}return r}function n(A,e){var t=e.domAPI(e);return t.update(A),function(e){if(e){if(e.css===A.css&&e.media===A.media&&e.sourceMap===A.sourceMap)return;t.update(A=e)}else t.remove()}}A.exports=function(A,n){var i=o(A=A||[],n=n||{});return function(A){A=A||[];for(var r=0;r<i.length;r++){var s=t(i[r]);e[s].references--}for(var a=o(A,n),u=0;u<i.length;u++){var l=t(i[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=a}}},90569:A=>{"use strict";var e={};A.exports=function(A,t){var o=function(A){if(void 0===e[A]){var t=document.querySelector(A);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(A){t=null}e[A]=t}return e[A]}(A);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},19216:A=>{"use strict";A.exports=function(A){var e=document.createElement("style");return A.setAttributes(e,A.attributes),A.insert(e),e}},3565:(A,e,t)=>{"use strict";A.exports=function(A){var e=t.nc;e&&A.setAttribute("nonce",e)}},7795:A=>{"use strict";A.exports=function(A){var e=A.insertStyleElement(A);return{update:function(t){!function(A,e,t){var o=t.css,n=t.media,i=t.sourceMap;n?A.setAttribute("media",n):A.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,A)}(e,A,t)},remove:function(){!function(A){if(null===A.parentNode)return!1;A.parentNode.removeChild(A)}(e)}}}},44589:A=>{"use strict";A.exports=function(A,e){if(e.styleSheet)e.styleSheet.cssText=A;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(A))}}},26187:A=>{"use strict";A.exports="data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAWwAAsAAAAABWQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFKmNtYXAAAAFoAAAAVAAAAFQXVtKHZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAVQAAAFUGr5W0GhlYWQAAAMYAAAANgAAADYLLmLJaGhlYQAAA1AAAAAkAAAAJAevA8ZobXR4AAADdAAAABQAAAAUCgAAK2xvY2EAAAOIAAAADAAAAAwAKAC+bWF4cAAAA5QAAAAgAAAAIAAUAGVuYW1lAAADtAAAAdoAAAHawO5e5HBvc3QAAAWQAAAAIAAAACAAAwAAAAMDAAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QADwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkA//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAADgAr/74D7QOAABQAKAAsADAANAA5AD8AQwBIAE4AUgBXAF0AYgAABSIuAjU0PgIzMh4CFRQOAiMRIg4CFRQeAjMyPgI1NC4CEzcXBwEzESMnIRUhAyM1MxUhIzUzFTMnIzUzNSM1MxURIzUzFSMhIzUzBSM1MxUFIzUjNTMRIzUzFQKrP21QLy9QbT8+bVEuLlFtPixMOCEhOEwsK0w5ISE5TGg2eTb+1jw8YgEA/wBWqqr+1oAqVlYqKioqKoBWAoCqqv8AqqoCACpWgCoqKy9RbT4+bVEvL1FtPj5tUS8B/CE5TCsrTDkhITlMKytMOSH+ZjZ5NgHC/wCePP7zKyuAVdWrVaurASuAKysrKytVVSv+VaurAAEAAAABAAD/0i17Xw889QALBAAAAAAA1BEPRwAAAADUEQ9HAAD/vgPtA4AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAA+0AAQAAAAAAAAAAAAAAAAAAAAUEAAAAAAAAAAAAAAACAAAABAAAKwAAAAAACgAUAB4AqgABAAAABQBjAA4AAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADgAAAAEAAAAAAAIABwCfAAEAAAAAAAMADgBLAAEAAAAAAAQADgC0AAEAAAAAAAUACwAqAAEAAAAAAAYADgB1AAEAAAAAAAoAGgDeAAMAAQQJAAEAHAAOAAMAAQQJAAIADgCmAAMAAQQJAAMAHABZAAMAAQQJAAQAHADCAAMAAQQJAAUAFgA1AAMAAQQJAAYAHACDAAMAAQQJAAoANAD4em9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsUmVndWxhcgBSAGUAZwB1AGwAYQByem9vbXdpbmRvd3Rvb2wAegBvAG8AbQB3AGkAbgBkAG8AdwB0AG8AbwBsRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="}},e={};function t(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={id:o,exports:{}};return A[o](i,i.exports,t),i.exports}t.m=A,t.n=A=>{var e=A&&A.__esModule?()=>A.default:()=>A;return t.d(e,{a:e}),e},t.d=(A,e)=>{for(var o in e)t.o(e,o)&&!t.o(A,o)&&Object.defineProperty(A,o,{enumerable:!0,get:e[o]})},t.o=(A,e)=>Object.prototype.hasOwnProperty.call(A,e),t.r=A=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},t.b=document.baseURI||self.location.href;var o={};(()=>{"use strict";function A(A,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(A,o.key,o)}}t.r(o),t.d(o,{default:()=>Q});var e=function(){function e(A){!function(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._names=["zoomwindow"],this._isActive=!1,this._isDragging=!1,this._mouseStart=new THREE.Vector3(0,0,-10),this._mouseEnd=new THREE.Vector3(0,0,-10),this.materialLine=null,this.lineGeom=null,this.crossGeomX=null,this.crossGeomY=null,this.rectGroup=null,this.viewer=A,this._camera=this.viewer.navigation.getCamera()}var t,o;return t=e,(o=[{key:"isActive",value:function(){return this._isActive}},{key:"getNames",value:function(){return this._names}},{key:"getName",value:function(){return this._names[0]}},{key:"onResize",value:function(){this.rectGroup=null;var A=this.viewer.canvas,e=A.clientWidth,t=A.clientHeight,o=new THREE.OrthographicCamera(0,e,0,t,1,1e3);this.viewer.impl.overlayScenes.ZoomWindowRect.camera=o}},{key:"activate",value:function(A){if(this._isActive=!0,null===this.materialLine){var e;e=this.viewer.navigation.getIs2D()?new THREE.Color(0):new THREE.Color(16777215),this.materialLine=new THREE.LineBasicMaterial({color:e,opacity:.6,linewidth:1,depthTest:!1,depthWrite:!1}),this.materialLine.doNotCut=!0}var t=this.viewer.canvas,o=t.clientWidth,n=t.clientHeight,i=new THREE.OrthographicCamera(0,o,0,n,1,1e3);this.viewer.impl.createOverlayScene("ZoomWindowRect",this.materialLine,this.materialLine,i),this.onResizeBinded=this.onResize.bind(this),this.viewer.impl.api.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResizeBinded),this.viewer.toolController.getTool("dolly").activate("orbit")}},{key:"deactivate",value:function(A){this.rectGroup=null,this.viewer.impl.removeOverlayScene("ZoomWindowRect"),this._isActive=!1,this._isDragging=!1,this._mouseStart.set(0,0,-10),this._mouseEnd.set(0,0,-10),this.viewer.impl.api.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResizeBinded),this.viewer.toolController.getTool("dolly").deactivate("orbit")}},{key:"getCursor",value:function(){switch(this.viewer.toolController.getTool("dolly").getTriggeredMode()){case"dolly":return"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAgVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8mJiYAAADNzc2/v7+fn59paWlPT08MDAwICAj6+vqpqak7Ozv29vby8vLp6em2traAgIBkZGRZWVlAQEAaGhpISEgkS7tbAAAAFHRSTlMAOvhpZD8mkQWegMy9qY1YVE01EYiqlE0AAADZSURBVCjPbY9ZloMgEAAbEbfsmRZZXbJn7n/AAX2RQVN/VD26AXLOeZLDGo6IbfI9tHq8cdxuj1HwvgCoaiHqKoRk+M3hB9jueUW8PnfsE/bJ3vms7nCkq7NoE3s99AXxoh8vFoXCpknrn5faAuJCenT0xPkYqnxQFJaU0gdZrsKm8aHZrAIffBj40mc1jsTfIJRWegq6opTMvlfqLqYg7kr1ZB7jFgeaMC59N//8O4WZ1IiPF8b5wMHcJn8zB4g4mc77zpxgAbMSUVoGK4iV0hL4wrksz+H0Bw5+E+HrniDQAAAAAElFTkSuQmCC), auto";case"pan":return"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAABHVBMVEUAAABPTk4AAAAAAAAJCQkRERE0MzQQEBAODg4QEBB4d3dbWlo9PDw/Pj4vLy8sLCwZGBgWFhYcHBwKCgoSEhIAAAAKCgoICAgKCgoQEBAODg4EBAQICAgPDw8REREMDAx2dnY0NDQvLy9QUFAaGhomJSYjIyM7OjokJCQNDA0mJiYNDQ0AAAAUFBQJCQkQEBAEBAQNDQ0PDw8VFRX///+amJkAAAD5+fnz8/PKycn9/f339vbi4eLR0dDNzMyAgIB8e3xycHH7+/vw7+/o6OjX1ta7urq4t7iwsLCnp6eioqKbmppva21OTk74+Pjl5eXc3Nzb29vLy8vDw8PDwsKrqqqdnZ2WlpaSkpKTkZKMiouEg4NkZGRISEgxLzBpgbsEAAAANHRSTlMA+fiQXgngKSYG/vX17uvBuqackpCNg3BpUkpAPBwTDvj18+vl0s/NwrOwoZZ+TDg4NBkBGrzX8QAAAP5JREFUKM99j9Vuw0AQRdeuKZyGkyZNmbnXDLHDVGb8/8/oy7paK1bO0+oc7WiGnGiaxq+QRTQAOh8f9Jv4H/Ge8PZPrCdlvkxfYluUT2WyyCq3mZ7unwlKVLcqOzA/Mf71j0TWJ/Ym6rPeca05Ni4iIevYc7yoUD2zQFhq71BdI9nvBeBabFDSPe8DswlUc1Riw3VxbH0NHBUPQ0jrbDnPYDjALQBMq9E7nkC5y7VDKTZlUg8Q0lmjvl74zlYErgvKa42GPKf3/a0kQmYCDY1SYMDosqMoiWrGwz/uAbNvc/fNon4kXRKGq+PUo2Mb96afV0iUxqGU2s4VBbKUP65NL/LKF+7ZAAAAAElFTkSuQmCC), auto"}return"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAADWSURBVEiJ1ZVNEsIwCEYfTg/UjTPuemcvojfCRRMlNKGdKguZyaLkK4/8EERVybQJQERCUU3C63p+n/Bk9QHDRtbIX2GqKh6woRfxLdL0/M1KzYRaA+7AXDW9wN5fvrXEWud6AOABLD7QwREDgCdw7WV6ZjSAsi0Lzn4JmEcHeHbYWxQXw3FTEWmvaWY1X9Iie4CIKHE1fwfIsnSAZD/X/79FGbdISyzA9QMDG3axTTTVwx3NaNbm5B2dRHY1DWCUyd4qIs0bUB8nuz32/11Cu+KPM7sOXlrOS4sOkzb1AAAAAElFTkSuQmCC), auto"}},{key:"handleGesture",value:function(A){switch(A.type){case"dragstart":return this.handleButtonDown(A,0);case"dragmove":return this.handleMouseMove(A);case"dragend":return this.handleButtonUp(A,0)}return!1}},{key:"startDrag",value:function(A){if(!1===this._isDragging){if(this._isDragging=!0,this._mouseStart.x=A.canvasX,this._mouseStart.y=A.canvasY,this._mouseEnd.x=A.canvasX,this._mouseEnd.y=A.canvasY,null===this.rectGroup){this.lineGeom=new THREE.Geometry,this.lineGeom.vertices.push(this._mouseStart.clone(),this._mouseStart.clone(),this._mouseStart.clone(),this._mouseStart.clone(),this._mouseStart.clone()),this.crossGeomX=new THREE.Geometry,this.crossGeomX.vertices.push(this._mouseStart.clone(),this._mouseStart.clone()),this.crossGeomY=new THREE.Geometry,this.crossGeomY.vertices.push(this._mouseStart.clone(),this._mouseStart.clone());var e=new THREE.Line(this.lineGeom,this.materialLine,THREE.LineStrip),t=new THREE.Line(this.crossGeomX,this.materialLine,THREE.LineStrip),o=new THREE.Line(this.crossGeomY,this.materialLine,THREE.LineStrip);this.rectGroup=new THREE.Group,this.rectGroup.add(e),this.rectGroup.add(t),this.rectGroup.add(o)}else this.lineGeom.vertices[0]=this._mouseStart.clone(),this.lineGeom.vertices[1]=this._mouseStart.clone(),this.lineGeom.vertices[2]=this._mouseStart.clone(),this.lineGeom.vertices[3]=this._mouseStart.clone(),this.lineGeom.vertices[4]=this._mouseStart.clone(),this.crossGeomX.vertices[0]=this._mouseStart.clone(),this.crossGeomX.vertices[1]=this._mouseStart.clone(),this.crossGeomY.vertices[0]=this._mouseStart.clone(),this.crossGeomY.vertices[1]=this._mouseStart.clone(),this.crossGeomX.verticesNeedUpdate=!0,this.crossGeomY.verticesNeedUpdate=!0,this.lineGeom.verticesNeedUpdate=!0;this.viewer.impl.addOverlay("ZoomWindowRect",this.rectGroup)}}},{key:"handleButtonDown",value:function(A,e){return 0===e&&(this.startDrag(A),!0)}},{key:"handleMouseMove",value:function(A){return!(!this.lineGeom||!this._isDragging||(this._mouseEnd.x=A.canvasX,this._mouseEnd.y=A.canvasY,0))}},{key:"endDrag",value:function(A){!0===this._isDragging&&(this.viewer.impl.removeOverlay("ZoomWindowRect",this.rectGroup),this._isDragging=!1)}},{key:"handleButtonUp",value:function(A,e){return 0===e&&(this.endDrag(),!0)}},{key:"handleKeyDown",value:function(A,e){return!1}},{key:"handleKeyUp",value:function(A,e){return!1}},{key:"handleWheelInput",value:function(A){return!1}},{key:"handleSingleClick",value:function(A,e){return!1}},{key:"handleDoubleClick",value:function(A,e){return!1}},{key:"handleSingleTap",value:function(A){return!1}},{key:"handleDoubleTap",value:function(A){return!1}},{key:"handleBlur",value:function(A){return!1}},{key:"update",value:function(){if(this.isActive()){if(!this.lineGeom||!this._isDragging)return this.zoomWindow();this.lineGeom.vertices[1].x=this._mouseStart.x,this.lineGeom.vertices[1].y=this._mouseEnd.y,this.lineGeom.vertices[2]=this._mouseEnd.clone(),this.lineGeom.vertices[3].x=this._mouseEnd.x,this.lineGeom.vertices[3].y=this._mouseStart.y,this.lineGeom.vertices[4]=this.lineGeom.vertices[0];var A=Math.abs(this._mouseEnd.x-this._mouseStart.x),e=Math.abs(this._mouseEnd.y-this._mouseStart.y),t=A>e?e:A;t>20&&(t=20);var o=.5*t,n=[.5*(this._mouseEnd.x+this._mouseStart.x),.5*(this._mouseEnd.y+this._mouseStart.y)];return this.crossGeomX.vertices[0].x=n[0]-o,this.crossGeomX.vertices[0].y=n[1],this.crossGeomX.vertices[1].x=n[0]+o,this.crossGeomX.vertices[1].y=n[1],this.crossGeomY.vertices[0].x=n[0],this.crossGeomY.vertices[0].y=n[1]-o,this.crossGeomY.vertices[1].x=n[0],this.crossGeomY.vertices[1].y=n[1]+o,this.crossGeomX.verticesNeedUpdate=!0,this.crossGeomY.verticesNeedUpdate=!0,this.lineGeom.verticesNeedUpdate=!0,this.viewer.impl.invalidate(!1,!1,!0),!1}}},{key:"getPivot",value:function(A,e,t,o,n){A=2*A/t-1,e=1-2*e/o;var i=new THREE.Vector3(A,e,-1),r=new THREE.Vector3(A,e,1);i.unproject(n),r.unproject(n),r.sub(i);var s=n.position,a=n.target,u=a.clone().sub(s).normalize(),l=(u.dot(a)-u.dot(i))/u.dot(r);return i.add(r.multiplyScalar(l)),i}},{key:"queryMouseRaySceneIntersection",value:function(A,e){if(null==this.viewer)return null;if(null==this.viewer.model)return null;if(this.viewer.model.is2d())return null;var t=this.viewer.impl.hitTest(A,e,!1);return t?t.intersectPoint:null}},{key:"zoomWindow",value:function(){var A=this._camera,e=this.viewer.canvas.clientWidth,t=this.viewer.canvas.clientHeight,o=this._mouseStart.x,n=this._mouseStart.y,i=this._mouseEnd.x,r=this._mouseEnd.y,s=Math.abs(i-o),a=Math.abs(r-n);if(0===s||0===a)return!1;if(this._mouseEnd.copy(this._mouseStart),this.viewer.navigation.getIs2D()){var u={x:.5*(o+i),y:.5*(n+r)},l=this.viewer.navigation.getEyeVector().length(),c=this.viewer.impl.clientToViewport(u.x,u.y),v=this.viewer.impl.clientToViewport(e/2,t/2);c.subVectors(c,v),this.viewer.navigation.panRelative(c.x/2,c.y/2,l);var d=s/e,h=a/t,m=d>h?d:h;l=this.viewer.navigation.getEyeVector().length();var w=this.viewer.navigation.getWorldPoint(.5,.5);return this.viewer.navigation.dollyFromPoint(l*(m-1),w),!0}var g=null,f=.5*(o+i),B=.5*(n+r);null===(g=this.queryMouseRaySceneIntersection(f,B))&&(g=this.getPivot(f,B,e,t,this._camera));var p=A.position,y=A.target.clone().sub(p);y.normalize();var E=Math.min(e/s,t/a),b=1*g.distanceTo(p)/E;return y.multiplyScalar(-b),y.add(g),A.position.set(y.x,y.y,y.z),A.target.set(g.x,g.y,g.z),A.dirty=!0,!0}}])&&A(t.prototype,o),e}(),n=t(93379),i=t.n(n),r=t(7795),s=t.n(r),a=t(90569),u=t.n(a),l=t(3565),c=t.n(l),v=t(19216),d=t.n(v),h=t(44589),m=t.n(h),w=t(48854),g={};function f(A){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},f(A)}function B(A,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(A,o.key,o)}}function p(A,e){return p=Object.setPrototypeOf||function(A,e){return A.__proto__=e,A},p(A,e)}function y(A,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(A){if(void 0===A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(A):e}function E(A){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},E(A)}g.styleTagTransform=m(),g.setAttributes=c(),g.insert=u().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=d(),i()(w.Z,g),w.Z&&w.Z.locals&&w.Z.locals;var b=Autodesk.Viewing,C=AutodeskNamespace("Autodesk.Viewing.Extensions.ZoomWindow"),Q=function(A){!function(A,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(e&&e.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),e&&p(A,e)}(s,A);var t,o,n,i,r=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(A){return!1}}(),function(){var A,e=E(n);if(i){var t=E(this).constructor;A=Reflect.construct(e,arguments,t)}else A=e.apply(this,arguments);return y(this,A)});function s(A,e){var t;return function(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,A,e)).name="zoomwindow",t.modes=["zoomwindow","dolly"],t}return t=s,(o=[{key:"load",value:function(){var A=this.viewer;return this.tool=new e(A),A.toolController.registerTool(this.tool),!0}},{key:"onToolbarCreated",value:function(A){var e=A.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);if(e&&e.dollybutton){var t=this;e.removeControl(e.dollybutton.getId()),this.defaultDollyButton=e.dollybutton,this.zoomWindowToolButton=new Autodesk.Viewing.UI.ComboButton("toolbar-zoomTools"),this.zoomWindowToolButton.setIcon("zoomwindowtoolicon-zoom-window"),this.zoomWindowToolButton.setToolTip("Zoom window"),this.createZoomSubmenu(this.zoomWindowToolButton),e.addControl(this.zoomWindowToolButton);var o=[{keycodes:[Autodesk.Viewing.KeyCode.ESCAPE],onRelease:function(){t.zoomWindowToolButton.getState()===Autodesk.Viewing.UI.Button.State.ACTIVE&&(t.viewer.setActiveNavigationTool(),t.zoomWindowToolButton.setState(Autodesk.Viewing.UI.Button.State.INACTIVE))}}];this.viewer.getHotkeyManager().pushHotkeys(this.escapeHotkeyId,o)}}},{key:"destroyUI",value:function(){var A=this.viewer;if(this.zoomWindowToolButton){var e=A.getToolbar(),t=e&&e.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);t&&(this.zoomWindowToolButton.subMenu.removeEventListener(Autodesk.Viewing.UI.RadioButtonGroup.Event.ACTIVE_BUTTON_CHANGED,this.zoomWindowToolButton.subMenuActiveButtonChangedHandler(t)),t.removeControl(this.zoomWindowToolButton.getId()),t.panbutton&&this.defaultDollyButton?t.addControl(this.defaultDollyButton):this.defaultDollyButton=null),this.zoomWindowToolButton=null}A.getHotkeyManager().popHotkeys(this.escapeHotkeyId)}},{key:"createZoomSubmenu",value:function(A){var e=function(A,e,t){return function(){var o=e.getState();o===Autodesk.Viewing.UI.Button.State.INACTIVE?(A.activate(t),e.setState(Autodesk.Viewing.UI.Button.State.ACTIVE)):o===Autodesk.Viewing.UI.Button.State.ACTIVE&&(A.deactivate(),e.setState(Autodesk.Viewing.UI.Button.State.INACTIVE))}},t=new Autodesk.Viewing.UI.Button("toolbar-zoomWindowTool");t.setToolTip(Autodesk.Viewing.i18n.translate("Zoom window")),t.setIcon("zoomwindowtoolicon-zoom-window"),t.onClick=e(this,t,"zoomwindow"),A.addControl(t);var o=new Autodesk.Viewing.UI.Button("toolbar-zoomTool");o.setToolTip("Zoom"),o.setIcon("adsk-icon-zoom"),o.onClick=e(this,o,"dolly"),A.addControl(o)}},{key:"unload",value:function(){var A=this.viewer;return"dolly"!==A.getActiveNavigationTool()&&"zoomwindow"!==A.getActiveNavigationTool()||A.setActiveNavigationTool(),this.destroyUI(),A.toolController.deregisterTool(this.tool),this.tool=null,!0}},{key:"activate",value:function(A){if(!this.activeStatus||this.mode!==A)return"dolly"===A?(this.viewer.setActiveNavigationTool("dolly"),this.mode="dolly"):(this.viewer.setActiveNavigationTool("zoomwindow"),this.mode="zoomwindow"),this.activeStatus=!0,!0}},{key:"deactivate",value:function(){return this.activeStatus&&(this.viewer.setActiveNavigationTool(),this.activeStatus=!1),!0}}])&&B(t.prototype,o),s}(b.Extension);C.ZoomWindow=Q,Autodesk.Viewing.theExtensionManager.registerExtension("Autodesk.Viewing.ZoomWindow",Q)})(),Autodesk.Extensions.ZoomWindow=o})();
//# sourceMappingURL=ZoomWindow.min.js.map