/*! For license information please see webVR.min.js.LICENSE.txt */
(()=>{var e={18057:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var o=n(87537),i=n.n(o),r=n(23645),a=n.n(r),s=n(61667),c=n.n(s),l=new URL(n(71451),n.b),u=a()(i()),d=c()(l);u.push([e.id,".adsk-icon-webvr{background-image:url("+d+");background-repeat:no-repeat;background-position:center}.webvr-polyfill-fullscreen-wrapper canvas{width:100% !important;height:100% !important}\n","",{version:3,sources:["webpack://./extensions/webVR/VR.css"],names:[],mappings:"AAIA,iBACC,wDAA2uC,CAC3uC,2BAA4B,CAC5B,0BAA2B,CAC3B,0CAIA,qBAAsB,CACtB,sBAAuB",sourcesContent:["/**\n * Toolbar - VR Tool\n */\n\n.adsk-icon-webvr {\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAc1JREFUSA3tVL2KwkAQnsSgpYKCtaIgCNaCja0gYiHY6Qv4BsFnsLLwFawsLSy0VBQbLQT/CxFEsFIUdW4ndy4uGy9y3jWHAyH5Zr6ZyXyzCcDbLBRQWBwtOC+FtUwmA4lEAhB/t4+qqrDb7QA6nQ6r/XemvjT/E8kqe/cnaD+nmE5wOByg2+3CcDi0rEw6t9ttmEwm5lwWFBawXq8xlUqh3W5Hp9OJuq7j6XQSODcwGAwwGo2ipmno9XqxUqncQvxO3Tmgh2KxSJrxy2azYaPREDgErtcrZrNZzqMct9uNo9FI4EoSTadTYdTL5QKr1UrwEWANYLFYCP7tdgubzUbwSQ3ou3A4HJwUCAQgFosZ+Hw+AxUhY5MBce8tHo9DOBy+d4EkEY1erVYxnU5jPp/HXq9njMyWiblcDkOhEJZKJcN3PB6xXC5jMpnEQqGAs9lMkIeA1EBifDlogezVjMvlciEt+BmTJBLn+0Skd61W4yE6mvV6nePvHlTS0sqWyyX0+32B1mw2BfwIaOPxGCKRyMOfnaIo0Gq1gH0fQg1qyI4k+P1+01zK2+/3oHg8HvT5fKYkqkjE+XwuHT+KBYNBYPswzb01IN7b/rkCH+c1AQdiGKHcAAAAAElFTkSuQmCC');\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n}\n\n/* On fullscreen viewer canvas size is wrong on some devices, this rule fixes it*/\n.webvr-polyfill-fullscreen-wrapper canvas {\n\twidth: 100% !important;\n\theight: 100% !important;\n}\n"],sourceRoot:""}]);const g=u},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);o&&a[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},61667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},87537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),r="/*# ".concat(i," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([r]).join("\n")}return[t].join("\n")}},93379:e=>{"use strict";var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var r={},a=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],u=r[l]||0,d="".concat(l," ").concat(u);r[l]=u+1;var g=n(d),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==g?(t[g].references++,t[g].updater(p)):t.push({identifier:d,updater:i(p,o),references:1}),a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var r=o(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var s=n(r[a]);t[s].references--}for(var c=o(e,i),l=0;l<r.length;l++){var u=n(r[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}r=c}}},90569:e=>{"use strict";var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},19216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o=n.css,i=n.media,r=n.sourceMap;i?e.setAttribute("media",i):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(o,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},44589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},71451:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAc1JREFUSA3tVL2KwkAQnsSgpYKCtaIgCNaCja0gYiHY6Qv4BsFnsLLwFawsLSy0VBQbLQT/CxFEsFIUdW4ndy4uGy9y3jWHAyH5Zr6ZyXyzCcDbLBRQWBwtOC+FtUwmA4lEAhB/t4+qqrDb7QA6nQ6r/XemvjT/E8kqe/cnaD+nmE5wOByg2+3CcDi0rEw6t9ttmEwm5lwWFBawXq8xlUqh3W5Hp9OJuq7j6XQSODcwGAwwGo2ipmno9XqxUqncQvxO3Tmgh2KxSJrxy2azYaPREDgErtcrZrNZzqMct9uNo9FI4EoSTadTYdTL5QKr1UrwEWANYLFYCP7tdgubzUbwSQ3ou3A4HJwUCAQgFosZ+Hw+AxUhY5MBce8tHo9DOBy+d4EkEY1erVYxnU5jPp/HXq9njMyWiblcDkOhEJZKJcN3PB6xXC5jMpnEQqGAs9lMkIeA1EBifDlogezVjMvlciEt+BmTJBLn+0Skd61W4yE6mvV6nePvHlTS0sqWyyX0+32B1mw2BfwIaOPxGCKRyMOfnaIo0Gq1gH0fQg1qyI4k+P1+01zK2+/3oHg8HvT5fKYkqkjE+XwuHT+KBYNBYPswzb01IN7b/rkCH+c1AQdiGKHcAAAAAElFTkSuQmCC"}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href;var o={};(()=>{"use strict";function e(e,t,n,o){var i,r,a,s,c,l=Autodesk.Viewing.Private,u=e.getEyeParameters("left"),d=e.getEyeParameters("right"),g=new THREE.Vector3,p=new THREE.Vector3,A=new THREE.PerspectiveCamera,m=new THREE.PerspectiveCamera,v=10*e.modelScaleFactor,h=null,f=this;function w(e,t,n,o,i){e.matrixWorld.decompose(i.position,i.quaternion,i.scale),o&&i.position.set(0,0,0),i.translateOnAxis(n?g:p,v),i.projectionMatrix.elements=n?t.leftProjectionMatrix:t.rightProjectionMatrix}this.init=function(n,c,A){i=new l.RenderContext,r=n;var m=1.5*f.getWindow().devicePixelRatio;a=2*e.getEyeParameters("left").renderWidth/m,s=e.getEyeParameters("right").renderHeight/m,this.settings=i.settings,i.init(r,a,s),g.fromArray(u.offset),p.fromArray(d.offset),h=new VRFrameData,t.worldup&&1==t.worldup.z&&(o.webVR_orbitModel=!1)},this.modeFusion=function(n){var o=new THREE.Vector3(0,0,1);o.applyQuaternion((new THREE.Quaternion).fromArray(n.orientation)).multiplyScalar(2.1*v),t.position.set(o.x,o.y,o.z),t.lookAt(e.target),t.up.set(0,1,0)},this.modeWalkthrough=function(e){e.orientation&&0!=e.orientation[1]&&t.quaternion.fromArray(e.orientation),e.position&&0!=e.position[0]&&t.position.fromArray(e.position).multiplyScalar(v),t.worldup&&1==t.worldup.z&&(t.quaternion.setFromAxisAngle(new THREE.Vector3(1,0,0),Math.PI/2),t.quaternion.multiply((new THREE.Quaternion).fromArray(e.orientation)),e.position&&0!=e.position[0]&&t.position.set(t.position.x,-t.position.z,t.position.y));var n=new THREE.Vector3(0,0,-1);n.applyQuaternion(t.quaternion),t.target=t.position.clone().add(n.clone().multiplyScalar(10))},this.updateCamera=function(){if(e&&e._isPresenting&&(e.depthNear=t.near,e.depthFar=t.far,e.getFrameData(h),(c=h.pose).orientation))return o.webVR_orbitModel?this.modeFusion(c):this.modeWalkthrough(c),t.updateMatrixWorld(),t.dirty=!0,w(t,h,!0,!1,A),w(t,h,!1,!1,m),n&&(n.camera=t.clone(),n.camera.position.set(0,0,0),w(t,h,!0,!0,n.cameraL),w(t,h,!1,!0,n.cameraR)),{L:A,R:m,C:t}},this.beginScene=function(e,n,o,r){i.beginScene(e,t,o,r)},this.renderScenePart=function(e,t,o,c,l){var u=a/2;r.setViewport(0,0,u,s),i.setCamera(A),i.renderScenePart(e,!0,!1,!1,!1),r.setViewport(u,0,u,s),i.setCamera(m),i.renderScenePart(e,!0,!1,!1,!1),n&&(r.setViewport(0,0,u,s),i.setCamera(n.cameraL),i.renderScenePart(n.scene,!0,!1,!1,!1),r.setViewport(u,0,u,s),i.setCamera(n.cameraR),i.renderScenePart(n.scene,!0,!1,!1,!1)),r.setViewport(0,0,a,s)},this.sceneDirty=function(e,t){i.sceneDirty(e,t)},this.endScene=function(){i.endScene()},this.clearAllOverlays=function(){},this.renderOverlays=function(e){},this.composeFinalFrame=function(t,n){i.composeFinalFrame(!0,n),e._isPresenting&&e.submitFrame()},this.cleanup=function(){i.cleanup()},this.setSize=function(e,t,n){a=e,s=t,i.setSize(a,s,n)},this.getMaxAnisotropy=function(){return i.getMaxAnisotropy()},this.hasMRT=function(){return i.hasMRT()},this.initPostPipeline=function(e,t,n){i.initPostPipeline(!1,!1,!1)},this.setClearColors=function(e,t){i.setClearColors(e,t)},this.setAOOptions=function(e,t){i.setAOOptions(e,t)},this.getAORadius=function(){return i.getAORadius()},this.getAOIntensity=function(){return i.getAOIntensity()},this.setTonemapExposureBias=function(e){i.setTonemapExposureBias(e)},this.getExposureBias=function(){return i.getExposureBias()},this.setTonemapMethod=function(e){i.setTonemapMethod(e)},this.getToneMapMethod=function(){return i.getToneMapMethod()},this.toggleTwoSided=function(e){i.toggleTwoSided(e)},this.enter2DMode=function(){var e;(e=i).enter2DMode.apply(e,arguments)},this.getAOEnabled=function(){return!1},this.idAtPixel=function(e,t){return 0},this.setHighlightLights=function(e){},this.setStencilEnabled=function(e){},this.setEdgeColor=function(e){},this.overlayUpdate=function(e){i.overlayUpdate(e)},this.rolloverObjectViewport=function(e,t){},this.screenCapture=function(){return console.warn("Screen capture not implemented by stereo render context"),null},this.setUnitScale=function(e){i.setUnitScale(e)},this.getUnitScale=function(){return i.getUnitScale()},this.getColorTarget=function(){return null}}function t(e){var t,n,o,i,r=16777215;this.init=function(e){if(!t){var o=Autodesk.Viewing.Private.getResourceUrl,i=THREE.ImageUtils;i.crossOrigin="anonymous";var a="res/webvr/",s=["back.png","zoomin.png","zoomout.png","next.png"];t=new THREE.Object3D,n=new THREE.Object3D;var c=new THREE.Object3D;c.position.set(0,-12,-14),c.rotateX(-.6);for(var l=0;l<s.length;l++){var u=g(a+s[l],2,1);u.position.set(2*(l-s.length/2),0,.1),u.scale.set(.94,.94,.1),c.add(u)}var d=g(a+"bg.png",48,.1);c.add(d),n.add(c),t.add(n),t.visible=!0,e.add(t)}function g(e,t,n){return new THREE.Mesh(new THREE.PlaneBufferGeometry(t,1),new THREE.MeshBasicMaterial({map:i.loadTexture(o(e)),color:r,side:THREE.DoubleSide,depthTest:!1,transparent:!0,opacity:n}))}},this.onVisible=function(e){n.rotation.y=e.rotation._z,o=-t.quaternion.y},this.update=function(e){var n=e.quaternion.clone().inverse();t.quaternion.copy(n);var a=t.visible;t.visible=t.quaternion.x>.26&&t.quaternion.x<.4,!a&&t.visible&&this.onVisible(e),i>=0&&i<4&&t.children[0].children[0].children[i].material.color.setHex(r),(i=Math.floor(4.54*(o+t.quaternion.y+.14)*4))>=0&&i<4&&t.children[0].children[0].children[i].material.color.setHex(11184895)},this.onClick=function(){}}function i(e,t,n,o){var i,r,a=11141154;this.init=function(e){(i=new THREE.Object3D).scale.set(.25,.25,1),i.add(new THREE.Mesh(new THREE.RingGeometry(.6,1,32,32),new THREE.MeshBasicMaterial({color:a,depthTest:!1,side:THREE.DoubleSide}))),e.add(i)},this.update=function(t,o){var s;(r=e.hitTestViewport(new THREE.Vector3,!1))?(i.children[0].material.color.setHex(8874),s=r.intersectPoint.clone().sub(t.position).length()):(i.children[0].material.color.setHex(a),s=.5*(t.far-t.near));var c=new THREE.Matrix4;c.extractRotation(o.camera.matrixWorld);var l=new THREE.Vector3(0,0,-1);(l=c.multiplyVector3(l)).multiplyScalar(s),i.scale.set(n,n,n),i.position.copy(l),i.lookAt(o.camera.position)},this.onClick=function(){if(r){var e=r.intersectPoint;r.face.normal,o?e.z+=5:e.y+=5;var n=t.getCurrentView();n.position.copy(e),n.center.set(e.x+1e-6,e.y,e.z),n.pivot.set(e.x,e.y,e.z),t.goToView(n)}}}n.r(o),n.d(o,{VRExtension:()=>E}),Autodesk.Viewing.GlobalManagerMixin.call(e.prototype);var r=Autodesk.Viewing;function a(n,o,a){this.setGlobalManager(n.globalManager);var s,c,l=n.canvas,u=n.navigation,d=u.getCamera(),g=Autodesk.Viewing.Private,p={webVR_cursor:g.isExperimentalFlagEnabled("webVR_cursor",o.options),webVR_menu:g.isExperimentalFlagEnabled("webVR_menu",o.options),webVR_orbitModel:g.isExperimentalFlagEnabled("webVR_orbitModel",o.options)},A=["vr"],m=!1,v=!1,h=this;this.activate=function(t){m=!0,n.impl.toggleGroundShadow(!1),n.impl.toggleGroundReflection(!1),u.toPerspective(),u.setVerticalFov(75,!0),u.setRequestFitToView(!0);var o=n.model.getBoundingBox().getSize(new THREE.Vector3);a.target=n.model.getBoundingBox().getCenter(new THREE.Vector3),u.setPivotPoint(a.target,!0,!0),u.setView(d.position,a.target),u.setCameraUpVector(new THREE.Vector3(0,1,0)),a.modelScaleFactor=Math.max(Math.min(Math.min(o.x,o.y),o.z)/10,1e-4),a._isPresenting=r.isMobileDevice(),a.requestPresent([{source:l}]).then((function(){n.impl.setLmvDisplay(a),a._isPresenting=!0})),a.resetPose(),r.isMobileDevice()&&(f(!1),n.setScreenMode(Autodesk.Viewing.ScreenMode.kFullScreen),l.addEventListener("dblclick",(function(){m&&n.setActiveNavigationTool()}))),(p.webVR_cursor||p.webVR_menu)&&(c=this.initHUD()),(s=new e(a,d,c,p)).setGlobalManager(this.globalManager),n.impl.setUserRenderContext(s)},this.initHUD=function(){var e=new THREE.Scene,o=d.clone();if(p.webVR_menu){var r=new t(a.modelScaleFactor);r.init(e)}if(p.webVR_cursor){var s=d.worldup&&1==d.worldup.z,c=new i(n.impl,n.autocam,a.modelScaleFactor,s);c.init(e),l.addEventListener("click",c.onClick)}return{scene:e,camera:o,cameraL:o.clone(),cameraR:o.clone(),menu:r,cursor:c,IPD:1.2}},this.update=function(e){if(!a)return!0;v&&!a.isPresenting&&m&&n.setActiveNavigationTool(),v=a.isPresenting;var t=s.updateCamera();return!c||(p.webVR_cursor&&c.cursor.update(t.C,c),p.webVR_menu&&c.menu.update(c.camera),!0)},this.deactivate=function(e){a&&(a.isPresenting&&a.exitPresent(),a._isPresenting=!1),m=!1,f(!0),n.impl.setUserRenderContext(null),n.setScreenMode(Autodesk.Viewing.ScreenMode.kNormal),n.resize(n.canvas.clientWidth,n.canvas.clientHeight),n.autocam.resetHome(),c&&p.webVR_cursor&&l.removeEventListener("click",c.cursor.onClick)};var f=function(e){n.getExtension("Autodesk.ViewCubeUi",(function(t){t.setVisible(e),t.displayViewCube(e&&!r.isMobileDevice())}));var t=h.getDocument().getElementsByClassName("adsk-toolbar");t.length>0&&""!==t[0]&&(t[0].style.display=e?"block":"none")};this.isActive=function(){return m},this.getNames=function(){return A},this.getName=function(){return A[0]}}r.GlobalManagerMixin.call(a.prototype);var s=n(93379),c=n.n(s),l=n(7795),u=n.n(l),d=n(90569),g=n.n(d),p=n(3565),A=n.n(p),m=n(19216),v=n.n(m),h=n(44589),f=n.n(h),w=n(18057),b={};function E(e,t){Autodesk.Viewing.Extension.call(this,e,t),this.name="webvr"}b.styleTagTransform=f(),b.setAttributes=A(),b.insert=g().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=v(),c()(w.Z,b),w.Z&&w.Z.locals&&w.Z.locals,E.populateDefaultOptions=function(e){e.experimental.push("--webVR_orbitModel"),e.experimental.push("--webVR_cursor"),e.experimental.push("--webVR_menu")},E.prototype=Object.create(Autodesk.Viewing.Extension.prototype),E.prototype.constructor=E;var C=E.prototype;C.load=function(){return!0},C.onToolbarCreated=function(e){var t=this,n=null,o=Autodesk.Viewing.Private;o.loadDependency("VRFrameData","webvr-polyfill.min.js",(function(){navigator.getVRDisplays().then((function(e){if(e.length>0&&(n=e[0]).capabilities.canPresent){var i=t.viewer,r=i.getToolbar(),s=Autodesk.Viewing.UI;return t.tool=new a(i,t,n),i.toolController.registerTool(t.tool),t.createUI(r),t.onToolChanged=function(e){var n="vr"===e.toolName&&e.active?s.Button.State.ACTIVE:s.Button.State.INACTIVE;t.vrToolButton&&t.vrToolButton.setState(n)},void i.addEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT,t.onToolChanged)}o.logger.warn("Attempted to load WebVR extension, but WebVR is not supported.")}))}))},C.createUI=function(e){var t=this,n=(this.viewer,Autodesk.Viewing.UI),o=e.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);this.vrToolButton=new n.Button("toolbar-vrTool"),this.vrToolButton.setGlobalManager(this.globalManager),this.vrToolButton.setToolTip("Enable VR mode"),this.vrToolButton.setIcon("adsk-icon-webvr"),this.vrToolButton.onClick=function(e){var o=t.vrToolButton.getState();o===n.Button.State.INACTIVE?t.activate():o===n.Button.State.ACTIVE&&t.deactivate()};var i=o.getControl("toolbar-cameraSubmenuTool");i?o.addControl(this.vrToolButton,{index:o.indexOf(i.getId())}):o.addControl(this.vrToolButton)},C.unload=function(){var e=this.viewer;return this.onToolChanged&&(e.removeEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT,this.onToolChanged),this.onToolChanged=void 0),e.getToolbar()&&this.vrToolButton&&this.vrToolButton.removeFromParent(),this.vrToolButton=null,this.tool&&(e.toolController.deregisterTool(this.tool),this.tool=null),!0},C.activate=function(){return this.activeStatus||(this.viewer.setActiveNavigationTool("vr"),this.activeStatus=!0),!0},C.deactivate=function(){return this.activeStatus&&(this.viewer.setActiveNavigationTool(),this.activeStatus=!1),!0},Autodesk.Viewing.theExtensionManager.registerExtension("Autodesk.Viewing.WebVR",E)})(),Autodesk.Extensions.webVR=o})();
//# sourceMappingURL=webVR.min.js.map