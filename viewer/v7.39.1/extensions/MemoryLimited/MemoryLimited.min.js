/*!
 * LMV v7.39.1
 * 
 * Copyright 2021 Autodesk, Inc.
 * All rights reserved.
 * 
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 * 
 * Autodesk Forge Viewer Usage Limitations:
 * 
 * The Autodesk Forge viewer can only be used to view files generated by
 * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be
 * delivered from an Autodesk hosted URL.
 */
Autodesk.Extensions.MemoryLimited=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=661)}({18:function(t,e,n){"use strict";var r=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(r.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},22:function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var s={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var s=0;s<r;s++)t[i+s]=e[n+s]},flattenChunks:function(t){var e,n,r,i,s,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)s=t[e],a.set(s,i),i+=s.length;return a}},a={arraySet:function(t,e,n,r,i){for(var s=0;s<r;s++)t[i+s]=e[n+s]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,s)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},298:function(t,e){t.exports="\n#include<instancing_decl_vert>\nvarying vec4 finalColor;\nuniform vec3 color;\nuniform float opacity;\nvoid main() {\n    gl_Position = projectionMatrix * (viewMatrix * vec4(getInstancePos(position), 1.0));\n    finalColor = vec4(color, opacity);\n}\n"},299:function(t,e){t.exports="precision lowp float;\nvarying vec4 finalColor;\nvoid main() {\n    gl_FragColor = finalColor;\n}\n"},300:function(t,e,n){"use strict";t.exports.FRAGMENTS_LOADED_EVENT="fragmentLoaded"},4:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(s).concat([i]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(r[s]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},471:function(t,e,n){t.exports=function(){return n(18)('/*!\n * LMV v7.39.1\n * \n * Copyright 2021 Autodesk, Inc.\n * All rights reserved.\n * \n * This computer source code and related instructions and comments are the\n * unpublished confidential and proprietary information of Autodesk, Inc.\n * and are protected under Federal copyright and state trade secret law.\n * They may not be disclosed to, copied or used by any third party without\n * the prior written consent of Autodesk, Inc.\n * \n * Autodesk Forge Viewer Usage Limitations:\n * \n * The Autodesk Forge viewer can only be used to view files generated by\n * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be\n * delivered from an Autodesk hosted URL.\n */!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=43)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r,i,s,a,o=function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0};o.prototype={constructor:o,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14],this},applyProjection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,s=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*s,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*s,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*s,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,s=t.y,a=t.z,o=t.w,h=o*e+s*r-a*n,u=o*n+a*e-i*r,c=o*r+i*n-s*e,l=-i*e-s*n-a*r;return this.x=h*o+l*-i+u*-a-c*-s,this.y=u*o+l*-s+c*-i-h*-a,this.z=c*o+l*-a+h*-s-u*-i,this},transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize(),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e}else this.x=0,this.y=0,this.z=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this},clampScalar:function(t,e){return void 0===s&&(s=new o,a=new o),s.set(t,t,t),a.set(e,e,e),this.clamp(s,a)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t),this},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,s=e.x,a=e.y,o=e.z;return this.x=r*o-i*a,this.y=i*s-n*o,this.z=n*a-r*s,this},projectOnVector:function(t){return void 0===r&&(r=new o),r.copy(t).normalize(),i=this.dot(r),this.copy(r).multiplyScalar(i)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new o),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new o),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},setEulerFromRotationMatrix:function(t,e){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(t,e){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},setFromMatrixPosition:function(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale:function(t){var e=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),n=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),r=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){var n=4*t,r=e.elements;return this.x=r[n],this.y=r[n+1],this.z=r[n+2],this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}}},function(t,e,n){"use strict";(function(t){function r(){return"undefined"!=typeof window&&null!==window?window:"undefined"!=typeof self&&null!==self?self:t}n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return d}));var i=r(),s=i&&i.document,a="undefined"!=typeof navigator,o=function(){return!a},h=a&&!!navigator.userAgent.match(/Edge|Trident\\/7\\./);a&&navigator.userAgent.match(/Trident\\/7\\./);function u(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0)}"undefined"!=typeof window&&h&&function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=s.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=i.CustomEvent.prototype,i.CustomEvent=t}(),ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(t,e){if(!e||e>this.byteLength?e=this.byteLength:e<0&&(e=this.byteLength+e)<0&&(e=0),t<0&&(t=this.byteLength+t)<0&&(t=0),e<=t)return new ArrayBuffer;for(var n=e-t,r=new Uint8Array(this,t,n),i=new Uint8Array(n),s=0;s<n;s++)i[s]=r[s];return i.buffer}),Math.log2=Math.log2||function(t){return Math.log(t)/Math.LN2},"undefined"!=typeof window&&(i.BlobBuilder=i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder);var c=a&&(/ip(ad|hone|od)/.test(navigator.userAgent.toLowerCase())||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1);function l(){return c}var f=a&&-1!==navigator.userAgent.toLowerCase().indexOf("android");function d(){return!!a&&(l()||f)}!function(){var t=r();t.performance||(t.performance=Date)}(),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},String.prototype.repeat=String.prototype.repeat||function(t){if(t<1)return"";for(var e="",n=this.valueOf();t>1;)1&t&&(e+=n),t>>=1,n+=n;return e+n},Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)}}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{enumerable:!1,value:function(t,e,n){e=void 0===e?0:e,n=void 0===n?this.length:n;for(var r=e;r<n;++r)this[r]=t}}),Int32Array.prototype.lastIndexOf=Int32Array.prototype.lastIndexOf||function(t,e){return Array.prototype.lastIndexOf.call(this,t,e)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{enumerable:!1,value:function(t,e){for(var n=this.length,r=0;r<n;++r){var i=this[r];if(t.call(e,i,r,this))return i}}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},writable:!0,configurable:!0}),"undefined"==typeof window||!h&&!l()||HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this;setTimeout((function(){for(var i=atob(r.toDataURL(e,n).split(",")[1]),s=i.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=i.charCodeAt(o);t(new Blob([a],{type:e||"image/png"}))}))}}),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(t,e){if(e=void 0!==e?e:this.length,"[object Array]"===Object.prototype.toString.call(this))return _slice.call(this,t,e);var n,r,i=[],s=this.length,a=t||0;a=a>=0?a:Math.max(0,s+a);var o="number"==typeof e?Math.min(e,s):s;if(e<0&&(o=s+e),(r=o-a)>0)if(i=new Array(r),this.charAt)for(n=0;n<r;n++)i[n]=this.charAt(a+n);else for(n=0;n<r;n++)i[n]=this[a+n];return i})}).call(this,n(22))},function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n,r,i,s,a,o,h,u,c,l,f,d,p,m,y,v,g={REVISION:"71"};"object"===e(t)&&(t.exports=g),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),g.log=function(){console.log.apply(console,arguments)},g.warn=function(){console.warn.apply(console,arguments)},g.error=function(){console.error.apply(console,arguments)},g.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},g.CullFaceNone=0,g.CullFaceBack=1,g.CullFaceFront=2,g.CullFaceFrontBack=3,g.FrontFaceDirectionCW=0,g.FrontFaceDirectionCCW=1,g.BasicShadowMap=0,g.PCFShadowMap=1,g.PCFSoftShadowMap=2,g.FrontSide=0,g.BackSide=1,g.DoubleSide=2,g.NoShading=0,g.FlatShading=1,g.SmoothShading=2,g.NoColors=0,g.FaceColors=1,g.VertexColors=2,g.NoBlending=0,g.NormalBlending=1,g.AdditiveBlending=2,g.SubtractiveBlending=3,g.MultiplyBlending=4,g.CustomBlending=5,g.AddEquation=100,g.SubtractEquation=101,g.ReverseSubtractEquation=102,g.MinEquation=103,g.MaxEquation=104,g.ZeroFactor=200,g.OneFactor=201,g.SrcColorFactor=202,g.OneMinusSrcColorFactor=203,g.SrcAlphaFactor=204,g.OneMinusSrcAlphaFactor=205,g.DstAlphaFactor=206,g.OneMinusDstAlphaFactor=207,g.DstColorFactor=208,g.OneMinusDstColorFactor=209,g.SrcAlphaSaturateFactor=210,g.MultiplyOperation=0,g.MixOperation=1,g.AddOperation=2,g.UVMapping=300,g.CubeReflectionMapping=301,g.CubeRefractionMapping=302,g.EquirectangularReflectionMapping=303,g.EquirectangularRefractionMapping=304,g.SphericalReflectionMapping=305,g.RepeatWrapping=1e3,g.ClampToEdgeWrapping=1001,g.MirroredRepeatWrapping=1002,g.NearestFilter=1003,g.NearestMipMapNearestFilter=1004,g.NearestMipMapLinearFilter=1005,g.LinearFilter=1006,g.LinearMipMapNearestFilter=1007,g.LinearMipMapLinearFilter=1008,g.UnsignedByteType=1009,g.ByteType=1010,g.ShortType=1011,g.UnsignedShortType=1012,g.IntType=1013,g.UnsignedIntType=1014,g.FloatType=1015,g.HalfFloatType=1025,g.UnsignedShort4444Type=1016,g.UnsignedShort5551Type=1017,g.UnsignedShort565Type=1018,g.AlphaFormat=1019,g.RGBFormat=1020,g.RGBAFormat=1021,g.LuminanceFormat=1022,g.LuminanceAlphaFormat=1023,g.RGBEFormat=g.RGBAFormat,g.RGB_S3TC_DXT1_Format=2001,g.RGBA_S3TC_DXT1_Format=2002,g.RGBA_S3TC_DXT3_Format=2003,g.RGBA_S3TC_DXT5_Format=2004,g.RGB_PVRTC_4BPPV1_Format=2100,g.RGB_PVRTC_2BPPV1_Format=2101,g.RGBA_PVRTC_4BPPV1_Format=2102,g.RGBA_PVRTC_2BPPV1_Format=2103,g.Projector=function(){g.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){g.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){g.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(t,e){g.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},g.CanvasRenderer=function(){g.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},g.Quaternion=function(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1},g.Quaternion.prototype={constructor:g.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(t instanceof g.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),s=Math.sin(t._x/2),a=Math.sin(t._y/2),o=Math.sin(t._z/2);return"XYZ"===t.order?(this._x=s*r*i+n*a*o,this._y=n*a*i-s*r*o,this._z=n*r*o+s*a*i,this._w=n*r*i-s*a*o):"YXZ"===t.order?(this._x=s*r*i+n*a*o,this._y=n*a*i-s*r*o,this._z=n*r*o-s*a*i,this._w=n*r*i+s*a*o):"ZXY"===t.order?(this._x=s*r*i-n*a*o,this._y=n*a*i+s*r*o,this._z=n*r*o+s*a*i,this._w=n*r*i-s*a*o):"ZYX"===t.order?(this._x=s*r*i-n*a*o,this._y=n*a*i+s*r*o,this._z=n*r*o-s*a*i,this._w=n*r*i+s*a*o):"YZX"===t.order?(this._x=s*r*i+n*a*o,this._y=n*a*i+s*r*o,this._z=n*r*o-s*a*i,this._w=n*r*i-s*a*o):"XZY"===t.order&&(this._x=s*r*i-n*a*o,this._y=n*a*i-s*r*o,this._z=n*r*o+s*a*i,this._w=n*r*i+s*a*o),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],h=n[9],u=n[2],c=n[6],l=n[10],f=r+o+l;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(c-h)*e,this._y=(s-u)*e,this._z=(a-i)*e):r>o&&r>l?(e=2*Math.sqrt(1+r-o-l),this._w=(c-h)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(s+u)/e):o>l?(e=2*Math.sqrt(1+o-r-l),this._w=(s-u)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(h+c)/e):(e=2*Math.sqrt(1+l-r-o),this._w=(a-i)/e,this._x=(s+u)/e,this._y=(h+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){return void 0===n&&(n=new g.Vector3),(r=t.dot(e)+1)<1e-6?(r=0,Math.abs(t.x)>Math.abs(t.z)?n.set(-t.y,t.x,0):n.set(0,-t.z,t.y)):n.crossVectors(t,e),this._x=n.x,this._y=n.y,this._z=n.z,this._w=r,this.normalize(),this},inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(g.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,s=t._w,a=e._x,o=e._y,h=e._z,u=e._w;return this._x=n*u+s*a+r*h-i*o,this._y=r*u+s*o+i*a-n*h,this._z=i*u+s*h+n*o-r*a,this._w=s*u-n*a-r*o-i*h,this.onChangeCallback(),this},multiplyVector3:function(t){return g.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,s=this._w,a=s*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=n,this._y=r,this._z=i,this;var o=Math.acos(a),h=Math.sqrt(1-a*a);if(Math.abs(h)<.001)return this._w=.5*(s+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.sin((1-e)*o)/h,c=Math.sin(e*o)/h;return this._w=s*u+this._w*c,this._x=n*u+this._x*c,this._y=r*u+this._y*c,this._z=i*u+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){},clone:function(){return new g.Quaternion(this._x,this._y,this._z,this._w)}},g.Quaternion.slerp=function(t,e,n,r){return n.copy(t).slerp(e,r)},g.Vector2=function(t,e){this.x=t||0,this.y=e||0},g.Vector2.prototype={constructor:g.Vector2,set:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(g.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},sub:function(t,e){return void 0!==e?(g.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e}else this.x=0,this.y=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this},clampScalar:function(t,e){return void 0===i&&(i=new g.Vector2,s=new g.Vector2),i.set(t,t),s.set(e,e),this.clamp(i,s)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t),this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this},clone:function(){return new g.Vector2(this.x,this.y)}},g.Vector3=function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0},g.Vector3.prototype={constructor:g.Vector3,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(g.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},sub:function(t,e){return void 0!==e?(g.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(g.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return t instanceof g.Euler==0&&g.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===o&&(o=new g.Quaternion),this.applyQuaternion(o.setFromEuler(t)),this},applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new g.Quaternion),this.applyQuaternion(t.setFromAxisAngle(e,n)),this}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14],this},applyProjection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,s=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*s,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*s,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*s,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,s=t.y,a=t.z,o=t.w,h=o*e+s*r-a*n,u=o*n+a*e-i*r,c=o*r+i*n-s*e,l=-i*e-s*n-a*r;return this.x=h*o+l*-i+u*-a-c*-s,this.y=u*o+l*-s+c*-i-h*-a,this.z=c*o+l*-a+h*-s-u*-i,this},project:function(t){return void 0===a&&(a=new g.Matrix4),a.multiplyMatrices(t.projectionMatrix,a.getInverse(t.matrixWorld)),this.applyProjection(a)},unproject:function(){var t;return function(e){return void 0===t&&(t=new g.Matrix4),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize(),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e}else this.x=0,this.y=0,this.z=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new g.Vector3,e=new g.Vector3),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t),this},cross:function(t,e){if(void 0!==e)return g.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,s=e.x,a=e.y,o=e.z;return this.x=r*o-i*a,this.y=i*s-n*o,this.z=n*a-r*s,this},projectOnVector:function(){var t,e;return function(n){return void 0===t&&(t=new g.Vector3),t.copy(n).normalize(),e=this.dot(t),this.copy(t).multiplyScalar(e)}}(),projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new g.Vector3),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new g.Vector3),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/(this.length()*t.length());return Math.acos(g.Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},setEulerFromRotationMatrix:function(t,e){g.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(t,e){g.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return g.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return g.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return g.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},setFromMatrixPosition:function(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale:function(t){var e=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),n=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),r=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){var n=4*t,r=e.elements;return this.x=r[n],this.y=r[n+1],this.z=r[n+2],this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this},clone:function(){return new g.Vector3(this.x,this.y,this.z)}},g.Box2=function(t,e){this.min=void 0!==t?t:new g.Vector2(1/0,1/0),this.max=void 0!==e?e:new g.Vector2(-1/0,-1/0)},g.Box2.prototype={constructor:g.Box2,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new g.Vector2;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(t){return(t||new g.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new g.Vector2).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new g.Vector2).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new g.Vector2).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new g.Vector2;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new g.Box2).copy(this)}},g.Box3=function(t,e){this.min=void 0!==t?t:new g.Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new g.Vector3(-1/0,-1/0,-1/0)},g.Box3.prototype={constructor:g.Box3,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new g.Vector3;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(){var t=new g.Vector3;return function(e){var n=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse((function(e){var r=e.geometry;if(void 0!==r)if(r instanceof g.Geometry)for(var i=r.vertices,s=0,a=i.length;s<a;s++)t.copy(i[s]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t);else if(r instanceof g.BufferGeometry&&void 0!==r.attributes.position){var o=r.attributes.position.array;for(s=0,a=o.length;s<a;s+=3)t.set(o[s],o[s+1],o[s+2]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}})),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(t){return(t||new g.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new g.Vector3).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new g.Vector3).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},clampPoint:function(t,e){return(e||new g.Vector3).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new g.Vector3;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new g.Vector3;return function(e){var n=e||new g.Sphere;return n.center=this.center(),n.radius=.5*this.size(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(h=[new g.Vector3,new g.Vector3,new g.Vector3,new g.Vector3,new g.Vector3,new g.Vector3,new g.Vector3,new g.Vector3],function(t){return h[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),h[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),h[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),h[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),h[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),h[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),h[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),h[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(h),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new g.Box3).copy(this)}},g.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&g.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},g.Matrix3.prototype={constructor:g.Matrix3,set:function(t,e,n,r,i,s,a,o,h){var u=this.elements;return u[0]=t,u[3]=e,u[6]=n,u[1]=r,u[4]=i,u[7]=s,u[2]=a,u[5]=o,u[8]=h,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},multiplyVector3:function(t){return g.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return g.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t=new g.Vector3;return function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=e.length);for(var i=0,s=n;i<r;i+=3,s+=3)t.x=e[s],t.y=e[s+1],t.z=e[s+2],t.applyMatrix3(this),e[s]=t.x,e[s+1]=t.y,e[s+2]=t.z;return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],a=t[5],o=t[6],h=t[7],u=t[8];return e*s*u-e*a*h-n*i*u+n*a*o+r*i*h-r*s*o},getInverse:function(t,e){var n=t.elements,r=this.elements;r[0]=n[10]*n[5]-n[6]*n[9],r[1]=-n[10]*n[1]+n[2]*n[9],r[2]=n[6]*n[1]-n[2]*n[5],r[3]=-n[10]*n[4]+n[6]*n[8],r[4]=n[10]*n[0]-n[2]*n[8],r[5]=-n[6]*n[0]+n[2]*n[4],r[6]=n[9]*n[4]-n[5]*n[8],r[7]=-n[9]*n[0]+n[1]*n[8],r[8]=n[5]*n[0]-n[1]*n[4];var i=n[0]*r[0]+n[1]*r[3]+n[2]*r[6];if(0===i){var s="Matrix3.getInverse(): can\'t invert matrix, determinant is 0";if(e)throw new Error(s);return g.warn(s),this.identity(),this}return this.multiplyScalar(1/i),this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t},getNormalMatrix:function(t){return this.getInverse(t).transpose(),this},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},clone:function(){return(new g.Matrix3).fromArray(this.elements)}},g.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&g.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},g.Matrix4.prototype={constructor:g.Matrix4,set:function(t,e,n,r,i,s,a,o,h,u,c,l,f,d,p,m){var y=this.elements;return y[0]=t,y[4]=e,y[8]=n,y[12]=r,y[1]=i,y[5]=s,y[9]=a,y[13]=o,y[2]=h,y[6]=u,y[10]=c,y[14]=l,y[3]=f,y[7]=d,y[11]=p,y[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(t){return this.elements.set(t.elements),this},extractPosition:function(t){return g.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){var r=this.elements;return t.set(r[0],r[1],r[2]),e.set(r[4],r[5],r[6]),n.set(r[8],r[9],r[10]),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new g.Vector3;return function(e){var n=this.elements,r=e.elements,i=1/t.set(r[0],r[1],r[2]).length(),s=1/t.set(r[4],r[5],r[6]).length(),a=1/t.set(r[8],r[9],r[10]).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){t instanceof g.Euler==!1&&g.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(r),h=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var l=s*u,f=s*c,d=a*u,p=a*c;e[0]=o*u,e[4]=-o*c,e[8]=h,e[1]=f+d*h,e[5]=l-p*h,e[9]=-a*o,e[2]=p-l*h,e[6]=d+f*h,e[10]=s*o}else if("YXZ"===t.order){var m=o*u,y=o*c,v=h*u,x=h*c;e[0]=m+x*a,e[4]=v*a-y,e[8]=s*h,e[1]=s*c,e[5]=s*u,e[9]=-a,e[2]=y*a-v,e[6]=x+m*a,e[10]=s*o}else if("ZXY"===t.order){m=o*u,y=o*c,v=h*u,x=h*c;e[0]=m-x*a,e[4]=-s*c,e[8]=v+y*a,e[1]=y+v*a,e[5]=s*u,e[9]=x-m*a,e[2]=-s*h,e[6]=a,e[10]=s*o}else if("ZYX"===t.order){l=s*u,f=s*c,d=a*u,p=a*c;e[0]=o*u,e[4]=d*h-f,e[8]=l*h+p,e[1]=o*c,e[5]=p*h+l,e[9]=f*h-d,e[2]=-h,e[6]=a*o,e[10]=s*o}else if("YZX"===t.order){var _=s*o,b=s*h,w=a*o,k=a*h;e[0]=o*u,e[4]=k-_*c,e[8]=w*c+b,e[1]=c,e[5]=s*u,e[9]=-a*u,e[2]=-h*u,e[6]=b*c+w,e[10]=_-k*c}else if("XZY"===t.order){_=s*o,b=s*h,w=a*o,k=a*h;e[0]=o*u,e[4]=-c,e[8]=h*u,e[1]=_*c+k,e[5]=s*u,e[9]=b*c-w,e[2]=w*c-b,e[6]=a*u,e[10]=k*c+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},setRotationFromQuaternion:function(t){return g.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,s=t.w,a=n+n,o=r+r,h=i+i,u=n*a,c=n*o,l=n*h,f=r*o,d=r*h,p=i*h,m=s*a,y=s*o,v=s*h;return e[0]=1-(f+p),e[4]=c-v,e[8]=l+y,e[1]=c+v,e[5]=1-(u+p),e[9]=d-m,e[2]=l-y,e[6]=d+m,e[10]=1-(u+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:(u=new g.Vector3,c=new g.Vector3,l=new g.Vector3,function(t,e,n){var r=this.elements;return l.subVectors(t,e).normalize(),0===l.length()&&(l.z=1),u.crossVectors(n,l).normalize(),0===u.length()&&(l.x+=1e-4,u.crossVectors(n,l).normalize()),c.crossVectors(l,u),r[0]=u.x,r[4]=c.x,r[8]=l.x,r[1]=u.y,r[5]=c.y,r[9]=l.y,r[2]=u.z,r[6]=c.z,r[10]=l.z,this}),multiply:function(t,e){return void 0!==e?(g.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,s=n[0],a=n[4],o=n[8],h=n[12],u=n[1],c=n[5],l=n[9],f=n[13],d=n[2],p=n[6],m=n[10],y=n[14],v=n[3],g=n[7],x=n[11],_=n[15],b=r[0],w=r[4],k=r[8],z=r[12],A=r[1],S=r[5],E=r[9],M=r[13],O=r[2],T=r[6],C=r[10],P=r[14],I=r[3],R=r[7],F=r[11],U=r[15];return i[0]=s*b+a*A+o*O+h*I,i[4]=s*w+a*S+o*T+h*R,i[8]=s*k+a*E+o*C+h*F,i[12]=s*z+a*M+o*P+h*U,i[1]=u*b+c*A+l*O+f*I,i[5]=u*w+c*S+l*T+f*R,i[9]=u*k+c*E+l*C+f*F,i[13]=u*z+c*M+l*P+f*U,i[2]=d*b+p*A+m*O+y*I,i[6]=d*w+p*S+m*T+y*R,i[10]=d*k+p*E+m*C+y*F,i[14]=d*z+p*M+m*P+y*U,i[3]=v*b+g*A+x*O+_*I,i[7]=v*w+g*S+x*T+_*R,i[11]=v*k+g*E+x*C+_*F,i[15]=v*z+g*M+x*P+_*U,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},multiplyVector3:function(t){return g.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return g.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return g.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t=new g.Vector3;return function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=e.length);for(var i=0,s=n;i<r;i+=3,s+=3)t.x=e[s],t.y=e[s+1],t.z=e[s+2],t.applyMatrix4(this),e[s]=t.x,e[s+1]=t.y,e[s+2]=t.z;return e}}(),rotateAxis:function(t){g.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return g.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],s=t[1],a=t[5],o=t[9],h=t[13],u=t[2],c=t[6],l=t[10],f=t[14];return t[3]*(+i*o*c-r*h*c-i*a*l+n*h*l+r*a*f-n*o*f)+t[7]*(+e*o*f-e*h*l+i*s*l-r*s*f+r*h*u-i*o*u)+t[11]*(+e*h*c-e*a*f-i*s*c+n*s*f+i*a*u-n*h*u)+t[15]*(-r*a*u-e*o*c+e*a*l+r*s*c-n*s*l+n*o*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t},getPosition:function(){var t=new g.Vector3;return function(){g.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var e=this.elements;return t.set(e[12],e[13],e[14])}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],s=r[4],a=r[8],o=r[12],h=r[1],u=r[5],c=r[9],l=r[13],f=r[2],d=r[6],p=r[10],m=r[14],y=r[3],v=r[7],x=r[11],_=r[15];n[0]=c*m*v-l*p*v+l*d*x-u*m*x-c*d*_+u*p*_,n[4]=o*p*v-a*m*v-o*d*x+s*m*x+a*d*_-s*p*_,n[8]=a*l*v-o*c*v+o*u*x-s*l*x-a*u*_+s*c*_,n[12]=o*c*d-a*l*d-o*u*p+s*l*p+a*u*m-s*c*m,n[1]=l*p*y-c*m*y-l*f*x+h*m*x+c*f*_-h*p*_,n[5]=a*m*y-o*p*y+o*f*x-i*m*x-a*f*_+i*p*_,n[9]=o*c*y-a*l*y-o*h*x+i*l*x+a*h*_-i*c*_,n[13]=a*l*f-o*c*f+o*h*p-i*l*p-a*h*m+i*c*m,n[2]=u*m*y-l*d*y+l*f*v-h*m*v-u*f*_+h*d*_,n[6]=o*d*y-s*m*y-o*f*v+i*m*v+s*f*_-i*d*_,n[10]=s*l*y-o*u*y+o*h*v-i*l*v-s*h*_+i*u*_,n[14]=o*u*f-s*l*f-o*h*d+i*l*d+s*h*m-i*u*m,n[3]=c*d*y-u*p*y-c*f*v+h*p*v+u*f*x-h*d*x,n[7]=s*p*y-a*d*y+a*f*v-i*p*v-s*f*x+i*d*x,n[11]=a*u*y-s*c*y-a*h*v+i*c*v+s*h*x-i*u*x,n[15]=s*c*f-a*u*f+a*h*d-i*c*d-s*h*p+i*u*p;var b=i*n[0]+h*n[4]+f*n[8]+y*n[12];if(0==b){var w="THREE.Matrix4.getInverse(): can\'t invert matrix, determinant is 0";if(e)throw new Error(w);return g.warn(w),this.identity(),this}return this.multiplyScalar(1/b),this},translate:function(t){g.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(t){g.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(t){g.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(t){g.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(t,e){g.error("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,Math.max(n,r)))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,s=t.x,a=t.y,o=t.z,h=i*s,u=i*a;return this.set(h*s+n,h*a-r*o,h*o+r*a,0,h*a+r*o,u*a+n,u*o-r*s,0,h*o-r*a,u*o+r*s,i*o*o+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t=new g.Vector3,e=new g.Matrix4;return function(n,r,i){var s=this.elements,a=t.set(s[0],s[1],s[2]).length(),o=t.set(s[4],s[5],s[6]).length(),h=t.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),n.x=s[12],n.y=s[13],n.z=s[14],e.elements.set(this.elements);var u=1/a,c=1/o,l=1/h;return e.elements[0]*=u,e.elements[1]*=u,e.elements[2]*=u,e.elements[4]*=c,e.elements[5]*=c,e.elements[6]*=c,e.elements[8]*=l,e.elements[9]*=l,e.elements[10]*=l,r.setFromRotationMatrix(e),i.x=a,i.y=o,i.z=h,this}}(),makeFrustum:function(t,e,n,r,i,s){var a=this.elements,o=2*i/(e-t),h=2*i/(r-n),u=(e+t)/(e-t),c=(r+n)/(r-n),l=-(s+i)/(s-i),f=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=h,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(t,e,n,r){var i=n*Math.tan(g.Math.degToRad(.5*t)),s=-i,a=s*e,o=i*e;return this.makeFrustum(a,o,s,i,n,r)},makeOrthographic:function(t,e,n,r,i,s){var a=this.elements,o=e-t,h=n-r,u=s-i,c=(e+t)/o,l=(n+r)/h,f=(s+i)/u;return a[0]=2/o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2/h,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2/u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},clone:function(){return(new g.Matrix4).fromArray(this.elements)}},g.Sphere=function(t,e){this.center=void 0!==t?t:new g.Vector3,this.radius=void 0!==e?e:0},g.Sphere.prototype={constructor:g.Sphere,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(f=new g.Box3,function(t,e){var n=this.center;void 0!==e?n.copy(e):f.setFromPoints(t).center(n);for(var r=0,i=0,s=t.length;i<s;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}),copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new g.Vector3;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new g.Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius},clone:function(){return(new g.Sphere).copy(this)}},g.Frustum=function(t,e,n,r,i,s){this.planes=[void 0!==t?t:new g.Plane,void 0!==e?e:new g.Plane,void 0!==n?n:new g.Plane,void 0!==r?r:new g.Plane,void 0!==i?i:new g.Plane,void 0!==s?s:new g.Plane]},g.Frustum.prototype={constructor:g.Frustum,set:function(t,e,n,r,i,s){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(s),this},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=n[6],c=n[7],l=n[8],f=n[9],d=n[10],p=n[11],m=n[12],y=n[13],v=n[14],g=n[15];return e[0].setComponents(a-r,c-o,p-l,g-m).normalize(),e[1].setComponents(a+r,c+o,p+l,g+m).normalize(),e[2].setComponents(a+i,c+h,p+f,g+y).normalize(),e[3].setComponents(a-i,c-h,p-f,g-y).normalize(),e[4].setComponents(a-s,c-u,p-d,g-v).normalize(),e[5].setComponents(a+s,c+u,p+d,g+v).normalize(),this},intersectsObject:(m=new g.Sphere,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),m.copy(e.boundingSphere),m.applyMatrix4(t.matrixWorld),this.intersectsSphere(m)}),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:(d=new g.Vector3,p=new g.Vector3,function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];d.x=r.normal.x>0?t.min.x:t.max.x,p.x=r.normal.x>0?t.max.x:t.min.x,d.y=r.normal.y>0?t.min.y:t.max.y,p.y=r.normal.y>0?t.max.y:t.min.y,d.z=r.normal.z>0?t.min.z:t.max.z,p.z=r.normal.z>0?t.max.z:t.min.z;var i=r.distanceToPoint(d),s=r.distanceToPoint(p);if(i<0&&s<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0},clone:function(){return(new g.Frustum).copy(this)}},g.Plane=function(t,e){this.normal=void 0!==t?t:new g.Vector3(1,0,0),this.constant=void 0!==e?e:0},g.Plane.prototype={constructor:g.Plane,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new g.Vector3,e=new g.Vector3;return function(n,r,i){var s=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(s,n),this}}(),copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new g.Vector3).copy(this.normal).multiplyScalar(n)},isIntersectionLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectLine:function(){var t=new g.Vector3;return function(e,n){var r=n||new g.Vector3,i=e.delta(t),s=this.normal.dot(i);if(0==s)return 0==this.distanceToPoint(e.start)?r.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/s;return a<0||a>1?void 0:r.copy(i).multiplyScalar(a).add(e.start)}}(),coplanarPoint:function(t){return(t||new g.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new g.Vector3,e=new g.Vector3,n=new g.Matrix3;return function(r,i){var s=i||n.getNormalMatrix(r),a=t.copy(this.normal).applyMatrix3(s),o=this.coplanarPoint(e);return o.applyMatrix4(r),this.setFromNormalAndCoplanarPoint(a,o),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant==this.constant},clone:function(){return(new g.Plane).copy(this)}},g.Math={generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8==i||13==i||18==i||23==i?n[i]="-":14==i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19==i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return t<e?e:t>n?n:t},clampBottom:function(t,e){return t<e?e:t},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(t,e){return Math.floor(this.randFloat(t,e))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:(v=Math.PI/180,function(t){return t*v}),radToDeg:(y=180/Math.PI,function(t){return t*y}),isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}}}).call(this,n(40)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r,i,s=n(0),a=function(t){this.elements=t?new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.isDoublePrecision=!!t};a.prototype={constructor:a,set:function(t,e,n,r,i,s,a,o,h,u,c,l,f,d,p,m){var y=this.elements;return y[0]=t,y[4]=e,y[8]=n,y[12]=r,y[1]=i,y[5]=s,y[9]=a,y[13]=o,y[2]=h,y[6]=u,y[10]=c,y[14]=l,y[3]=f,y[7]=d,y[11]=p,y[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(t){return this.elements.set(t.elements),this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,s=t.w,a=n+n,o=r+r,h=i+i,u=n*a,c=n*o,l=n*h,f=r*o,d=r*h,p=i*h,m=s*a,y=s*o,v=s*h;return e[0]=1-(f+p),e[4]=c-v,e[8]=l+y,e[1]=c+v,e[5]=1-(u+p),e[9]=d-m,e[2]=l-y,e[6]=d+m,e[10]=1-(u+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},multiply:function(t){return this.multiplyMatrices(this,t)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,s=n[0],a=n[4],o=n[8],h=n[12],u=n[1],c=n[5],l=n[9],f=n[13],d=n[2],p=n[6],m=n[10],y=n[14],v=n[3],g=n[7],x=n[11],_=n[15],b=r[0],w=r[4],k=r[8],z=r[12],A=r[1],S=r[5],E=r[9],M=r[13],O=r[2],T=r[6],C=r[10],P=r[14],I=r[3],R=r[7],F=r[11],U=r[15];return i[0]=s*b+a*A+o*O+h*I,i[4]=s*w+a*S+o*T+h*R,i[8]=s*k+a*E+o*C+h*F,i[12]=s*z+a*M+o*P+h*U,i[1]=u*b+c*A+l*O+f*I,i[5]=u*w+c*S+l*T+f*R,i[9]=u*k+c*E+l*C+f*F,i[13]=u*z+c*M+l*P+f*U,i[2]=d*b+p*A+m*O+y*I,i[6]=d*w+p*S+m*T+y*R,i[10]=d*k+p*E+m*C+y*F,i[14]=d*z+p*M+m*P+y*U,i[3]=v*b+g*A+x*O+_*I,i[7]=v*w+g*S+x*T+_*R,i[11]=v*k+g*E+x*C+_*F,i[15]=v*z+g*M+x*P+_*U,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],s=t[1],a=t[5],o=t[9],h=t[13],u=t[2],c=t[6],l=t[10],f=t[14];return t[3]*(+i*o*c-r*h*c-i*a*l+n*h*l+r*a*f-n*o*f)+t[7]*(+e*o*f-e*h*l+i*s*l-r*s*f+r*h*u-i*o*u)+t[11]*(+e*h*c-e*a*f-i*s*c+n*s*f+i*a*u-n*h*u)+t[15]*(-r*a*u-e*o*c+e*a*l+r*s*c-n*s*l+n*o*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],s=r[4],a=r[8],o=r[12],h=r[1],u=r[5],c=r[9],l=r[13],f=r[2],d=r[6],p=r[10],m=r[14],y=r[3],v=r[7],g=r[11],x=r[15];n[0]=c*m*v-l*p*v+l*d*g-u*m*g-c*d*x+u*p*x,n[4]=o*p*v-a*m*v-o*d*g+s*m*g+a*d*x-s*p*x,n[8]=a*l*v-o*c*v+o*u*g-s*l*g-a*u*x+s*c*x,n[12]=o*c*d-a*l*d-o*u*p+s*l*p+a*u*m-s*c*m,n[1]=l*p*y-c*m*y-l*f*g+h*m*g+c*f*x-h*p*x,n[5]=a*m*y-o*p*y+o*f*g-i*m*g-a*f*x+i*p*x,n[9]=o*c*y-a*l*y-o*h*g+i*l*g+a*h*x-i*c*x,n[13]=a*l*f-o*c*f+o*h*p-i*l*p-a*h*m+i*c*m,n[2]=u*m*y-l*d*y+l*f*v-h*m*v-u*f*x+h*d*x,n[6]=o*d*y-s*m*y-o*f*v+i*m*v+s*f*x-i*d*x,n[10]=s*l*y-o*u*y+o*h*v-i*l*v-s*h*x+i*u*x,n[14]=o*u*f-s*l*f-o*h*d+i*l*d+s*h*m-i*u*m,n[3]=c*d*y-u*p*y-c*f*v+h*p*v+u*f*g-h*d*g,n[7]=s*p*y-a*d*y+a*f*v-i*p*v-s*f*g+i*d*g,n[11]=a*u*y-s*c*y-a*h*v+i*c*v+s*h*g-i*u*g,n[15]=s*c*f-a*u*f+a*h*d-i*c*d-s*h*p+i*u*p;var _=i*n[0]+h*n[4]+f*n[8]+y*n[12];if(0==_){var b="Matrix4.getInverse(): can\'t invert matrix, determinant is 0";if(e)throw new Error(b);return console.warn(b),this.identity(),this}return this.multiplyScalar(1/_),this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,Math.max(n,r)))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,s=t.x,a=t.y,o=t.z,h=i*s,u=i*a;return this.set(h*s+n,h*a-r*o,h*o+r*a,0,h*a+r*o,u*a+n,u*o-r*s,0,h*o-r*a,u*o+r*s,i*o*o+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:(r=new s.a,i=new a(!0),function(t,e,n){var s=this.elements,a=r.set(s[0],s[1],s[2]).length(),o=r.set(s[4],s[5],s[6]).length(),h=r.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),t.x=s[12],t.y=s[13],t.z=s[14],i.elements.set(this.elements);var u=1/a,c=1/o,l=1/h;return i.elements[0]*=u,i.elements[1]*=u,i.elements[2]*=u,i.elements[4]*=c,i.elements[5]*=c,i.elements[6]*=c,i.elements[8]*=l,i.elements[9]*=l,i.elements[10]*=l,e.setFromRotationMatrix(i),n.x=a,n.y=o,n.z=h,this}),transformPoint:function(t){var e=t.x,n=t.y,r=t.z,i=this.elements;return t.x=i[0]*e+i[4]*n+i[8]*r+i[12],t.y=i[1]*e+i[5]*n+i[9]*r+i[13],t.z=i[2]*e+i[6]*n+i[10]*r+i[14],t},transformDirection:function(t){var e=t.x,n=t.y,r=t.z,i=this.elements;t.x=i[0]*e+i[4]*n+i[8]*r,t.y=i[1]*e+i[5]*n+i[9]*r,t.z=i[2]*e+i[6]*n+i[10]*r;var s=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z);if(s>0){var a=1/s;t.x*=a,t.y*=a,t.z*=a}return t},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},clone:function(){return new a(this.isDoublePrecision).fromArray(this.elements)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={UNKNOWN_FAILURE:1,BAD_DATA:2,NETWORK_FAILURE:3,NETWORK_ACCESS_DENIED:4,NETWORK_FILE_NOT_FOUND:5,NETWORK_SERVER_ERROR:6,NETWORK_UNHANDLED_RESPONSE_CODE:7,BROWSER_WEBGL_NOT_SUPPORTED:8,BAD_DATA_NO_VIEWABLE_CONTENT:9,BROWSER_WEBGL_DISABLED:10,BAD_DATA_MODEL_IS_EMPTY:11,RTC_ERROR:12,UNSUPORTED_FILE_EXTENSION:13,VIEWER_INTERNAL_ERROR:14,WEBGL_LOST_CONTEXT:15,LOAD_CANCELED:16}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(12),i=new ArrayBuffer(8),s=new Uint8Array(i),a=new Uint16Array(i),o=new Int32Array(i),h=new Uint32Array(i),u=new Float32Array(i),c=new Float64Array(i);function l(t){this.buffer=t,this.offset=0,this.byteLength=t.length}l.prototype.seek=function(t){this.offset=t},l.prototype.getBytes=function(t){var e=new Uint8Array(this.buffer.buffer,this.offset,t);return this.offset+=t,e},l.prototype.getVarints=function(){var t,e=0,n=0;do{e|=(127&(t=this.buffer[this.offset++]))<<n,n+=7}while(128&t);return e},l.prototype.getUint8=function(){return this.buffer[this.offset++]},l.prototype.getUint16=function(){return s[0]=this.buffer[this.offset++],s[1]=this.buffer[this.offset++],a[0]},l.prototype.getInt16=function(){var t=this.getUint16();return t>32767&&(t|=4294901760),t},l.prototype.getInt32=function(){var t=this.buffer,e=s,n=this.offset;return e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],this.offset+=4,o[0]},l.prototype.getUint32=function(){var t=this.buffer,e=s,n=this.offset;return e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],this.offset+=4,h[0]},l.prototype.getFloat32=function(){var t=this.buffer,e=s,n=this.offset;return e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],this.offset+=4,u[0]},l.prototype.getIndicesArray=function(t,e,n){for(var r=this.buffer,i=new Uint8Array(t,e,2*n),s=this.offset,a=0,o=2*n;a<o;a+=2)i[a]=r[s],i[a+1]=r[s+1],s+=4;this.offset=s},l.prototype.getVector3Array=function(t,e,n,r){var i=this.buffer,s=this.offset,a=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);if(3===r&&0===n){var o=12*e;a.set(i.subarray(s,s+o)),this.offset+=o}else{r*=4;for(var h=4*n,u=0;u<e;u++){for(var c=0;c<12;c++)a[h+c]=i[s++];h+=r}this.offset=s}},l.prototype.getVector2Array=function(t,e,n,r){var i=this.buffer,s=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),a=this.offset;r*=4;for(var o=4*n,h=0;h<e;h++){for(var u=0;u<8;u++)s[o+u]=i[a++];o+=r}this.offset=a},l.prototype.getVector4=function(t,e){for(var n=this.buffer,r=s,i=this.offset,a=u,o=0;o<4;o++)r[0]=n[i],r[1]=n[i+1],r[2]=n[i+2],r[3]=n[i+3],t[e+o]=a[0],i+=4;this.offset=i},l.prototype.getFloat64=function(){for(var t=this.buffer,e=s,n=this.offset,r=0;r<8;r++)e[r]=t[n+r];return this.offset+=8,c[0]},l.prototype.getString=function(t){var e=Object(r.b)(this.buffer,this.offset,t);return this.offset+=t,e},l.prototype.reset=function(t){this.buffer=t,this.offset=0,this.byteLength=t.length}},function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var r=n(1),i=n(8);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.options=e}var e,n,r;return e=t,r=[{key:"name",get:function(){return null}},{key:"defaultOptions",get:function(){return{}}}],(n=[{key:"init",value:function(){}},{key:"register",value:function(){}},{key:"optIn",value:function(t){}},{key:"optOut",value:function(t){}},{key:"hasOptedOut",value:function(){}},{key:"getDistinctId",value:function(){}},{key:"track",value:function(t,e){}},{key:"identify",value:function(t){}}])&&a(e.prototype,n),r&&a(e,r),t}();function h(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.providerMap={},this.instances=[],this.superProps={},this.shouldTrack=!0,this.trackCache=[]}var e,n,r;return e=t,(n=[{key:"registerProvider",value:function(t){var e=this;if(t)if(t.name){var n=t.name.toLowerCase();n in this.providerMap?z.warn("Provider with name ".concat(t.name," already registered")):this.providerMap[n]=t;var r=this.createInstance(t.name,t.defaultOptions);this.instances.push(r),this.shouldTrack&&this.init(r),this.trackCache.length>0&&(this.trackCache.forEach((function(t){var n=t.event,r=t.properties;e.track(n,r)})),this.trackCache=[])}else z.error("missing provider name");else z.error("Undefined provider")}},{key:"init",value:function(t){t.initialized||(t.init(),t.register(this.superProps))}},{key:"createInstance",value:function(t,e){var n=t&&t.toLowerCase();if(n in this.providerMap){var r=this.providerMap[n],i=new r(e);if(!(i instanceof o))throw new Error("not an analytics provider");return r.instanceCount=r.instanceCount||0,i.name="".concat(n,"-").concat(r.instanceCount),r.instanceCount++,i}z.error("Unknown ".concat(t))}},{key:"optIn",value:function(t){var e=this;this.instances.forEach((function(t){return e.init(t)})),this._callMethod("optIn",t),this.shouldTrack=!0}},{key:"optOut",value:function(t){this._callMethod("optOut",t),this.shouldTrack=!1}},{key:"hasOptedOut",value:function(){return this._callMethod("hasOptedOut")}},{key:"getDistinctId",value:function(){return this._callMethod("getDistinctId")}},{key:"track",value:function(t,e){this.shouldTrack&&(0===this.instances.length?this.trackCache.push({event:t,properties:e}):this._callMethod("track",t,e))}},{key:"identify",value:function(t){this._callMethod("identify",t)}},{key:"_callMethod",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e.slice(1,e.length);return this.instances.map((function(t){return{name:t.name,value:t[r].apply(t,h(i))}}))}}])&&c(e.prototype,n),r&&c(e,r),t}());function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=Object(r.a)(),p=d,m=5,y=4,v=3,g=2,x=1;function _(){this.runtimeStats={},this.level=-1,this.setLevel(x),this._reportError=this._reportError.bind(this)}function b(t,e){var n;"string"==typeof e?n={message:e}:"object"===f(e)&&(n=e),l.track(t,n)}function w(){return"undefined"!=typeof window?encodeURI(p.location.href):""}function k(){}_.prototype.initialize=function(t){if(t.eventCallback&&(this.callback=t.eventCallback),this.sessionId=t.sessionId,!this.sessionId){var e=Date.now()+"";this.sessionId=parseFloat((1e4*Math.random()|0)+""+e.substring(4))}"number"==typeof t.logLevel&&this.setLevel(t.logLevel),this.environmentInfo={touch:Object(r.d)(),env:Object(i.b)(),referer:w(),version:d.LMV_VIEWER_VERSION,build_type:d.LMV_BUILD_TYPE};var n={category:"viewer_start",touch:this.environmentInfo.touch,env:this.environmentInfo.env,referer:this.environmentInfo.referer,version:this.environmentInfo.version,build_type:this.environmentInfo.build_type};this.track(n);var s=this;this.interval=setInterval((function(){s.reportRuntimeStats()}),6e4)},_.prototype.shutdown=function(){clearInterval(this.interval),this.interval=void 0},_.prototype.track=function(t){this.updateRuntimeStats(t),!Object(i.c)()&&this.sessionId&&(this.callback&&(t.timestamp=Date.now(),t.sessionId=this.sessionId,this.callback(t)),"error"===(null==t?void 0:t.category)&&b("viewer.error.tracked",t))},_.prototype.updateRuntimeStats=function(t){if(t.hasOwnProperty("aggregate"))switch(t.aggregate){case"count":this.runtimeStats[t.name]>0?this.runtimeStats[t.name]++:this.runtimeStats[t.name]=1,this.runtimeStats._nonempty=!0;break;case"last":this.runtimeStats[t.name]=t.value,this.runtimeStats._nonempty=!0;break;default:this.warn("unknown log aggregate type")}},_.prototype.reportRuntimeStats=function(){this.runtimeStats._nonempty&&(delete this.runtimeStats._nonempty,this.runtimeStats.category="misc_stats",this.track(this.runtimeStats),this.runtimeStats={})},_.prototype.setLevel=function(t){this.level!==t&&(this.level=t,this.debug=t>=m?console.log:k,this.log=t>=y?console.log:k,this.info=t>=v?console.info:k,this.warn=t>=g?console.warn:k,this.error=t>=x?this._reportError:k)},_.prototype._reportError=function(){console.error.apply(console,arguments);var t=Array.prototype.slice.call(arguments).join(" ");this.callback&&this.callback({category:"error",message:t}),b("viewer.error.logged",t)};var z=new _;var A=n(4),S=n(12),E=n(21);function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,s=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return n}(t,e)||T(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t){return function(t){if(Array.isArray(t))return C(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||T(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){if(t){if("string"==typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(t,e):void 0}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var P,I,R,F,U,V,L,B,D=n(13),N={WORKER_REGISTER_FILE_PORT:"REGISTER_FILE_PORT",WORKER_READ_FILE:"READ_FILE"},j=!1;function q(t){var e=t.split("/");if(0==e.length)return t;for(var n=[],r=0;r<e.length;++r){var i=e[r];"."!==i&&(".."===i&&n.length?n.pop():n.push(i))}return 0==n.length?"":n.join("/")}function H(t,e){return-1===e.indexOf("file://")&&(-1!==e.indexOf("://")||(!!t||void 0))}if(N.simplifyPath=q,N.OSS_PREFIX="urn:adsk.objects:os.object:",N.generateUrl=function(t,e,n,s,a){if(n=n||"",Object(r.c)()&&!H(t,n))return n;var o=(n=q(n)).indexOf("urn:"),h=n.indexOf("?");if(n=-1!=o?-1!==h?n.slice(0,o)+encodeURIComponent(n.slice(o,h))+n.slice(h):n.slice(0,o)+encodeURIComponent(n.slice(o)):encodeURI(n),a&&-1!==n.indexOf("/oss/v2/buckets")){var u=n.indexOf("/objects/")+9,c=n.substring(u);n=n.substring(0,u)+encodeURIComponent(c)}if(!e||0!==decodeURIComponent(n).indexOf("urn:"))return H(null,n)?n:t+n;switch("items"!==e&&(n=n.substr(6)),e){case"items":return i.a.getItemApi(t,n,s);case"bubbles":return i.a.getManifestApi(t,n,s);case"thumbnails":return i.a.getThumbnailApi(t,n,s)}},Object(r.c)())P=n(11),I=n(11),R=n(11),F=n(11),U=n(11),V=new R.Agent({keepAlive:!0,keepAliveMsecs:100,maxSockets:10}),L=new F.Agent({keepAlive:!0,keepAliveMsecs:100,maxSockets:10}),B=new R.Agent({maxSockets:10}),N.rawGet=function(t,e,n,r,i,s){if(s=s||{},H(t,n=N.generateUrl(t,e,n,void 0,s.escapeOssObjects))){if(s.queryParams){var a=-1===n.indexOf("?")?"?":"&";n=n+a+s.queryParams}var o=U.parse(n),h={host:o.hostname,port:o.port,method:s.method||"GET",path:o.path,headers:{},retryCount:0,agent:"https:"===o.protocol?V:L};if(h.host.endsWith(".api.autodesk.com")&&(h.path.startsWith("/derivativeservice")||h.path.startsWith("/modelderivative"))&&(h.agent=B),s.headers)for(var u in s.headers)h.headers[u]=s.headers[u];h.headers["accept-encoding"]||(h.headers["accept-encoding"]="gzip, deflate"),s.range&&(h.headers.Range="bytes="+s.range.min+"-"+s.range.max),(s.ondata||s.onprogress)&&(s.responseType="arraybuffer");var c=("https:"===o.protocol?R:F).request(h,(function(t){var e=!(t.statusCode>=200&&t.statusCode<400),a=t;e||!function(t,e){return!!("gzip"===t.headers["content-encoding"]||e.endsWith(".json.gz")||e.endsWith("FragmentList.pack")||e.endsWith("LightList.bin")||e.endsWith("CameraList.bin")||e.endsWith("CameraDefinitions.bin")||e.endsWith("LightDefinitions.bin"))}(t,o.pathname)||s.skipDecompress||(a=t.pipe(I.createGunzip())),"json"!==s.responseType&&"text"!==s.responseType&&s.responseType||a.setEncoding("utf8");var h=[],u=Buffer.allocUnsafe(65536),l=0;a.on("data",(function(t){if(s.onprogress){if(t.length+l>u.length){var e=Buffer.allocUnsafe(0|Math.ceil(1.5*u.length));u.copy(e,0,0,l),u=e}return t.copy(u,l,0,t.length),l+=t.length,void(s.onprogress(u,l)&&c.abort())}h.push(t),s.ondata&&s.ondata(t)})),a.on("end",(function(){if(t.statusCode>=200&&t.statusCode<400){if("json"===s.responseType){var e=JSON.parse(h.join(""));return void r(e)}if("text"===s.responseType||""===s.responseType){var a=h.join("");return void r(a)}var o=s.onprogress?u:Buffer.concat(h);if(!s.skipDecompress&&31===o[0]&&139===o[1]){z.warn("An LMV resource ("+n+") was double compressed, or Content-Encoding header missing");try{o=I.gunzipSync(o),l=o.length}catch(t){i(A.a.BAD_DATA,"Malformed data received when requesting file",{url:n,exception:t.toString(),stack:t.stack})}}200===c.status&&s.range&&(o=new Uint8Array(o,s.range.min,s.range.max-s.range.min)),r(o,l)}else i&&i(t.statusCode,t.statusMessage,{url:n})}))}));c.on("error",(function(t){i&&i(t.code,t.message,{url:n})})),s.postData&&c.write(s.postData),c.end()}else!function(t,e,n,r){function i(t){if("json"===r.responseType)try{return JSON.parse(t.toString("utf8"))}catch(t){n(t)}return t}0===t.indexOf("file://")&&(t=t.substr(7)),P.readFile(t,(function(s,a){s?n(0,0,{httpStatusText:s,url:t}):31===a[0]&&139===a[1]?I.gunzip(a,null,(function(s,a){s?n(0,0,{httpStatusText:s,url:t}):(a=i(a),r.ondata&&r.ondata(a),e(a))})):(a=i(a),r.ondata&&r.ondata(a),e(a))}))}(n,r,i,s)};else{var Z=new(n(38));Z.max=25;var W={},G={},Q={};N.registerProtocolPort=function(t,e){/^(http(s)?|file):/gi.test(t)?console.warn("http(s) or file protocol were not allowed to be handled"):e?(W[t]=e,e.onmessage=function(t){var e=t.data.url;if(G[e]){var n=G[e];if(t.data.error)n.onFailureWrapped(A.a.BAD_DATA,"Malformed data received when requesting file",{url:e,exception:t.data.error.message,stack:t.data.error.stack});else{var r=t.data.buffer;if(G[e]=void 0,31===r[0]&&139===r[1]&&e.match(/(.f2d|.gz)$/gi))try{r=D.ungzip(r),n.options&&n.options.ondata&&n.options.ondata(r),n.onSuccessWrapped(r)}catch(t){n.onFailureWrapped(A.a.BAD_DATA,"Malformed data received when requesting file",{url:e,exception:t.toString(),stack:t.stack})}else n.onSuccessWrapped(r)}}else if(Q[e]){var i=[];t.data&&t.data.buffer&&t.data.buffer.buffer instanceof ArrayBuffer&&i.push(t.data.buffer.buffer),Q[e].postMessage(t.data,i),Q[e]=void 0}}):W[t]&&W[t]instanceof MessagePort&&(W[t].onmessage=void 0,W[t]=void 0)},N.handlerProtocol=function(t,e,n,r,i){var s=W[t];G[e]={onSuccessWrapped:n,onFailureWrapped:r,options:i},s.postMessage({operation:N.WORKER_READ_FILE,url:e})},N.forwardProtocolHandlerToWorker=function(t){var e={},n=new MessageChannel;for(var r in n.port1.onmessage=function(t){var e=new URL(t.data.url);W[e.protocol].postMessage(t.data),Q[e]=n.port1},W)W[r]instanceof MessagePort&&(e[r]=n.port2);t.doOperation({operation:N.WORKER_REGISTER_FILE_PORT,protocolPortMap:e},[n.port2])},N.rawGet=function(t,e,n,r,i,s){Z.go((function(a){var o=function(){a();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i&&i.apply(i,e)},h=function(){a();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r&&r.apply(r,e)},u=/^(\\w+:)\\/\\//gi.exec(n);u&&2==u.length&&W[u[1]]?N.handlerProtocol(u[1],n,h,o,s):N._rawGet(t,e,n,h,(function(){var r=arguments.length<=0?void 0:arguments[0],i=((null==s?void 0:s.method)||((null==s?void 0:s.noBody)?"HEAD":"GET")).toLowerCase(),a="get"===i&&(429===r||r>=500);if(a){var u=arguments.length<=2?void 0:arguments[2],c=u.request,l=Number(null==c?void 0:c.getResponseHeader("retry-after"))||100;N._retryRequest(t,e,n,s,l).then((function(t){return h.apply(void 0,O(t))})).catch((function(t){return o.apply(void 0,O(t))}))}else o.apply(void 0,arguments)}),s)}))},N._retryRequest=function(t,e,n,r,i){var s={delayFirstAttempt:!0,startingDelay:i,numOfAttempts:4,retry:function(t,e){var n=M(t,3),r=n[0],i=n[1],s=n[2].url;return z.warn("request ".concat(s," failed with status ").concat(r," ").concat(i,". Attempt ").concat(e)),!0},timeMultiple:5};return Object(E.backOff)((function(){return new Promise((function(i,s){N._rawGet(t,e,n,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(e)}),(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s(e)}),r)}))}),s)},N._rawGet=function(t,e,n,r,i,s){if(s=s||{},n=N.generateUrl(t,e,n,s.apiData,s.escapeOssObjects),s.queryParams){var a=-1===n.indexOf("?")?"?":"&";n=n+a+s.queryParams}var o=new XMLHttpRequest;function h(t){i&&i(o.status,o.statusText,{url:n,request:o})}function u(t){if("json"===s.responseType)try{if(t instanceof Uint8Array)return Object(S.a)(t);if("string"==typeof t)return JSON.parse(t)}catch(t){}return t}function c(t){if(o.status>=200&&o.status<400)if(o.response&&o.response instanceof ArrayBuffer){var e;if(e=200===o.status&&s.range?new Uint8Array(o.response,s.range.min,s.range.max-s.range.min):new Uint8Array(o.response),!s.skipDecompress&&31===e[0]&&139===e[1]){j||(j=!0,z.warn("An LMV resource ("+n+") was not uncompressed by the browser. This hurts performance. Check the Content-Encoding header returned by the server and check whether you\'re getting double-compressed streams. The warning prints only once but it\'s likely the problem affects multiple resources."));try{e=D.ungzip(e)}catch(t){i(A.a.BAD_DATA,"Malformed data received when requesting file",{url:n,exception:t.toString(),stack:t.stack,request:o})}}r&&r(u(e))}else{var a=o.response;a||s.responseType&&"text"!==s.responseType||(a=o.responseText),r&&r(u(a))}else h()}try{var l=!s.hasOwnProperty("asynchronous")||s.asynchronous;if(o.open(s.method||(s.noBody?"HEAD":"GET"),n,l),s.hasOwnProperty("responseType")&&(o.responseType=s.responseType),o.withCredentials=!0,s.hasOwnProperty("withCredentials")&&(o.withCredentials=s.withCredentials),s.range&&o.setRequestHeader("Range","bytes="+s.range.min+"-"+s.range.max),s.headers)for(var f in s.headers)o.setRequestHeader(f,s.headers[f]),"authorization"===f.toLocaleLowerCase()&&(o.withCredentials=!1);l&&(o.onload=c,o.onerror=h,o.ontimeout=h,(s.ondata||s.onprogress)&&(o.overrideMimeType("text/plain; charset=x-user-defined"),s._dlProgress={streamOffset:0},o.onreadystatechange=function(){if(o.readyState>2&&200===o.status)if(s.ondata){var t=o.responseText;if(s._dlProgress.streamOffset>=t.length)return;var e=function(t,e){for(var n=t.length-e,r=new ArrayBuffer(n),i=new Uint8Array(r,0),s=0,a=e;s<n;s++,a++)i[s]=255&t.charCodeAt(a);return i}(t,s._dlProgress.streamOffset);s._dlProgress.streamOffset=t.length,s.ondata(e)}else if(s.onprogress){s.onprogress(o.responseText)&&o.abort()}})),o.send(s.postData),l||c()}catch(t){i(o.status,o.statusText,{url:n,exception:t,request:o})}}}function X(t,e){e.hasOwnProperty("responseType")||(e.responseType="arraybuffer"),e.hasOwnProperty("withCredentials")||(e.withCredentials=!!t.auth),e.headers=t.headers,e.queryParams=t.queryParams,e.endpoint=t.endpoint,e.escapeOssObjects=t.escapeOssObjects}N.defaultFailureCallback=function(t,e,n){403==t?this.raiseError(A.a.NETWORK_ACCESS_DENIED,"Access denied to remote resource",{url:n.url,httpStatus:t,httpStatusText:e}):404==t?this.raiseError(A.a.NETWORK_FILE_NOT_FOUND,"Remote resource not found",{url:n.url,httpStatus:t,httpStatusText:e}):t>=500&&t<600?this.raiseError(A.a.NETWORK_SERVER_ERROR,"Server error when accessing resource",{url:n.url,httpStatus:t,httpStatusText:e}):n.exception?this.raiseError(A.a.NETWORK_FAILURE,"Network failure",{url:n.url,exception:n.exception.toString(),stack:n.exception.stack}):this.raiseError(A.a.NETWORK_UNHANDLED_RESPONSE_CODE,"Unhandled response code from server",{url:n.url,httpStatus:t,httpStatusText:e,data:n})},N.getItem=function(t,e,n,r,i){if(X(t,i=i||{}),i.range&&!t.supportsRangeRequests){var s="start="+i.range.min+"&end="+i.range.max;i.queryParams?i.queryParams+="&"+s:i.queryParams=s,i.range=void 0}N.rawGet(t.endpoint,"items",e,n,r,i)},N.getManifest=function(t,e,n,r,i){(i=i||{}).hasOwnProperty("responseType")||(i.responseType="json"),X(t,i),N.rawGet(t.endpoint,"bubbles",e,n,r,i)},N.getThumbnail=function(t,e,n,r,i){X(t,i=i||{});var s=i.queryParams||"",a=[];if(-1===s.indexOf("guid=")&&i.guid&&a.push("guid="+encodeURIComponent(i.guid)),-1===s.indexOf("role=")){var o=i.role||"rendered";a.push("role="+o)}if(-1===s.indexOf("width=")){var h=i.size||400;a.push("width="+h)}if(-1===s.indexOf("height=")){h=i.size||400;a.push("height="+h)}-1===s.indexOf("acmsession=")&&i.acmsession&&a.push("acmsession="+i.acmsession);var u=a.join("&");i.queryParams?i.queryParams=i.queryParams+"&"+u:i.queryParams=u,N.rawGet(t.endpoint,"thumbnails",e,n,r,i)},N.getACMSession=function(t,e,n,r){var i,s={};for(var a in e)"oauth2AccessToken"===a?i=e[a]:-1!==a.indexOf("x-ads-acm")&&(s[a]=e[a]);s.application="autodesk";var o=new XMLHttpRequest;o.open("POST",t+"/oss-ext/v2/acmsessions",!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization","Bearer "+i),o.responseType="json",o.onload=function(){if(200===o.status&&o.response){var t="string"==typeof o.response?JSON.parse(o.response):o.response;t&&t.acmsession?n(t.acmsession):r(o.status,"Can\'t get acm session from response.")}else r(o.status)},o.onerror=r,o.ontimeout=r,o.send(JSON.stringify(s)),delete s.application}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,s,a,o,h=n(5),u=n(3);function c(t){var e=this.stream=new h.a(t),n=e.getInt32();this.type=e.getString(n),this.version=e.getInt32(),this.types=null,this.entryOffsets=[];var r=e.offset;e.seek(e.byteLength-8);var i=e.getUint32();this.typesOffset=e.getUint32(),e.seek(this.typesOffset);var s=this.readU32V();this.types=[];for(var a=0;a<s;++a)this.types.push({entryClass:this.readString(),entryType:this.readString(),version:this.readU32V()});e.seek(i);var o=this.readU32V(),u=this.entryOffsets;for(a=0;a<o;++a)u.push(e.getUint32());e.seek(r)}c.prototype.readVarint=function(){var t,e=0,n=0;do{e|=(127&(t=this.stream.getUint8()))<<n,n+=7}while(128&t);return e},c.prototype.readU32V=c.prototype.readVarint,c.prototype.readU16=function(){return this.stream.getUint16()},c.prototype.readU8=function(){return this.stream.getUint8()},c.prototype.readString=function(){return this.stream.getString(this.readU32V())},c.prototype.readVector3f=function(){var t=this.stream;return{x:t.getFloat32(),y:t.getFloat32(),z:t.getFloat32()}},c.prototype.readF32=function(){return this.stream.getFloat32()},c.prototype.readVector3d=(r={x:0,y:0,z:0},function(){var t=this.stream;return r.x=t.getFloat64(),r.y=t.getFloat64(),r.z=t.getFloat64(),r}),c.prototype.readQuaternionf=(i={x:0,y:0,z:0,w:0},function(){var t=this.stream;return i.x=t.getFloat32(),i.y=t.getFloat32(),i.z=t.getFloat32(),i.w=t.getFloat32(),i}),c.prototype.readMatrix3f=(s=new u.a,function(t){t||(t=s);var e=this.stream;t.identity();for(var n=0;n<3;++n)for(var r=0;r<3;++r)t.elements[4*n+r]=e.getFloat32();return t}),c.prototype.readTransform=(a={x:1,y:1,z:1},o=new u.a(!0),function(t,e,n,r,i,s){var h,c,l=this.stream;switch(l.getUint8()){case 4:o.identity();break;case 0:h=this.readVector3d(),o.makeTranslation(h.x,h.y,h.z);break;case 1:c=this.readQuaternionf(),h=this.readVector3d(),a.x=1,a.y=1,a.z=1,o.compose(h,c,a);break;case 2:var f=l.getFloat32();c=this.readQuaternionf(),h=this.readVector3d(),a.x=f,a.y=f,a.z=f,o.compose(h,c,a);break;case 3:this.readMatrix3f(o),h=this.readVector3d(),o.setPosition(h)}if(s&&(s[0]=o.elements[12],s[1]=o.elements[13],s[2]=o.elements[14]),r&&o.multiplyMatrices(r,o),i&&(o.elements[12]-=i.x,o.elements[13]-=i.y,o.elements[14]-=i.z),void 0===t)return(new u.a).copy(o);var d=o.elements;e&&(e[n+0]=d[0],e[n+1]=d[1],e[n+2]=d[2],e[n+3]=d[4],e[n+4]=d[5],e[n+5]=d[6],e[n+6]=d[8],e[n+7]=d[9],e[n+8]=d[10],e[n+9]=d[12],e[n+10]=d[13],e[n+11]=d[14])}),c.prototype.getEntryCounts=function(){return this.entryOffsets.length},c.prototype.seekToEntry=function(t){if(t>=this.getEntryCounts())return null;this.stream.seek(this.entryOffsets[t]);var e=this.stream.getUint32();return e>=this.types.length?null:this.types[e]},c.prototype.readPathID=function(){var t=this.stream;if(this.version<2){if(!(r=t.getUint16()))return null;if(t.getUint16(),1==r)return"";for(var e=t.getUint16(),n=2;n<r;++n)e+="/"+t.getUint16()}else{var r;if(!(r=this.readU32V()))return null;if(this.readU32V(),1==r)return"";for(e=this.readU32V(),n=2;n<r;++n)e+="/"+this.readU32V()}return e}},function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return b}));var r=n(1),i=Object(r.a)(),s=i;s&&s.document;i.LOCALIZATION_REL_PATH="",i.LMV_VIEWER_VERSION="7.39.1",i.LMV_BUILD_TYPE="Production",i.LMV_RESOURCE_ROOT="",i.LMV_THIRD_PARTY_COOKIE=!Object(r.c)()&&void 0,"v"===i.LMV_VIEWER_VERSION.charAt(0)&&(i.LMV_VIEWER_VERSION=i.LMV_VIEWER_VERSION.substr(1)),i.LMV_VECTOR_PDF=!1,i.LMV_RASTER_PDF=!0,i.AEC_MODELTOSHEET_TRANSFORM=!1;function a(t){return"undefined"==typeof window?"":function(t,e){t=t.replace(/[\\[]/,"\\\\[").replace(/[\\]]/,"\\\\]");var n=new RegExp("[\\\\?&]"+t+"=([^&#]*)").exec(e);return null==n?"":decodeURIComponent(n[1].replace(/\\+/g," "))}(t,s.location.href)}var o=Object(r.a)(),h={},u=null;h.ENDPOINT_API_DERIVATIVE_SERVICE_V2="derivativeV2",h.ENDPOINT_API_MODEL_DERIVATIVE_V2="modelDerivativeV2",h.ENDPOINT_API_FLUENT="fluent",h.ENDPOINT_API_D3S="D3S";var c,l={derivativeV2:{baseURL:"/derivativeservice/v2",itemURL:"/derivativeservice/v2/derivatives/:derivativeurn",manifestURL:"/derivativeservice/v2/manifest/:urn",thumbnailsURL:"/derivativeservice/v2/thumbnails/:urn"},derivativeV2_EU:{baseURL:"/derivativeservice/v2/regions/eu",itemURL:"/derivativeservice/v2/regions/eu/derivatives/:derivativeurn",manifestURL:"/derivativeservice/v2/regions/eu/manifest/:urn",thumbnailsURL:"/derivativeservice/v2/regions/eu/thumbnails/:urn"},modelDerivativeV2:{baseURL:"/modelderivative/v2/",itemURL:"/modelderivative/v2/designdata/:urn/manifest/:derivativeurn",manifestURL:"/modelderivative/v2/designdata/:urn/manifest",thumbnailsURL:"/modelderivative/v2/designdata/:urn/thumbnail"},fluent:{baseURL:"/modeldata",itemURL:"/modeldata/file/:derivativeurn",manifestURL:"/modeldata/manifest/:urn",thumbnailsURL:"/derivativeservice/v2/thumbnails/:urn",cdnURL:"/cdn",cdnWS:"/cdnws"},D3S:{baseURL:"/modeldata",itemURL:"/modeldata/file/:derivativeurn",manifestURL:"/modeldata/manifest/:urn",thumbnailsURL:"/derivativeservice/v2/thumbnails/:urn",cdnURL:"/cdn",cdnWS:"/cdnws"},D3S_EU:{baseURL:"/modeldata",itemURL:"/modeldata/file/:derivativeurn",manifestURL:"/modeldata/manifest/:urn",thumbnailsURL:"/derivativeservice/v2/regions/eu/thumbnails/:urn",cdnURL:"/cdn",cdnWS:"/cdnws"}},f="",d=h.ENDPOINT_API_DERIVATIVE_SERVICE_V2,p=!1,m=!1,y="",v=!1;function g(){return c}h.HTTP_REQUEST_HEADERS={},h.queryParams={},h.setEndpointAndApi=function(t,e){t&&(f=t),e&&(d=e)},h.getEndpointAndApi=function(){return f+l[d].baseURL},h.getApiEndpoint=function(){return f},h.getApiFlavor=function(){return d},h.getCdnUrl=function(){return u||(f?f+l[d].cdnURL:void 0)},h.getCdnWebSocketEndpoint=function(){return f+(l[d].cdnWS||"")},h.setCdnUrl=function(t){u=t},h.getCdnRedirectUrl=function(){var t=l[d].cdnRedirectURL;return t?f+t:null},h.setAcmSession=function(t){y=t},h.getAcmSession=function(){return y},h.getManifestApi=function(t,e,n){var r=t||f;return e=e||"",r=(r+=l[n=n||d].manifestURL).replace(":urn",e)},h.getItemApi=function(t,e,n){var r=n||d,i=(t||f)+l[r].itemURL;e=e||"";var s=decodeURIComponent(e);if(-1!==i.indexOf(":urn")){var a=s.split("/")[0]||"";a=(a=a.split(":"))[a.length-1]||"",i=i.replace(":urn",a)}return r===h.ENDPOINT_API_MODEL_DERIVATIVE_V2&&(e=encodeURIComponent(s)),i=i.replace(":derivativeurn",e)},h.getThumbnailApi=function(t,e,n){return((t||f)+l[n||d].thumbnailsURL).replace(":urn",e||"")},h.getUseCredentials=function(){return p},h.getDomainParam=function(){return console.warn("getDomainParam is deprecated, switch to getQueryParams instead."),this.getUseCredentials()&&!Object(r.c)()?"domain="+encodeURIComponent(o.location.origin):""},h.addQueryParam=function(t,e){this.queryParams[t]=e},h.deleteQueryParam=function(t){delete this.queryParams[t]},h.getQueryParams=function(t){var e=this.getUseCredentials()&&!Object(r.c)()?"domain="+encodeURIComponent(o.location.origin):"";a("bypassds")&&(e=e?e+"&bypassds=1":"bypassds=1");var n=[];for(var i in this.queryParams)n.push(encodeURIComponent(i)+"="+encodeURIComponent(this.queryParams[i]));return n.length&&(e?e+="&"+n.join("&"):e=n.join("&")),e&&t&&(t.queryParams?t.queryParams+="&"+e:t.queryParams=e),e},h.setUseCredentials=function(t){p=t},h.setUseCookie=function(t){m=t},h.getUseCookie=function(){return m},h.isOtgBackend=function(){return this.getApiFlavor()===this.ENDPOINT_API_FLUENT},h.isSVF2Backend=function(){return"D3S"===this.getApiFlavor()||"D3S_EU"===this.getApiFlavor()},h.setEscapeOssObjects=function(t){v=t},h.getEscapeOssObjects=function(){return v},h.initLoadContext=function(t){for(var e in(t=t||{}).auth=this.getUseCredentials(),t.endpoint||(t.endpoint=this.getApiEndpoint()),t.api||(t.api=this.getApiFlavor()),t.headers||(t.headers={}),this.HTTP_REQUEST_HEADERS)t.headers[e]=this.HTTP_REQUEST_HEADERS[e];return t.api,this.ENDPOINT_API_FLUENT,this.getQueryParams(t),t.otg_cdn=u||this.getCdnUrl(),t.otg_ws=this.getCdnWebSocketEndpoint(),t.escapeOssObjects=this.getEscapeOssObjects(),t};var x=!1;function _(){return x}var b=h;h.initLoadContext.bind(h)},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var s={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var s=0;s<r;s++)t[i+s]=e[n+s]},flattenChunks:function(t){var e,n,r,i,s,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)s=t[e],a.set(s,i),i+=s.length;return a}},a={arraySet:function(t,e,n,r,i){for(var s=0;s<r;s++)t[i+s]=e[n+s]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,s)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r,i,s=n(0),a=function(t,e){this.min=void 0!==t?t:new s.a(1/0,1/0,1/0),this.max=void 0!==e?e:new s.a(-1/0,-1/0,-1/0)};a.prototype={constructor:a,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromArray:function(t,e){return this.min.x=t[e],this.min.y=t[e+1],this.min.z=t[e+2],this.max.x=t[e+3],this.max.y=t[e+4],this.max.z=t[e+5],this},copyToArray:function(t,e){t[e]=this.min.x,t[e+1]=this.min.y,t[e+2]=this.min.z,t[e+3]=this.max.x,t[e+4]=this.max.y,t[e+5]=this.max.z},setFromCenterAndSize:(i=new s.a,function(t,e){var n=i.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(t){return(t||new s.a).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new s.a).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new s.a).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},clampPoint:function(t,e){return(e||new s.a).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new s.a;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(r=[new s.a,new s.a,new s.a,new s.a,new s.a,new s.a,new s.a,new s.a],function(t){return r[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),r[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),r[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),r[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),r[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),r[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),r[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),r[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(r),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}},function(t,e){},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));function r(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=t.length),n>1048576?function(t,e,n){var r,i,s,a,o,h,u,c;for(r="",o=[],s=n,h=0,i=0;i<s;){switch((a=t[e+i++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o.push(String.fromCharCode(a));break;case 12:case 13:u=t[e+i++],o.push(String.fromCharCode((31&a)<<6|63&u));break;case 14:u=t[e+i++],c=t[e+i++],o.push(String.fromCharCode((15&a)<<12|(63&u)<<6|(63&c)<<0))}(++h>=32768||i>=s)&&(r+=o.join(""),o.length=0,h=0)}return r}(t,e,n):function(t,e,n){var r,i,s,a,o,h;for(r="",s=n,i=0;i<s;)switch((a=t[e+i++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r+=String.fromCharCode(a);break;case 12:case 13:o=t[e+i++],r+=String.fromCharCode((31&a)<<6|63&o);break;case 14:o=t[e+i++],h=t[e+i++],r+=String.fromCharCode((15&a)<<12|(63&o)<<6|(63&h)<<0)}return r}(t,e,n)}function i(t){var e=r(t,0,t.length);return JSON.parse(e)}},function(t,e,n){"use strict";var r={};(0,n(9).assign)(r,n(30),n(33),n(20)),t.exports=r},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(26),i=function(){function t(t){this.options=t,this.attempt=0}return t.prototype.apply=function(){var t=this;return new Promise((function(e){return setTimeout(e,t.jitteredDelay)}))},t.prototype.setAttemptNumber=function(t){this.attempt=t},Object.defineProperty(t.prototype,"jitteredDelay",{get:function(){return r.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){var t=this.options.startingDelay,e=this.options.timeMultiple,n=this.numOfDelayedAttempts,r=t*Math.pow(e,n);return Math.min(r,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),t}();e.Delay=i},function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var i=65535&t|0,s=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{s=s+(i=i+e[r++]|0)|0}while(--a);i%=65521,s%=65521}return i|s<<16|0}},function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var s=r,a=i+n;t^=-1;for(var o=i;o<a;o++)t=t>>>8^s[255&(t^e[o])];return-1^t}},function(t,e,n){"use strict";var r=n(9),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new r.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function h(t,e){if(e<65534&&(t.subarray&&s||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,i,s,a,o=t.length,h=0;for(s=0;s<o;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(h),a=0,s=0;a<h;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return h(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,s,o=e||t.length,u=new Array(2*o);for(r=0,n=0;n<o;)if((i=t[n++])<128)u[r++]=i;else if((s=a[i])>4)u[r++]=65533,n+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&n<o;)i=i<<6|63&t[n++],s--;s>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return h(u,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function a(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}h((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(23),a=n(24);e.backOff=function(t,e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=s.getSanitizedOptions(e),[4,new o(t,n).execute()];case 1:return[2,r.sent()]}}))}))};var o=function(){function t(t,e){this.request=t,this.options=e,this.attemptNumber=0}return t.prototype.execute=function(){return r(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:if(this.attemptLimitReached)return[3,7];e.label=1;case 1:return e.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return e.sent(),[4,this.request()];case 3:return[2,e.sent()];case 4:return t=e.sent(),this.attemptNumber++,[4,this.options.retry(t,this.attemptNumber)];case 5:if(!e.sent()||this.attemptLimitReached)throw t;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}}))}))},Object.defineProperty(t.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),t.prototype.applyDelay=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return t.sent(),[2]}}))}))},t}()},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};e.getSanitizedOptions=function(t){var e=r(r({},i),t);return e.numOfAttempts<1&&(e.numOfAttempts=1),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),i=n(29);e.DelayFactory=function(t,e){var n=function(t){if(!t.delayFirstAttempt)return new r.SkipFirstDelay(t);return new i.AlwaysDelay(t)}(t);return n.setAttemptNumber(e),n}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function a(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}h((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.apply=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,!!this.isFirstAttempt||t.prototype.apply.call(this)]}))}))},Object.defineProperty(e.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),e}(n(15).Delay);e.SkipFirstDelay=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(27),i=n(28);e.JitterFactory=function(t){switch(t.jitter){case"full":return r.fullJitter;case"none":default:return i.noJitter}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fullJitter=function(t){var e=Math.random()*t;return Math.round(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noJitter=function(t){return t}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(n(15).Delay);e.AlwaysDelay=s},function(t,e,n){"use strict";var r=n(31),i=n(9),s=n(18),a=n(14),o=n(19),h=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(t,e){var n=new u(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(t,e){var n,a,o=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=s.string2buf(t):"[object ArrayBuffer]"===h.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(u),o.next_out=0,o.avail_out=u),1!==(n=r.deflate(o,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),o.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=u,e.deflate=c,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},function(t,e,n){"use strict";var r,i=n(9),s=n(32),a=n(16),o=n(17),h=n(14);function u(t,e){return t.msg=h[e],e}function c(t){return(t<<1)-(t>4?9:0)}function l(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function d(t,e){s._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function y(t,e){var n,r,i=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,u=t.window,c=t.w_mask,l=t.prev,f=t.strstart+258,d=u[s+a-1],p=u[s+a];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(n=e)+a]===p&&u[n+a-1]===d&&u[n]===u[s]&&u[++n]===u[s+1]){s+=2,n++;do{}while(u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&s<f);if(r=258-(f-s),s=f-258,r>a){if(t.match_start=e,a=r,r>=o)break;d=u[s+a-1],p=u[s+a]}}}while((e=l[e&c])>h&&0!=--i);return a<=t.lookahead?a:t.lookahead}function v(t){var e,n,r,s,h,u,c,l,f,d,p=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);s+=p}if(0===t.strm.avail_in)break;if(u=t.strm,c=t.window,l=t.strstart+t.lookahead,f=s,d=void 0,(d=u.avail_in)>f&&(d=f),n=0===d?0:(u.avail_in-=d,i.arraySet(c,u.input,u.next_in,d,l),1===u.state.wrap?u.adler=a(u.adler,c,d,l):2===u.state.wrap&&(u.adler=o(u.adler,c,d,l)),u.next_in+=d,u.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=3)for(h=t.strstart-t.insert,t.ins_h=t.window[h],t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+3-1])&t.hash_mask,t.prev[h&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=h,h++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function g(t,e){for(var n,r;;){if(t.lookahead<262){if(v(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=y(t,n)),t.match_length>=3)if(r=s._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function x(t,e){for(var n,r,i;;){if(t.lookahead<262){if(v(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=y(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=s._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function _(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),l(this.dyn_ltree),l(this.dyn_dtree),l(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),l(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),l(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,s._tr_init(e),0):u(t,-2)}function k(t){var e,n=w(t);return 0===n&&((e=t.state).window_size=2*e.w_size,l(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function z(t,e,n,r,s,a){if(!t)return-2;var o=1;if(-1===e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>9||8!==n||r<8||r>15||e<0||e>9||a<0||a>4)return u(t,-2);8===r&&(r=9);var h=new b;return t.state=h,h.strm=t,h.wrap=o,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=s+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new i.Buf8(2*h.w_size),h.head=new i.Buf16(h.hash_size),h.prev=new i.Buf16(h.w_size),h.lit_bufsize=1<<s+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new i.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=a,h.method=n,k(t)}r=[new _(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(v(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,d(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(d(t,!1),t.strm.avail_out),1)})),new _(4,4,8,4,g),new _(4,5,16,8,g),new _(4,6,32,32,g),new _(4,4,16,16,x),new _(8,16,32,32,x),new _(8,16,128,128,x),new _(8,32,128,256,x),new _(32,128,258,1024,x),new _(32,258,258,4096,x)],e.deflateInit=function(t,e){return z(t,e,8,15,8,0)},e.deflateInit2=z,e.deflateReset=k,e.deflateResetKeep=w,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,i,a,h;if(!t||!t.state||e>5||e<0)return t?u(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return u(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=o(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var y=8+(i.w_bits-8<<4)<<8;y|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(y|=32),y+=31-y%31,i.status=113,m(i,y),0!==i.strstart&&(m(i,t.adler>>>16),m(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(t),i.pending+2<=i.pending_buf_size&&(p(i,255&t.adler),p(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&c(e)<=c(n)&&4!==e)return u(t,-5);if(666===i.status&&0!==t.avail_in)return u(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var g=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(v(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,o=t.window;;){if(t.lookahead<=258){if(v(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[i=t.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=t.strstart+258;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);t.match_length=258-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=s._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==g&&4!==g||(i.status=666),1===g||3===g)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===g&&(1===e?s._tr_align(i):5!==e&&(s._tr_stored_block(i,0,0,!1),3===e&&(l(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&t.adler),p(i,t.adler>>8&255),p(i,t.adler>>16&255),p(i,t.adler>>24&255),p(i,255&t.total_in),p(i,t.total_in>>8&255),p(i,t.total_in>>16&255),p(i,t.total_in>>24&255)):(m(i,t.adler>>>16),m(i,65535&t.adler)),f(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?u(t,-2):(t.state=null,113===e?u(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,r,s,o,h,u,c,f,d=e.length;if(!t||!t.state)return-2;if(2===(o=(n=t.state).wrap)||1===o&&42!==n.status||n.lookahead)return-2;for(1===o&&(t.adler=a(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===o&&(l(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),h=t.avail_in,u=t.next_in,c=t.input,t.avail_in=d,t.next_in=0,t.input=e,v(n);n.lookahead>=3;){r=n.strstart,s=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--s);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=u,t.input=c,t.avail_in=h,n.wrap=o,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(9);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var c=new Array(60);i(c);var l=new Array(512);i(l);var f=new Array(256);i(f);var d=new Array(29);i(d);var p,m,y,v=new Array(30);function g(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function x(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?l[t]:l[256+(t>>>7)]}function b(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function w(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function k(t,e,n){w(t,n[2*e],n[2*e+1])}function z(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function A(t,e,n){var r,i,s=new Array(16),a=0;for(r=1;r<=15;r++)s[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var o=t[2*i+1];0!==o&&(t[2*i]=z(s[o]++,o))}}function S(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function E(t){t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function M(t,e,n,r){var i=2*e,s=2*n;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]}function O(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&M(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!M(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function T(t,e,n){var r,i,o,h,u=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],i=t.pending_buf[t.l_buf+u],u++,0===r?k(t,i,e):(k(t,(o=f[i])+256+1,e),0!==(h=s[o])&&w(t,i-=d[o],h),k(t,o=_(--r),n),0!==(h=a[o])&&w(t,r-=v[o],h))}while(u<t.last_lit);k(t,256,e)}function C(t,e){var n,r,i,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<h;n++)0!==s[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):s[2*n+1]=0;for(;t.heap_len<2;)s[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,o&&(t.static_len-=a[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)O(t,s,n);i=h;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],O(t,s,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,s[2*i]=s[2*n]+s[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,s[2*n+1]=s[2*r+1]=i,t.heap[1]=i++,O(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,s,a,o,h=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,l=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(s=0;s<=15;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(s=h[2*h[2*(r=t.heap[n])+1]+1]+1)>p&&(s=p,m++),h[2*r+1]=s,r>u||(t.bl_count[s]++,a=0,r>=d&&(a=f[r-d]),o=h[2*r],t.opt_len+=o*(s+a),l&&(t.static_len+=o*(c[2*r+1]+a)));if(0!==m){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(s=p;0!==s;s--)for(r=t.bl_count[s];0!==r;)(i=t.heap[--n])>u||(h[2*i+1]!==s&&(t.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),r--)}}(t,e),A(s,u,t.bl_count)}function P(t,e,n){var r,i,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++o<h&&i===a||(o<u?t.bl_tree[2*i]+=o:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=i,0===a?(h=138,u=3):i===a?(h=6,u=3):(h=7,u=4))}function I(t,e,n){var r,i,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++o<h&&i===a)){if(o<u)do{k(t,i,t.bl_tree)}while(0!=--o);else 0!==i?(i!==s&&(k(t,i,t.bl_tree),o--),k(t,16,t.bl_tree),w(t,o-3,2)):o<=10?(k(t,17,t.bl_tree),w(t,o-3,3)):(k(t,18,t.bl_tree),w(t,o-11,7));o=0,s=i,0===a?(h=138,u=3):i===a?(h=6,u=3):(h=7,u=4)}}i(v);var R=!1;function F(t,e,n,i){w(t,0+(i?1:0),3),function(t,e,n,i){E(t),i&&(b(t,n),b(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){R||(!function(){var t,e,n,r,i,h=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<s[r];t++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(v[r]=i,t=0;t<1<<a[r];t++)l[i++]=r;for(i>>=7;r<30;r++)for(v[r]=i<<7,t=0;t<1<<a[r]-7;t++)l[256+i++]=r;for(e=0;e<=15;e++)h[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,h[8]++;for(;t<=255;)u[2*t+1]=9,t++,h[9]++;for(;t<=279;)u[2*t+1]=7,t++,h[7]++;for(;t<=287;)u[2*t+1]=8,t++,h[8]++;for(A(u,287,h),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=z(t,5);p=new g(u,s,257,286,15),m=new g(c,a,0,30,15),y=new g(new Array(0),o,0,19,7)}(),R=!0),t.l_desc=new x(t.dyn_ltree,p),t.d_desc=new x(t.dyn_dtree,m),t.bl_desc=new x(t.bl_tree,y),t.bi_buf=0,t.bi_valid=0,S(t)},e._tr_stored_block=F,e._tr_flush_block=function(t,e,n,r){var i,s,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),C(t,t.l_desc),C(t,t.d_desc),a=function(t){var e;for(P(t,t.dyn_ltree,t.l_desc.max_code),P(t,t.dyn_dtree,t.d_desc.max_code),C(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*h[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?F(t,e,n,r):4===t.strategy||s===i?(w(t,2+(r?1:0),3),T(t,u,c)):(w(t,4+(r?1:0),3),function(t,e,n,r){var i;for(w(t,e-257,5),w(t,n-1,5),w(t,r-4,4),i=0;i<r;i++)w(t,t.bl_tree[2*h[i]+1],3);I(t,t.dyn_ltree,e-1),I(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),T(t,t.dyn_ltree,t.dyn_dtree)),S(t),r&&E(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){w(t,2,3),k(t,256,u),function(t){16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var r=n(34),i=n(9),s=n(18),a=n(20),o=n(14),h=n(19),u=n(37),c=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(o[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=s.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(o[n])}function f(t,e){var n=new l(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}l.prototype.push=function(t,e){var n,o,h,u,l,f=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(h=s.utf8border(f.output,f.next_out),u=f.next_out-h,l=s.buf2string(f.output,h),f.next_out=u,f.avail_out=d-u,u&&i.arraySet(f.output,f.output,h,u,0),this.onData(l)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=l,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,n){"use strict";var r=n(9),i=n(16),s=n(17),a=n(35),o=n(36);function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function l(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,c(t)):-2}function f(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,l(t))):-2}function d(t,e){var n,r;return t?(r=new u,t.state=r,r.window=null,0!==(n=f(t,e))&&(t.state=null),n):-2}var p,m,y=!0;function v(t){if(y){var e;for(p=new r.Buf32(512),m=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,m,0,t.work,{bits:5}),y=!1}t.lencode=p,t.lenbits=9,t.distcode=m,t.distbits=5}function g(t,e,n,i){var s,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((s=a.wsize-a.wnext)>i&&(s=i),r.arraySet(a.window,e,n-i,s,a.wnext),(i-=s)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}e.inflateReset=l,e.inflateReset2=f,e.inflateResetKeep=c,e.inflateInit=function(t){return d(t,15)},e.inflateInit2=d,e.inflate=function(t,e){var n,u,c,l,f,d,p,m,y,x,_,b,w,k,z,A,S,E,M,O,T,C,P,I,R=0,F=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,c=t.output,p=t.avail_out,l=t.next_in,u=t.input,d=t.avail_in,m=n.hold,y=n.bits,x=d,_=p,C=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if(2&n.wrap&&35615===m){n.check=0,F[0]=255&m,F[1]=m>>>8&255,n.check=s(n.check,F,2,0),m=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(y-=4,T=8+(15&(m>>>=4)),0===n.wbits)n.wbits=T;else if(T>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<T,t.adler=n.check=1,n.mode=512&m?10:12,m=0,y=0;break;case 2:for(;y<16;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=s(n.check,F,2,0)),m=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}n.head&&(n.head.time=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,F[2]=m>>>16&255,F[3]=m>>>24&255,n.check=s(n.check,F,4,0)),m=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=s(n.check,F,2,0)),m=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=s(n.check,F,2,0)),m=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((b=n.length)>d&&(b=d),b&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,l,b,T)),512&n.flags&&(n.check=s(n.check,u,b,l)),d-=b,l+=b,n.length-=b),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break t;b=0;do{T=u[l+b++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T))}while(T&&b<d);if(512&n.flags&&(n.check=s(n.check,u,b,l)),d-=b,l+=b,T)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break t;b=0;do{T=u[l+b++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T))}while(T&&b<d);if(512&n.flags&&(n.check=s(n.check,u,b,l)),d-=b,l+=b,T)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}m=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}t.adler=n.check=h(m),m=0,y=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=p,t.next_in=l,t.avail_in=d,n.hold=m,n.bits=y,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}switch(n.last=1&m,y-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===e){m>>>=2,y-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,y-=2;break;case 14:for(m>>>=7&y,y-=7&y;y<32;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,y=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(b=n.length){if(b>d&&(b=d),b>p&&(b=p),0===b)break t;r.arraySet(c,u,l,b,f),d-=b,l+=b,p-=b,f+=b,n.length-=b;break}n.mode=12;break;case 17:for(;y<14;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if(n.nlen=257+(31&m),m>>>=5,y-=5,n.ndist=1+(31&m),m>>>=5,y-=5,n.ncode=4+(15&m),m>>>=4,y-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}n.lens[U[n.have++]]=7&m,m>>>=3,y-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},C=o(0,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,C){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(R=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,S=65535&R,!((z=R>>>24)<=y);){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if(S<16)m>>>=z,y-=z,n.lens[n.have++]=S;else{if(16===S){for(I=z+2;y<I;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if(m>>>=z,y-=z,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}T=n.lens[n.have-1],b=3+(3&m),m>>>=2,y-=2}else if(17===S){for(I=z+3;y<I;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}y-=z,T=0,b=3+(7&(m>>>=z)),m>>>=3,y-=3}else{for(I=z+7;y<I;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}y-=z,T=0,b=11+(127&(m>>>=z)),m>>>=7,y-=7}if(n.have+b>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;b--;)n.lens[n.have++]=T}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,P={bits:n.lenbits},C=o(1,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,C){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},C=o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,C){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(d>=6&&p>=258){t.next_out=f,t.avail_out=p,t.next_in=l,t.avail_in=d,n.hold=m,n.bits=y,a(t,_),f=t.next_out,c=t.output,p=t.avail_out,l=t.next_in,u=t.input,d=t.avail_in,m=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(R=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,S=65535&R,!((z=R>>>24)<=y);){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if(A&&0==(240&A)){for(E=z,M=A,O=S;A=(R=n.lencode[O+((m&(1<<E+M)-1)>>E)])>>>16&255,S=65535&R,!(E+(z=R>>>24)<=y);){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}m>>>=E,y-=E,n.back+=E}if(m>>>=z,y-=z,n.back+=z,n.length=S,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(I=n.extra;y<I;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(R=n.distcode[m&(1<<n.distbits)-1])>>>16&255,S=65535&R,!((z=R>>>24)<=y);){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if(0==(240&A)){for(E=z,M=A,O=S;A=(R=n.distcode[O+((m&(1<<E+M)-1)>>E)])>>>16&255,S=65535&R,!(E+(z=R>>>24)<=y);){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}m>>>=E,y-=E,n.back+=E}if(m>>>=z,y-=z,n.back+=z,64&A){t.msg="invalid distance code",n.mode=30;break}n.offset=S,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(I=n.extra;y<I;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break t;if(b=_-p,n.offset>b){if((b=n.offset-b)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}b>n.wnext?(b-=n.wnext,w=n.wsize-b):w=n.wnext-b,b>n.length&&(b=n.length),k=n.window}else k=c,w=f-n.offset,b=n.length;b>p&&(b=p),p-=b,n.length-=b;do{c[f++]=k[w++]}while(--b);0===n.length&&(n.mode=21);break;case 26:if(0===p)break t;c[f++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===d)break t;d--,m|=u[l++]<<y,y+=8}if(_-=p,t.total_out+=_,n.total+=_,_&&(t.adler=n.check=n.flags?s(n.check,c,_,f-_):i(n.check,c,_,f-_)),_=p,(n.flags?m:h(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}m=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===d)break t;d--,m+=u[l++]<<y,y+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}m=0,y=0}n.mode=29;case 29:C=1;break t;case 30:C=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=f,t.avail_out=p,t.next_in=l,t.avail_in=d,n.hold=m,n.bits=y,(n.wsize||_!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&g(t,t.output,t.next_out,_-t.avail_out)?(n.mode=31,-4):(x-=t.avail_in,_-=t.avail_out,t.total_in+=x,t.total_out+=_,n.total+=_,n.wrap&&_&&(t.adler=n.check=n.flags?s(n.check,c,_,t.next_out-_):i(n.check,c,_,t.next_out-_)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===x&&0===_||4===e)&&0===C&&(C=-5),C)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,e,r,0)!==n.check?-3:g(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,s,a,o,h,u,c,l,f,d,p,m,y,v,g,x,_,b,w,k,z,A,S;n=t.state,r=t.next_in,A=t.input,i=r+(t.avail_in-5),s=t.next_out,S=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),h=n.dmax,u=n.wsize,c=n.whave,l=n.wnext,f=n.window,d=n.hold,p=n.bits,m=n.lencode,y=n.distcode,v=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;t:do{p<15&&(d+=A[r++]<<p,p+=8,d+=A[r++]<<p,p+=8),x=m[d&v];e:for(;;){if(d>>>=_=x>>>24,p-=_,0===(_=x>>>16&255))S[s++]=65535&x;else{if(!(16&_)){if(0==(64&_)){x=m[(65535&x)+(d&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}b=65535&x,(_&=15)&&(p<_&&(d+=A[r++]<<p,p+=8),b+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=A[r++]<<p,p+=8,d+=A[r++]<<p,p+=8),x=y[d&g];n:for(;;){if(d>>>=_=x>>>24,p-=_,!(16&(_=x>>>16&255))){if(0==(64&_)){x=y[(65535&x)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&x,p<(_&=15)&&(d+=A[r++]<<p,(p+=8)<_&&(d+=A[r++]<<p,p+=8)),(w+=d&(1<<_)-1)>h){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=_,p-=_,w>(_=s-a)){if((_=w-_)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,z=f,0===l){if(k+=u-_,_<b){b-=_;do{S[s++]=f[k++]}while(--_);k=s-w,z=S}}else if(l<_){if(k+=u+l-_,(_-=l)<b){b-=_;do{S[s++]=f[k++]}while(--_);if(k=0,l<b){b-=_=l;do{S[s++]=f[k++]}while(--_);k=s-w,z=S}}}else if(k+=l-_,_<b){b-=_;do{S[s++]=f[k++]}while(--_);k=s-w,z=S}for(;b>2;)S[s++]=z[k++],S[s++]=z[k++],S[s++]=z[k++],b-=3;b&&(S[s++]=z[k++],b>1&&(S[s++]=z[k++]))}else{k=s-w;do{S[s++]=S[k++],S[s++]=S[k++],S[s++]=S[k++],b-=3}while(b>2);b&&(S[s++]=S[k++],b>1&&(S[s++]=S[k++]))}break}}break}}while(r<i&&s<o);r-=b=p>>3,d&=(1<<(p-=b<<3))-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=s<o?o-s+257:257-(s-o),n.hold=d,n.bits=p}},function(t,e,n){"use strict";var r=n(9),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,h,u,c,l,f){var d,p,m,y,v,g,x,_,b,w=f.bits,k=0,z=0,A=0,S=0,E=0,M=0,O=0,T=0,C=0,P=0,I=null,R=0,F=new r.Buf16(16),U=new r.Buf16(16),V=null,L=0;for(k=0;k<=15;k++)F[k]=0;for(z=0;z<h;z++)F[e[n+z]]++;for(E=w,S=15;S>=1&&0===F[S];S--);if(E>S&&(E=S),0===S)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(A=1;A<S&&0===F[A];A++);for(E<A&&(E=A),T=1,k=1;k<=15;k++)if(T<<=1,(T-=F[k])<0)return-1;if(T>0&&(0===t||1!==S))return-1;for(U[1]=0,k=1;k<15;k++)U[k+1]=U[k]+F[k];for(z=0;z<h;z++)0!==e[n+z]&&(l[U[e[n+z]]++]=z);if(0===t?(I=V=l,g=19):1===t?(I=i,R-=257,V=s,L-=257,g=256):(I=a,V=o,g=-1),P=0,z=0,k=A,v=c,M=E,O=0,m=-1,y=(C=1<<E)-1,1===t&&C>852||2===t&&C>592)return 1;for(;;){x=k-O,l[z]<g?(_=0,b=l[z]):l[z]>g?(_=V[L+l[z]],b=I[R+l[z]]):(_=96,b=0),d=1<<k-O,A=p=1<<M;do{u[v+(P>>O)+(p-=d)]=x<<24|_<<16|b|0}while(0!==p);for(d=1<<k-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,z++,0==--F[k]){if(k===S)break;k=e[n+l[z]]}if(k>E&&(P&y)!==m){for(0===O&&(O=E),v+=A,T=1<<(M=k-O);M+O<S&&!((T-=F[M+O])<=0);)M++,T<<=1;if(C+=1<<M,1===t&&C>852||2===t&&C>592)return 1;u[m=P&y]=E<<24|M<<16|v-c|0}}return 0!==P&&(u[v+P]=k-O<<24|64<<16|0),f.bits=E,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e){function n(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function r(t){t.pending+=1;var e=!1;return function(r){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||r,t.pending-=1,t.waiting.length>0&&t.pending<t.max)i(t,t.waiting.shift());else if(0===t.pending){var s=t.listeners;t.listeners=[],s.forEach(n)}};function n(e){e(t.error)}}function i(t,e){e(r(t))}t.exports=n,n.prototype.go=function(t){this.pending<this.max?i(this,t):this.waiting.push(t)},n.prototype.wait=function(t){0===this.pending?t(this.error):this.listeners.push(t)},n.prototype.hold=function(){return r(this)}},function(t,e){\n/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function(){"use strict";function t(t){throw t}var e,n=void 0,r=this;function i(t,e){var i,s=t.split("."),a=r;!(s[0]in a)&&a.execScript&&a.execScript("var "+s[0]);for(;s.length&&(i=s.shift());)s.length||e===n?a=a[i]?a[i]:a[i]={}:a[i]=e}var s,a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;for(new(a?Uint8Array:Array)(256),s=0;256>s;++s)for(var o=(o=s)>>>1;o;o>>>=1)0;var h=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],u=a?new Uint32Array(h):h;function c(t){var e,n,r,i,s,o,h,u,c,l=t.length,f=0,d=Number.POSITIVE_INFINITY;for(u=0;u<l;++u)t[u]>f&&(f=t[u]),t[u]<d&&(d=t[u]);for(e=1<<f,n=new(a?Uint32Array:Array)(e),r=1,i=0,s=2;r<=f;){for(u=0;u<l;++u)if(t[u]===r){for(o=0,h=i,c=0;c<r;++c)o=o<<1|1&h,h>>=1;for(c=o;c<e;c+=s)n[c]=r<<16|u;++i}++r,i<<=1,s<<=1}return[n,f,d]}var l,f=[];for(l=0;288>l;l++)switch(!0){case 143>=l:f.push([l+48,8]);break;case 255>=l:f.push([l-144+400,9]);break;case 279>=l:f.push([l-256+0,7]);break;case 287>=l:f.push([l-280+192,8]);break;default:t("invalid literal: "+l)}var d=function(){function e(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case 12>=e:return[265,e-11,1];case 14>=e:return[266,e-13,1];case 16>=e:return[267,e-15,1];case 18>=e:return[268,e-17,1];case 22>=e:return[269,e-19,2];case 26>=e:return[270,e-23,2];case 30>=e:return[271,e-27,2];case 34>=e:return[272,e-31,2];case 42>=e:return[273,e-35,3];case 50>=e:return[274,e-43,3];case 58>=e:return[275,e-51,3];case 66>=e:return[276,e-59,3];case 82>=e:return[277,e-67,4];case 98>=e:return[278,e-83,4];case 114>=e:return[279,e-99,4];case 130>=e:return[280,e-115,4];case 162>=e:return[281,e-131,5];case 194>=e:return[282,e-163,5];case 226>=e:return[283,e-195,5];case 257>=e:return[284,e-227,5];case 258===e:return[285,e-258,0];default:t("invalid length: "+e)}}var n,r,i=[];for(n=3;258>=n;n++)r=e(n),i[n]=r[2]<<24|r[1]<<16|r[0];return i}();function p(e,n){switch(this.l=[],this.m=32768,this.d=this.f=this.c=this.t=0,this.input=a?new Uint8Array(e):e,this.u=!1,this.n=y,this.K=!1,!n&&(n={})||(n.index&&(this.c=n.index),n.bufferSize&&(this.m=n.bufferSize),n.bufferType&&(this.n=n.bufferType),n.resize&&(this.K=n.resize)),this.n){case m:this.a=32768,this.b=new(a?Uint8Array:Array)(32768+this.m+258);break;case y:this.a=0,this.b=new(a?Uint8Array:Array)(this.m),this.e=this.W,this.B=this.R,this.q=this.V;break;default:t(Error("invalid inflate mode"))}}a&&new Uint32Array(d);var m=0,y=1;p.prototype.r=function(){for(;!this.u;){var e=F(this,3);switch(1&e&&(this.u=!0),e>>>=1){case 0:var r=this.input,i=this.c,s=this.b,o=this.a,h=n,u=n,c=n,l=s.length,f=n;switch(this.d=this.f=0,(h=r[i++])===n&&t(Error("invalid uncompressed block header: LEN (first byte)")),u=h,(h=r[i++])===n&&t(Error("invalid uncompressed block header: LEN (second byte)")),u|=h<<8,(h=r[i++])===n&&t(Error("invalid uncompressed block header: NLEN (first byte)")),c=h,(h=r[i++])===n&&t(Error("invalid uncompressed block header: NLEN (second byte)")),u===~(c|=h<<8)&&t(Error("invalid uncompressed block header: length verify")),i+u>r.length&&t(Error("input buffer is broken")),this.n){case m:for(;o+u>s.length;){if(u-=f=l-o,a)s.set(r.subarray(i,i+f),o),o+=f,i+=f;else for(;f--;)s[o++]=r[i++];this.a=o,s=this.e(),o=this.a}break;case y:for(;o+u>s.length;)s=this.e({H:2});break;default:t(Error("invalid inflate mode"))}if(a)s.set(r.subarray(i,i+u),o),o+=u,i+=u;else for(;u--;)s[o++]=r[i++];this.c=i,this.a=o,this.b=s;break;case 1:this.q(P,R);break;case 2:V(this);break;default:t(Error("unknown BTYPE: "+e))}}return this.B()};var v,g,x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=a?new Uint16Array(x):x,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],w=a?new Uint16Array(b):b,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],z=a?new Uint8Array(k):k,A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],S=a?new Uint16Array(A):A,E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=a?new Uint8Array(E):E,O=new(a?Uint8Array:Array)(288);for(v=0,g=O.length;v<g;++v)O[v]=143>=v?8:255>=v?9:279>=v?7:8;var T,C,P=c(O),I=new(a?Uint8Array:Array)(30);for(T=0,C=I.length;T<C;++T)I[T]=5;var R=c(I);function F(e,r){for(var i,s=e.f,a=e.d,o=e.input,h=e.c;a<r;)(i=o[h++])===n&&t(Error("input buffer is broken")),s|=i<<a,a+=8;return i=s&(1<<r)-1,e.f=s>>>r,e.d=a-r,e.c=h,i}function U(t,e){for(var r,i,s,a=t.f,o=t.d,h=t.input,u=t.c,c=e[0],l=e[1];o<l&&(r=h[u++])!==n;)a|=r<<o,o+=8;return s=(i=c[a&(1<<l)-1])>>>16,t.f=a>>s,t.d=o-s,t.c=u,65535&i}function V(t){function e(t,e,n){var r,i,s,a;for(a=0;a<t;)switch(r=U(this,e),r){case 16:for(s=3+F(this,2);s--;)n[a++]=i;break;case 17:for(s=3+F(this,3);s--;)n[a++]=0;i=0;break;case 18:for(s=11+F(this,7);s--;)n[a++]=0;i=0;break;default:i=n[a++]=r}return n}var n,r,i,s,o=F(t,5)+257,h=F(t,5)+1,u=F(t,4)+4,l=new(a?Uint8Array:Array)(_.length);for(s=0;s<u;++s)l[_[s]]=F(t,3);n=c(l),r=new(a?Uint8Array:Array)(o),i=new(a?Uint8Array:Array)(h),t.q(c(e.call(t,o,n,r)),c(e.call(t,h,n,i)))}function L(t){t=t||{},this.files=[],this.v=t.comment}function B(t,e){e=e||{},this.input=a&&t instanceof Array?new Uint8Array(t):t,this.c=0,this.ba=e.verify||!1,this.j=e.password}(e=p.prototype).q=function(t,e){var n=this.b,r=this.a;this.C=t;for(var i,s,a,o,h=n.length-258;256!==(i=U(this,t));)if(256>i)r>=h&&(this.a=r,n=this.e(),r=this.a),n[r++]=i;else for(o=w[s=i-257],0<z[s]&&(o+=F(this,z[s])),i=U(this,e),a=S[i],0<M[i]&&(a+=F(this,M[i])),r>=h&&(this.a=r,n=this.e(),r=this.a);o--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},e.V=function(t,e){var n=this.b,r=this.a;this.C=t;for(var i,s,a,o,h=n.length;256!==(i=U(this,t));)if(256>i)r>=h&&(h=(n=this.e()).length),n[r++]=i;else for(o=w[s=i-257],0<z[s]&&(o+=F(this,z[s])),i=U(this,e),a=S[i],0<M[i]&&(a+=F(this,M[i])),r+o>h&&(h=(n=this.e()).length);o--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},e.e=function(){var t,e,n=new(a?Uint8Array:Array)(this.a-32768),r=this.a-32768,i=this.b;if(a)n.set(i.subarray(32768,n.length));else for(t=0,e=n.length;t<e;++t)n[t]=i[t+32768];if(this.l.push(n),this.t+=n.length,a)i.set(i.subarray(r,r+32768));else for(t=0;32768>t;++t)i[t]=i[r+t];return this.a=32768,i},e.W=function(t){var e,n,r,i=this.input.length/this.c+1|0,s=this.input,o=this.b;return t&&("number"==typeof t.H&&(i=t.H),"number"==typeof t.P&&(i+=t.P)),2>i?n=(r=(s.length-this.c)/this.C[2]/2*258|0)<o.length?o.length+r:o.length<<1:n=o.length*i,a?(e=new Uint8Array(n)).set(o):e=o,this.b=e},e.B=function(){var t,e,n,r,i,s=0,o=this.b,h=this.l,u=new(a?Uint8Array:Array)(this.t+(this.a-32768));if(0===h.length)return a?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(e=0,n=h.length;e<n;++e)for(r=0,i=(t=h[e]).length;r<i;++r)u[s++]=t[r];for(e=32768,n=this.a;e<n;++e)u[s++]=o[e];return this.l=[],this.buffer=u},e.R=function(){var t,e=this.a;return a?this.K?(t=new Uint8Array(e)).set(this.b.subarray(0,e)):t=this.b.subarray(0,e):(this.b.length>e&&(this.b.length=e),t=this.b),this.buffer=t},L.prototype.L=function(t){this.j=t},L.prototype.s=function(t){var e=65535&t[2]|2;return e*(1^e)>>8&255},L.prototype.k=function(t,e){t[0]=(u[255&(t[0]^e)]^t[0]>>>8)>>>0,t[1]=1+(6681*(20173*(t[1]+(255&t[0]))>>>0)>>>0)>>>0,t[2]=(u[255&(t[2]^t[1]>>>24)]^t[2]>>>8)>>>0},L.prototype.T=function(t){var e,n,r=[305419896,591751049,878082192];for(a&&(r=new Uint32Array(r)),e=0,n=t.length;e<n;++e)this.k(r,255&t[e]);return r};var D=0,N=8,j=[80,75,1,2],q=[80,75,3,4],H=[80,75,5,6];function Z(t,e){this.input=t,this.offset=e}function W(t,e){this.input=t,this.offset=e}Z.prototype.parse=function(){var e=this.input,n=this.offset;(e[n++]!==j[0]||e[n++]!==j[1]||e[n++]!==j[2]||e[n++]!==j[3])&&t(Error("invalid file header signature")),this.version=e[n++],this.ia=e[n++],this.Z=e[n++]|e[n++]<<8,this.I=e[n++]|e[n++]<<8,this.A=e[n++]|e[n++]<<8,this.time=e[n++]|e[n++]<<8,this.U=e[n++]|e[n++]<<8,this.p=(e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24)>>>0,this.z=(e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24)>>>0,this.J=(e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24)>>>0,this.h=e[n++]|e[n++]<<8,this.g=e[n++]|e[n++]<<8,this.F=e[n++]|e[n++]<<8,this.ea=e[n++]|e[n++]<<8,this.ga=e[n++]|e[n++]<<8,this.fa=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24,this.$=(e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,a?e.subarray(n,n+=this.h):e.slice(n,n+=this.h)),this.X=a?e.subarray(n,n+=this.g):e.slice(n,n+=this.g),this.v=a?e.subarray(n,n+this.F):e.slice(n,n+this.F),this.length=n-this.offset};var G=1;function Q(e){var r,i,s,o,h=[],u={};if(!e.i){if(e.o===n){var c,l=e.input;if(!e.D)t:{var f,d=e.input;for(f=d.length-12;0<f;--f)if(d[f]===H[0]&&d[f+1]===H[1]&&d[f+2]===H[2]&&d[f+3]===H[3]){e.D=f;break t}t(Error("End of Central Directory Record not found"))}c=e.D,(l[c++]!==H[0]||l[c++]!==H[1]||l[c++]!==H[2]||l[c++]!==H[3])&&t(Error("invalid signature")),e.ha=l[c++]|l[c++]<<8,e.ja=l[c++]|l[c++]<<8,e.ka=l[c++]|l[c++]<<8,e.aa=l[c++]|l[c++]<<8,e.Q=(l[c++]|l[c++]<<8|l[c++]<<16|l[c++]<<24)>>>0,e.o=(l[c++]|l[c++]<<8|l[c++]<<16|l[c++]<<24)>>>0,e.w=l[c++]|l[c++]<<8,e.v=a?l.subarray(c,c+e.w):l.slice(c,c+e.w)}for(r=e.o,s=0,o=e.aa;s<o;++s)(i=new Z(e.input,r)).parse(),r+=i.length,h[s]=i,u[i.filename]=s;e.Q<r-e.o&&t(Error("invalid file header size")),e.i=h,e.G=u}}function X(t,e,n){return n^=t.s(e),t.k(e,n),n}W.prototype.parse=function(){var e=this.input,n=this.offset;(e[n++]!==q[0]||e[n++]!==q[1]||e[n++]!==q[2]||e[n++]!==q[3])&&t(Error("invalid local file header signature")),this.Z=e[n++]|e[n++]<<8,this.I=e[n++]|e[n++]<<8,this.A=e[n++]|e[n++]<<8,this.time=e[n++]|e[n++]<<8,this.U=e[n++]|e[n++]<<8,this.p=(e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24)>>>0,this.z=(e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24)>>>0,this.J=(e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24)>>>0,this.h=e[n++]|e[n++]<<8,this.g=e[n++]|e[n++]<<8,this.filename=String.fromCharCode.apply(null,a?e.subarray(n,n+=this.h):e.slice(n,n+=this.h)),this.X=a?e.subarray(n,n+=this.g):e.slice(n,n+=this.g),this.length=n-this.offset},(e=B.prototype).Y=function(){var t,e,n,r=[];for(this.i||Q(this),t=0,e=(n=this.i).length;t<e;++t)r[t]=n[t].filename;return r},e.r=function(e,r){var i,s;this.G||Q(this),(i=this.G[e])===n&&t(Error(e+" not found")),s=r||{};var o,h,c,l,f,d,m,y,v=this.input,g=this.i;if(g||Q(this),g[i]===n&&t(Error("wrong index")),h=g[i].$,(o=new W(this.input,h)).parse(),h+=o.length,c=o.z,0!=(o.I&G)){for(!s.password&&!this.j&&t(Error("please set password")),d=this.S(s.password||this.j),m=h,y=h+12;m<y;++m)X(this,d,v[m]);for(m=h+=12,y=h+(c-=12);m<y;++m)v[m]=X(this,d,v[m])}switch(o.A){case D:l=a?this.input.subarray(h,h+c):this.input.slice(h,h+c);break;case N:l=new p(this.input,{index:h,bufferSize:o.J}).r();break;default:t(Error("unknown compression type"))}if(this.ba){var x,_=n,b="number"==typeof _?_:_=0,w=l.length;for(x=-1,b=7&w;b--;++_)x=x>>>8^u[255&(x^l[_])];for(b=w>>3;b--;_+=8)x=(x=(x=(x=(x=(x=(x=(x=x>>>8^u[255&(x^l[_])])>>>8^u[255&(x^l[_+1])])>>>8^u[255&(x^l[_+2])])>>>8^u[255&(x^l[_+3])])>>>8^u[255&(x^l[_+4])])>>>8^u[255&(x^l[_+5])])>>>8^u[255&(x^l[_+6])])>>>8^u[255&(x^l[_+7])];f=(4294967295^x)>>>0,o.p!==f&&t(Error("wrong crc: file=0x"+o.p.toString(16)+", data=0x"+f.toString(16)))}return l},e.L=function(t){this.j=t},e.k=L.prototype.k,e.S=L.prototype.T,e.s=L.prototype.s,i("Zlib.Unzip",B),i("Zlib.Unzip.prototype.decompress",B.prototype.r),i("Zlib.Unzip.prototype.getFilenames",B.prototype.Y),i("Zlib.Unzip.prototype.setPassword",B.prototype.L)}).call(this)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"register",(function(){return W}));var r=n(1);function i(t,e){var n,r;this.bytes_per_node=e?32:36,t instanceof ArrayBuffer?(n=t.byteLength/this.bytes_per_node,r=t,this.nodeCount=n):(n=0|t,r=new ArrayBuffer(this.bytes_per_node*n),this.nodeCount=0),this.nodeCapacity=n,this.nodesRaw=r,this.is_lean_node=e,this.node_stride=this.bytes_per_node/4,this.node_stride_short=this.bytes_per_node/2,this.nodesF=new Float32Array(this.nodesRaw),this.nodesI=new Int32Array(this.nodesRaw),this.nodesS=new Uint16Array(this.nodesRaw)}i.prototype.setLeftChild=function(t,e){this.nodesI[t*this.node_stride+6]=e},i.prototype.getLeftChild=function(t){return this.nodesI[t*this.node_stride+6]},i.prototype.setPrimStart=function(t,e){this.is_lean_node?this.nodesI[t*this.node_stride+6]=e:this.nodesI[t*this.node_stride+8]=e},i.prototype.getPrimStart=function(t){return this.is_lean_node?this.nodesI[t*this.node_stride+6]:this.nodesI[t*this.node_stride+8]},i.prototype.setPrimCount=function(t,e){this.nodesS[t*this.node_stride_short+14]=e},i.prototype.getPrimCount=function(t){return this.nodesS[t*this.node_stride_short+14]},i.prototype.setFlags=function(t,e,n,r){this.nodesS[t*this.node_stride_short+15]=r<<3|n<<2|3&e},i.prototype.getFlags=function(t){return this.nodesS[t*this.node_stride_short+15]},i.prototype.setBox0=function(t,e){var n=t*this.node_stride,r=this.nodesF;r[n]=e[0],r[n+1]=e[1],r[n+2]=e[2],r[n+3]=e[3],r[n+4]=e[4],r[n+5]=e[5]},i.prototype.getBoxThree=function(t,e){var n=t*this.node_stride,r=this.nodesF;e.min.x=r[n],e.min.y=r[n+1],e.min.z=r[n+2],e.max.x=r[n+3],e.max.y=r[n+4],e.max.z=r[n+5]},i.prototype.getBoxArray=function(t,e,n){var r=t*this.node_stride,i=this.nodesF;e[0+(n=n||0)]=i[r],e[1+n]=i[r+1],e[2+n]=i[r+2],e[3+n]=i[r+3],e[4+n]=i[r+4],e[5+n]=i[r+5]},i.prototype.setBoxThree=function(t,e){var n=t*this.node_stride,r=this.nodesF;r[n]=e.min.x,r[n+1]=e.min.y,r[n+2]=e.min.z,r[n+3]=e.max.x,r[n+4]=e.max.y,r[n+5]=e.max.z},i.prototype.makeEmpty=function(t){var e=t*this.node_stride,n=this.nodesI;n[e+6]=-1,n[e+7]=0,this.is_lean_node||(n[e+8]=-1)},i.prototype.realloc=function(t){if(this.nodeCount+t>this.nodeCapacity){var e=0|3*this.nodeCapacity/2;e<this.nodeCount+t&&(e=this.nodeCount+t);var n=new ArrayBuffer(e*this.bytes_per_node),r=new Int32Array(n);r.set(this.nodesI),this.nodeCapacity=e,this.nodesRaw=n,this.nodesF=new Float32Array(n),this.nodesI=r,this.nodesS=new Uint16Array(n)}},i.prototype.nextNodes=function(t){this.realloc(t);var e=this.nodeCount;this.nodeCount+=t;for(var n=0;n<t;n++)this.makeEmpty(e+n);return e},i.prototype.getRawData=function(){return this.nodesRaw.slice(0,this.nodeCount*this.bytes_per_node)};var s=function(){function t(t,e,n){t[0]>e[n]&&(t[0]=e[n]),t[3]<e[n]&&(t[3]=e[n]),t[1]>e[n+1]&&(t[1]=e[n+1]),t[4]<e[n+1]&&(t[4]=e[n+1]),t[2]>e[n+2]&&(t[2]=e[n+2]),t[5]<e[n+2]&&(t[5]=e[n+2])}function e(t,e,n){t[0]>e[n]&&(t[0]=e[n]),t[1]>e[n+1]&&(t[1]=e[n+1]),t[2]>e[n+2]&&(t[2]=e[n+2]),t[3]<e[n+3]&&(t[3]=e[n+3]),t[4]<e[n+4]&&(t[4]=e[n+4]),t[5]<e[n+5]&&(t[5]=e[n+5])}function n(t,e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]>e[2]&&(t[2]=e[2]),t[3]<e[3]&&(t[3]=e[3]),t[4]<e[4]&&(t[4]=e[4]),t[5]<e[5]&&(t[5]=e[5])}function r(t,e,n,r){for(var i=0;i<3;i++)t[e+i]=n[r+3+i]-n[r+i]}function i(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]}function s(t){t[0]=1/0,t[1]=1/0,t[2]=1/0,t[3]=-1/0,t[4]=-1/0,t[5]=-1/0}function a(t){var e=t[3]-t[0],n=t[4]-t[1],r=t[5]-t[2];return e<0||n<0||r<0?0:2*(e*n+n*r+r*e)}function o(){this.vb_left=new Float32Array(6),this.vb_right=new Float32Array(6),this.cb_left=new Float32Array(6),this.cb_right=new Float32Array(6),this.num_left=0,this.best_split=-1,this.best_cost=-1,this.num_bins=-1}function h(){this.box_bbox=new Float32Array(6),this.box_centroid=new Float32Array(6),this.num_prims=0}function u(){this.BL=new Float32Array(6),this.CL=new Float32Array(6),this.NL=0,this.AL=0}o.prototype.reset=function(){this.num_left=0,this.best_split=-1,this.best_cost=-1,this.num_bins=-1},h.prototype.reset=function(){this.num_prims=0,s(this.box_bbox),s(this.box_centroid)},u.prototype.reset=function(){this.NL=0,this.AL=0,s(this.BL),s(this.CL)};var c,l=[];for(c=0;c<16;c++)l.push(new h);var f=[];for(c=0;c<15;c++)f.push(new u);var d=new Float32Array(6),p=new Float32Array(6);function m(r,s,o,h,u,c,m){if(c[h]<r.scene_epsilon)m.best_cost=1/0;else{var y,v,g=16;for(g>o-s+1&&(g=o-s+1),y=0;y<g;y++)l[y].reset();for(y=0;y<g-1;y++)f[y].reset();for(m.num_bins=g,function(n,r,i,s,a,o,h){for(var u=n.centroids,c=n.primitives,f=n.finfo.boxes,d=n.finfo.boxStride,p=.99999*h/o[s],m=a[s],y=n.sort_prims,v=r;v<=i;v++){var g=0|c[v],x=0|p*(u[3*g+s]-m);x<0?x=0:x>=h&&(x=h-1),y[v]=x,l[x].num_prims++,e(l[x].box_bbox,f,g*d),t(l[x].box_centroid,u,3*g)}}(r,s,o,h,u,c,g),i(f[0].BL,l[0].box_bbox),i(f[0].CL,l[0].box_centroid),f[0].AL=a(f[0].BL),f[0].NL=l[0].num_prims,y=1;y<g-1;y++){v=l[y];var x=f[y];i(x.BL,f[y-1].BL),n(x.BL,v.box_bbox),x.AL=a(x.BL),i(x.CL,f[y-1].CL),n(x.CL,v.box_centroid),x.NL=f[y-1].NL+v.num_prims}i(d,l[y=g-1].box_bbox),i(p,l[y].box_centroid);var _=a(d),b=l[y].num_prims,w=y,k=_*b+f[y-1].AL*f[y-1].NL;for(i(m.vb_right,d),i(m.cb_right,l[y].box_centroid),i(m.vb_left,f[y-1].BL),i(m.cb_left,f[y-1].CL),m.num_left=f[y-1].NL,y-=1;y>=1;y--){v=l[y],n(d,v.box_bbox),n(p,v.box_centroid);var z=(_=a(d))*(b+=v.num_prims)+f[y-1].AL*f[y-1].NL;z<=k&&(k=z,w=y,i(m.vb_right,d),i(m.cb_right,p),i(m.vb_left,f[y-1].BL),i(m.cb_left,f[y-1].CL),m.num_left=f[y-1].NL)}m.best_split=w,m.best_cost=k}}var y=new Float32Array(3);return{bvh_subdivide:function(e,n,i,a,h,u,c,l){r(y,0,u,0);var f=e.nodes,d=c?e.frags_per_leaf_node_transparent:e.frags_per_leaf_node,p=c?e.frags_per_inner_node_transparent:e.frags_per_inner_node,v=e.max_polys_per_node,g=0;y[1]>y[0]&&(g=1),y[2]>y[g]&&(g=2),f.setBox0(n,h);var x=0,_=0,b=a-i+1;if(e.finfo.hasPolygonCounts&&e.frags_per_inner_node)for(var w=b<=e.frags_per_inner_node?a:i+e.frags_per_inner_node-1,k=i;k<=w&&(_++,!((x+=e.finfo.getPolygonCount(e.primitives[k]))>v));k++);if(b<=d&&x<v||1===b||l>15||y[g]<e.scene_epsilon)return f.setLeftChild(n,-1),f.setPrimStart(n,i),f.setPrimCount(n,a-i+1),void f.setFlags(n,0,0,c?1:0);p&&(g=function(e,n,i,a,o,h,u,c){var l=e.primitives,f=e.centroids,d=o-a+1;d>e.frags_per_inner_node&&(d=e.frags_per_inner_node),d>c&&(d=c),n.setPrimStart(i,a),n.setPrimCount(i,d),a+=d,s(h);for(var p=a;p<=o;p++)t(h,f,3*l[p]);r(u,0,h,0);var m=0;return u[1]>u[0]&&(m=1),u[2]>u[m]&&(m=2),m}(e,f,n,i,a,u,y,_),i+=f.getPrimCount(n));var z=new o;if(m(e,i,a,g,u,y,z),z.num_bins<0)f.setPrimCount(n,f.getPrimCount(n)+a-i+1);else{!function(t,e,n,r,i,s,a){var o,h,u=t.primitives,c=t.sort_prims,l=0,f=0|e,d=0|a.best_split;for(o=e;o<=n;o++){var p=0|u[o];c[o]<d?u[f++]=p:c[l++]=p}for(h=0;h<l;h++)u[f+h]=c[h]}(e,i,a,0,0,0,z);var A=f.nextNodes(2),S=.5*(z.vb_left[3+g]+z.vb_left[g]),E=.5*(z.vb_right[3+g]+z.vb_right[g]);f.setFlags(n,g,S<E?0:1,c?1:0),f.setLeftChild(n,A),e.recursion_stack.push([e,A+1,i+z.num_left,a,z.vb_right,z.cb_right,c,l+1]),e.recursion_stack.push([e,A,i,i+z.num_left-1,z.vb_left,z.cb_left,c,l+1])}},compute_boxes:function(n){var i=n.boxv_o,a=n.boxc_o,o=n.boxv_t,h=n.boxc_t;s(i),s(a),s(o),s(h);for(var u,c,l,f,d=n.centroids,p=n.finfo.boxes,m=n.finfo.boxStride,v=0,g=n.prim_count;v<g;v++){var x=n.primitives[v];l=p,f=m*x,(u=d)[c=3*x]=.5*(l[f]+l[f+3]),u[c+1]=.5*(l[f+1]+l[f+4]),u[c+2]=.5*(l[f+2]+l[f+5]),v>=n.first_transparent?(t(h,d,3*x),e(o,p,m*x)):(t(a,d,3*x),e(i,p,m*x))}r(y,0,n.boxv_o,0);var _=Math.max(y[0],y[1],y[2]);n.scene_epsilon=1e-5*_},box_area:function(t,e){var n=t[e+3]-t[e],r=t[e+4]-t[e+1],i=t[e+5]-t[e+2];return n<0||r<0||i<0?0:2*(n*r+r*i+i*n)}}}();function a(t,e){this.boxes=t.boxes,this.polygonCounts=t.polygonCounts,this.hasPolygonCounts=!!this.polygonCounts,this.materials=t.materials,this.materialDefs=e,this.count=t.length,this.boxStride=6,this.wantSort=!0}function o(t,e,n){this.finfo=n||new a(t,e),this.prim_count=this.finfo.getCount(),this.frags_per_leaf_node=-1,this.frags_per_inner_node=-1,this.nodes=null,this.work_buf=new ArrayBuffer(4*this.prim_count),this.sort_prims=new Int32Array(this.work_buf),this.primitives=new Int32Array(this.prim_count),this.centroids=new Float32Array(3*this.prim_count),this.boxv_o=new Float32Array(6),this.boxc_o=new Float32Array(6),this.boxv_t=new Float32Array(6),this.boxc_t=new Float32Array(6),this.recursion_stack=[]}a.prototype.getCount=function(){return this.count},a.prototype.isTransparent=function(t){return!(!this.materialDefs||!this.materialDefs[this.materials[t]])&&this.materialDefs[this.materials[t]].transparent},a.prototype.getPolygonCount=function(t){return this.polygonCounts[t]},o.prototype.sortPrimitives=function(t){var e,n,r=new Float32Array(this.work_buf),i=this.primitives,a=0,o=t;for(e=0,n=this.prim_count;e<n;e++){i[e]=e;var h=this.finfo.isTransparent(e);h&&a++,o?(r[e]=s.box_area(this.finfo.boxes,this.finfo.boxStride*e),h&&(r[e]=-r[e])):r[e]=h?-1:1}if(o)Array.prototype.sort.call(this.primitives,(function(t,e){return r[e]-r[t]}));else if(a&&a<this.prim_count){var u=new Int32Array(a),c=0,l=0;for(e=0,n=this.prim_count;e<n;e++)r[e]>=0?i[c++]=i[e]:u[l++]=i[e];i.set(u,this.prim_count-a)}this.first_transparent=this.prim_count-a},o.prototype.build=function(t){var e=t&&!!t.useSlimNodes,n=this;function r(e,r){t.hasOwnProperty(e)?n[e]=t[e]:n[e]=r}if(e)r("frags_per_leaf_node",1),r("frags_per_inner_node",0),r("frags_per_leaf_node_transparent",1),r("frags_per_inner_node_transparent",0),r("max_polys_per_node",1/0);else{var a=t.isWeakDevice?.5:1;r("frags_per_leaf_node",0|256*a),r("frags_per_inner_node",0|this.frags_per_leaf_node),r("frags_per_leaf_node_transparent",this.frags_per_leaf_node),r("frags_per_inner_node_transparent",0),r("max_polys_per_node",0|2e4*a)}if(this.nodes&&this.nodes.is_lean_node==e)this.nodes.nodeCount=0;else{for(var o=this.prim_count/this.frags_per_leaf_node,h=1;h<o;)h*=2;this.nodes=new i(h,!!t&&t.useSlimNodes)}this.sortPrimitives(this.finfo.wantSort),s.compute_boxes(this);var u,c=this.nodes.nextNodes(2);for(s.bvh_subdivide(this,c,0,this.first_transparent-1,this.boxv_o,this.boxc_o,!1,0);this.recursion_stack.length;)u=this.recursion_stack.pop(),s.bvh_subdivide(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]);for(s.bvh_subdivide(this,c+1,this.first_transparent,this.prim_count-1,this.boxv_t,this.boxc_t,!0,0);this.recursion_stack.length;)u=this.recursion_stack.pop(),s.bvh_subdivide(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7])};var h=n(0),u=n(6),c=n(5),l=n(7),f=n(10),d=n(3),p=1,m=(Object(r.b)(),null);function y(){this.length=0,this.numLoaded=0,this.boxes=null,this.transforms=null,this.materials=null,this.packIds=null,this.entityIndexes=null,this.fragId2dbId=null,this.topoIndexes=null,this.visibilityFlags=null}function v(t,e){var n=e.geomDataIndexes.length,r=t.stream,i=0,s={},a=e.mesh2frag={};e.polygonCounts=e.geomDataIndexes;for(var o=0;o<n;o++){var h=e.geomDataIndexes[o];if(s[h]){var u=s[h];e.polygonCounts[o]=e.polygonCounts[u],e.packIds[o]=e.packIds[u],e.entityIndexes[o]=e.entityIndexes[u],i+=e.polygonCounts[o]}else{if(!t.seekToEntry(h))return;r.getUint8(),r.seek(r.offset+24),e.polygonCounts[o]=r.getUint16(),e.packIds[o]=parseInt(t.readString()),e.entityIndexes[o]=t.readU32V(),i+=e.polygonCounts[o],s[h]=o}var c=e.packIds[o]+":"+e.entityIndexes[o],l=a[c];void 0===l?a[c]=o:Array.isArray(l)?l.push(o):a[c]=[l,o]}return e.geomDataIndexes=null,s=null,i}function g(t,e,n,r,i,s,a,o){var u=function(t,e){var n=[];if(!e)return n;for(var r=t.getEntryCounts(),i=t.stream,s=0;s<r;s++){var a=t.seekToEntry(s);if(!a)return;if(a.version>5)return;a.version>4&&t.readU8(),t.readU32V(),a.version>2||t.readString(),t.readU32V(),t.readTransform(s,null,12*s);for(var o=0;o<6;o++)i.getFloat32();if(a.version>1){var h=t.readU32V();e.indexOf(h)>=0&&n.push(s)}}return n}(t,s),c=u.length?u.length:t.getEntryCounts(),l=t.stream;m&&c>m&&(c=m),e.totalLength=t.getEntryCounts(),e.length=c,e.numLoaded=0;var y,v,g=e.boxes=i?new Float64Array(6*c):new Float32Array(6*c),x=e.transforms=i?new Float64Array(12*c):new Float32Array(12*c),_=e.materials=new Int32Array(c),b=e.packIds=new Int32Array(c),w=e.entityIndexes=new Int32Array(c),k=e.geomDataIndexes=new Int32Array(c),z=e.fragId2dbId=new Int32Array(c),A=e.visibilityFlags=new Uint16Array(c),S=[0,0,0];r&&(y=new f.a,v=new d.a(!0).fromArray(r.elements));var E=!n&&a,M=x,O=12,T=9;function C(t){if(r){var e=6*t;y.setFromArray(g,e),y.applyMatrix4(v),y.copyToArray(g,e)}}function P(t){for(var e=6*t,n=0;n<6;n++)g[e++]=l.getFloat32()}function I(t,e){for(var n=6*t,r=0;r<6;r++)g[n++]=l.getFloat32()+e[r%3]}E&&(i||(g=new Float64Array(6*c),M=new Float64Array(3*c),O=3,T=0));for(var R=0,F=e.length;R<F;R++){var U=u.length?t.seekToEntry(u[R]):t.seekToEntry(R);if(!U)return;if(U.version>5)return;var V=!0;if(U.version>4)V=0!=(1&t.readU8());if(A[R]=V?p:0,_[R]=t.readU32V(),U.version>2?k[R]=t.readU32V():(b[R]=parseInt(t.readString()),w[R]=t.readU32V()),t.readTransform(R,x,12*R,r,n,S),E&&M!==x&&M.set(S,R*O+T),U.version>3?I(R,S):P(R),C(R),n){var L=6*R;g[L++]-=n.x,g[L++]-=n.y,g[L++]-=n.z,g[L++]-=n.x,g[L++]-=n.y,g[L++]-=n.z}U.version>1&&(z[R]=t.readU32V())}if(E){for(var B=-1,D=-1,N=-1,j=g.length,q=0;q<j;q+=6)B=Math.max(B,g[q+3]-g[q]),D=Math.max(D,g[q+4]-g[q+1]),N=Math.max(N,g[q+5]-g[q+2]);var H=a.size();if(H.x>100*B||H.y>100*D||H.z>100*N){var Z=0,W=0,G=0;for(q=0;q<j;q+=3)Z+=g[q],W+=g[q+1],G+=g[q+2];n=new h.a(3*Z/j,3*W/j,3*G/j)}else n=o;var Q=e.boxes;for(q=0;q<j;q+=3)Q[q]=g[q]-n.x,Q[q+1]=g[q+1]-n.y,Q[q+2]=g[q+2]-n.z;if(r&&M!==x){var X=new h.a;for(R=0;R<F;++R){var Y=R*O+T;X.fromArray(M,Y).applyMatrix4(v).toArray(M,Y)}}for(R=0;R<F;++R){var K=12*R+9,J=R*O+T;x[K]=M[J]-n.x,x[K+1]=M[J+1]-n.y,x[K+2]=M[J+2]-n.z}}return e.finishLoading=!0,n}function x(t,e,n,r){var i=t.seekToEntry(e);if(!i)return null;if(i.version>2)return null;i.version>1&&t.readU8();return{definition:t.stream.getUint32(),transform:t.readTransform(void 0,void 0,void 0,n,r),instanceNodePath:t.readPathID()}}var _=0,b=1,w=2,k=3;function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t){switch(t){case"meter":case"meters":case"m":return 1;case"feet and inches":case"foot":case"feet":case"ft":return.3048;case"inch":case"inches":case"in":return.0254;case"centimeter":case"centimeters":case"cm":return.01;case"millimeter":case"millimeters":case"mm":return.001;default:return 1}}function S(t,e){var n=t.globalOffset;if(n.x||n.y||n.z){if(e){var r=new d.a(!0);r.copy(e),(e=r).elements[12]-=n.x,e.elements[13]-=n.y,e.elements[14]-=n.z}else(e=new d.a(!0)).makeTranslation(-n.x,-n.y,-n.z);t.placementWithOffset=e}else t.placementWithOffset=e}function E(t,e){if(t.metadata){var n=t.metadata["world bounding box"],r=new h.a(n.minXYZ[0],n.minXYZ[1],n.minXYZ[2]),i=new h.a(n.maxXYZ[0],n.maxXYZ[1],n.maxXYZ[2]);t.bbox=new f.a(r,i),t.modelSpaceBBox=t.bbox.clone();var s=function(t,e){if(t.placementTransform=e.placementTransform,e.applyScaling){var n="m";t.metadata["distance unit"]&&(n=t.metadata["distance unit"].value),t.scalingUnit=n,"object"===z(e.applyScaling)?(e.applyScaling.from&&(n=e.applyScaling.from),e.applyScaling.to&&(t.scalingUnit=e.applyScaling.to)):t.scalingUnit=e.applyScaling;var r=A(n)/A(t.scalingUnit);if(1!=r){var i=new d.a(!0),s=new d.a(!0);s.elements[0]=r,s.elements[5]=r,s.elements[10]=r,e.placementTransform&&i.copy(e.placementTransform),e.applyPlacementInModelUnits?e.placementTransform=s.multiply(i):e.placementTransform=i.multiply(s),t.placementTransform=e.placementTransform,t.scalingFactor=r}}var a=t.metadata["custom values"];if(a&&a.refPointTransform){t.refPointTransform=new d.a(!0);var o=t.refPointTransform.elements,h=a.refPointTransform;o[0]=h[0],o[1]=h[1],o[2]=h[2],o[4]=h[3],o[5]=h[4],o[6]=h[5],o[8]=h[6],o[9]=h[7],o[10]=h[8],o[12]=h[9],o[13]=h[10],o[14]=h[11]}else{var u=t.metadata.georeference,c=u&&u.refPointLMV,l=0;if(a&&a.hasOwnProperty("angleToTrueNorth")&&(l=Math.PI/180*a.angleToTrueNorth),c||l){var f=new d.a(!0),p=f.elements;p[0]=p[5]=Math.cos(l),p[1]=-Math.sin(l),p[4]=Math.sin(l);var m=new d.a(!0);p=m.elements,c&&(p[12]=-c[0],p[13]=-c[1],p[14]=-c[2]),t.refPointTransform=f.multiply(m)}}if(e.applyRefPoint&&t.refPointTransform){var y=new d.a(!0);e.placementTransform&&y.copy(e.placementTransform),y.multiply(t.refPointTransform),t.placementTransform=e.placementTransform=y}else!e.applyRefPoint&&e.placementTransform&&(t.placementTransform=new d.a(!0).copy(e.placementTransform));return t.placementTransform&&function(t){for(var e=t.elements,n=0;n<4;n++)for(var r=0;r<4;r++)if(n===r){if(1!==e[4*n+r])return!1}else if(0!==e[4*n+r])return!1;return!0}(t.placementTransform)&&(t.placementTransform=null),t.placementTransform}(t,e);s&&!t.bbox.empty()&&t.bbox.applyMatrix4(s),e.globalOffset?t.globalOffset=e.globalOffset:t.globalOffset=t.bbox.center(),S(t,s),t.bbox.empty()||(t.bbox.min.sub(t.globalOffset),t.bbox.max.sub(t.globalOffset)),t.metadata.hasOwnProperty("double sided geometry")&&t.metadata["double sided geometry"].value&&(t.doubleSided=!0)}}function M(t,e){t[0]-=e.x,t[1]-=e.y,t[2]-=e.z}function O(t,e){var n=e.definition,r=t.seekToEntry(n);if(!r)return null;if(r.version>2)return null;var i=t.stream,s={isPerspective:!i.getUint8(),position:t.readVector3f(),target:t.readVector3f(),up:t.readVector3f(),aspect:i.getFloat32(),fov:i.getFloat32()*(180/Math.PI)};return r.version<2&&(i.getFloat32(),i.getFloat32()),s.orthoScale=i.getFloat32(),s}function T(t,e){var n=t.seekToEntry(e);if(!n)return null;if(n.version>1)return null;var r=t.stream;return{position:t.readVector3f(),dir:t.readVector3f(),r:r.getFloat32(),g:r.getFloat32(),b:r.getFloat32(),intensity:r.getFloat32(),spotAngle:r.getFloat32(),size:r.getFloat32(),type:r.getUint8()}}function C(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var I=n(39).Zlib;function R(t){this.unzip=new I.Unzip(t),this.manifest=null,this.materials=null,this.metadata=null,this.fragments=null,this.geompacks=[],this.instances=[],this.cameras=[],this.lights=[],this.propertydb={attrs:[],avs:[],ids:[],values:[],offsets:[]},this.bbox=null,this.animations=null,this.pendingRequests=0,this.globalOffset={x:0,y:0,z:0},this.topologyPath=null}R.prototype.loadAsyncResource=function(t,e,n,r){if(n)r(n);else{var i=this;this.pendingRequests++,u.a.getItem(t,t.basePath+e,(function(e){i.pendingRequests--,r(e),0==i.pendingRequests&&i.postLoad(t)}),t.onFailureCallback)}},R.prototype.loadManifest=function(t){var e=this.unzip.decompress("manifest.json");if(!e)return!1;var n=new c.a(e);this.manifest=JSON.parse(n.getString(e.byteLength))},R.prototype.applyLargeBoxOffset=function(t){!t||t.x===this.globalOffset.x&&t.y===this.globalOffset.y&&t.z===this.globalOffset.z||(this.bbox.empty()||this.bbox.translate({x:this.globalOffset.x-t.x,y:this.globalOffset.y-t.y,z:this.globalOffset.z-t.z}),this.verylargebbox=!0,this.globalOffset.copy(t),S(this,this.placementTransform))},R.prototype.parseFragmentList=function(t,e,n,r){var i=this;this.loadAsyncResource(e,n,r,(function(t){var n=new l.a(t),r=g(n,i.fragments=new y,e.globalOffset,e.placementTransform,e.fragmentTransformsDouble,void 0,i.bbox,i.globalOffset);n=null,i.applyLargeBoxOffset(r)}))},R.prototype.parseGeometryMetadata=function(t,e,n,r){var i=this;this.loadAsyncResource(e,n,r,(function(t){var e=new l.a(t);i.geomMetadata={},function(t,e){var n=t.getEntryCounts(),r=t.stream;e.length=n;for(var i,s=e.fragTypes=new Uint8Array(n),a=e.primCounts=new Uint16Array(n),o=e.packIds=new Int32Array(n),h=e.entityIndexes=new Int32Array(n),u=0,c=n;u<c;u++){var l=t.seekToEntry(u);if(!l)return;if(s[u]=r.getUint8(),r.seek(r.offset+24),a[u]=r.getUint16(),o[u]=parseInt(t.readString()),h[u]=t.readU32V(),l.version>2){var f=r.getInt32();if(-1!=f&&void 0===i){i=e.topoIndexes=new Int32Array(n);for(var d=0;d<u;d++)i[d]=-1}null!=i&&(i[u]=f)}}}(e,i.geomMetadata),i.numGeoms=i.geomMetadata.primCounts.length}))},R.prototype.parseInstanceTree=function(t,e,n,r){var i=this;this.loadAsyncResource(t,e,n,(function(t){var e=new l.a(t);i.instanceTransforms=function(t,e){for(var n=[],r=[],i=[],s=[],a=0,o=t.stream;o.offset<o.byteLength-8-1;){if(t.readTransform(a,n,12*a,void 0,void 0,void 0),e<5)o.getUint8()&&o.getUint32();var h=o.getUint8();if(e>=5)o.getUint8();if(e>=3&&(r[a]=o.getVarints()),a)switch(h){case _:break;case b:var u;if(e<2){if(1===(u=o.getUint16()))i[a]=o.getUint32();else if(u>0){for(var c=[],l=0;l<u;l++)c.push(o.getUint32());i[a]=c}}else if(1===(u=o.getVarints()))i[a]=o.getVarints();else if(u>0){for(c=[],l=0;l<u;l++)c.push(o.getVarints());i[a]=c}break;case w:case k:o.getUint8()&&o.getUint32();break;default:debug("Unrecognized instance tree node type.")}var f=0;h===_&&(f=e<2?o.getUint16():o.getVarints()),s[a]=f,a++}var d=new Uint32Array(r.length);d.set(r);var p=new Float32Array(n.length);p.set(n);var m=new Uint32Array(s.length);return m.set(s),{dbIds:d,fragIds:i,transforms:p,childCounts:m}}(e,r)}))},R.prototype.loadRemainingSvf=function(t){var e=this,n=this.unzip;this.manifest=t.manifest;var i=this.manifest,s=i.assets,a=n.decompress("metadata.json"),o=new c.a(a);a.byteLength>3&&0!==a[3]&&(this.metadata=JSON.parse(o.getString(a.byteLength)).metadata,E(this,t)),this.packFileTotalSize=0,this.primitiveCount=0;for(var h=i.typesets,u={},f=0;f<h.length;f++){var d=h[f];u[d.id]=d.types}for(f=0;f<s.length;f++){var p=s[f];if(!Object(r.b)()||"Set.bin"!==p.id){var m=p.type;0==m.indexOf("Autodesk.CloudPlatform.")&&(m=m.substr(23));var y=p.URI,v=p.typeset?u[p.typeset]:null,g=p.usize||0,x=Math.round(g/1048576*1e5)/1e5|0;if(0!=y.indexOf("embed:/"))if("PackFile"==m)"Autodesk.CloudPlatform.Geometry"==(v?v[0].class:null)&&(this.packFileTotalSize+=g,this.geompacks.push({id:p.id,uri:y,usize:g}));else"PropertyAttributes"==m?this.propertydb.attrs.push({path:y}):"PropertyAVs"==m?this.propertydb.avs.push({path:y}):"PropertyIDs"==m?this.propertydb.ids.push({path:y}):"PropertyOffsets"==m?this.propertydb.offsets.push({path:y}):"PropertyValues"==m&&this.propertydb.values.push({path:y});var _=p.URI,b=null;if(0==_.indexOf("embed:/")&&(_=_.substr(7),b=n.decompress(_)),"ProteinMaterials"==m)-1==_.indexOf("Protein")?this.loadAsyncResource(t,_,b,(function(t){var n=new c.a(t),r=t.byteLength;e.materials=0<r?JSON.parse(n.getString(r)):null})):this.loadAsyncResource(t,_,b,(function(t){var n=new c.a(t),r=t.byteLength;if(0<r)try{e.proteinMaterials=JSON.parse(n.getString(r))}catch(n){for(var i="",s=0;s<t.length;s++)i+=String.fromCharCode(t[s]);try{e.proteinMaterials=JSON.parse(i)}catch(t){console.error("Failed to parse Protein materials file either as UTF8 or ANSI")}}else e.proteinMaterials=null}));else if("StandardMaterials"==m)this.loadAsyncResource(t,_,b,(function(t){var n=new c.a(t),r=t.byteLength;if(0<r){var i=n.getString(r);e.stdSurfMats=JSON.parse(i)}else e.stdSurfMats=null}));else if("MaterialX"==m)this.loadAsyncResource(t,_,b,(function(t){var n=new c.a(t),r=t.byteLength;e.mtlx=0<r?n.getString(r):null}));else if("FragmentList"==m)this.parseFragmentList(p,t,_,b);else if("GeometryMetadataList"==m)this.parseGeometryMetadata(p,t,_,b);else if("PackFile"==m)-1!=_.indexOf("CameraDefinitions.bin")?this.loadAsyncResource(t,_,b,(function(t){e.camDefPack=new l.a(t)})):-1!=_.indexOf("CameraList.bin")?this.loadAsyncResource(t,_,b,(function(t){e.camInstPack=new l.a(t)})):-1!=_.indexOf("LightDefinitions.bin")?this.loadAsyncResource(t,_,b,(function(t){e.lightDefPack=new l.a(t)})):-1!=_.indexOf("LightList.bin")&&this.loadAsyncResource(t,_,b,(function(t){e.lightInstPack=new l.a(t)}));else if("Animations"==m)this.loadAsyncResource(t,_,b,(function(t){var n=new c.a(t),r=t.byteLength;e.animations=0<r?JSON.parse(n.getString(r)):null}));else if("Topology"==m)e.topologyPath=t.basePath+_,e.topologySizeMB=x;else if(t.loadInstanceTree&&("InstanceTree"==m||"InstanceTreeTree"==m)){var w=v?v[0].version:1;this.parseInstanceTree(t,_,b,w)}}}0==this.pendingRequests&&this.postLoad(t),delete this.unzip},R.prototype.addTransparencyFlagsToMaterials=function(t){for(var e in t){var n=t[e],r=n.userassets,i=n.materials[r[0]];n.transparent=i.transparent}},R.prototype.postLoadOfCam=function(t){if(this.camDefPack&&this.camInstPack){for(var e=0,n=this.camInstPack.getEntryCounts();e<n;e++){var r=x(this.camInstPack,e,this.placementTransform,this.globalOffset),i=O(this.camDefPack,r);r.transform&&(r.transform.transformPoint(i.position),r.transform.transformPoint(i.target),r.transform.transformDirection(i.up));var s=this.bbox;if(s&&!s.containsPoint(i.target)){var a=(new h.a).copy(s.center()).distanceTo(i.position),o=(new h.a).copy(i.target).sub(i.position).normalize().multiplyScalar(a);i.target=(new h.a).copy(i.position).add(o)}this.cameras.push(i)}delete this.camDefPack,delete this.camInstPack}},R.prototype.postLoadOfLight=function(t){if(this.lightDefPack&&this.lightInstPack){for(var e=0,n=this.lightInstPack.getEntryCounts();e<n;e++){var r=x(this.lightInstPack,e,this.placementTransform,this.globalOffset);this.lights.push(T(this.lightDefPack,r.definition))}delete this.lightInstPack,delete this.lightDefPack}},R.prototype.postLoadOfFragments=function(t){var e=this.fragments;if(this.geomMetadata){e.polygonCounts=e.geomDataIndexes;var n=this.geomMetadata;null!=n.topoIndexes&&(e.topoIndexes=new Int32Array(e.length));for(var r=0,i=e.length;r<i;r++){var s=e.geomDataIndexes[r];e.entityIndexes[r]=n.entityIndexes[s],e.packIds[r]=n.packIds[s],e.polygonCounts[r]=n.primCounts[s],this.primitiveCount+=n.primCounts[s],null!=n.topoIndexes&&(e.topoIndexes[r]=n.topoIndexes[s])}e.geomDataIndexes=null,this.geomMetadata=null}this.calculateMesh2Frag(e)},R.prototype.calculateMesh2Frag=function(t){for(var e=t.mesh2frag={},n=t.packIds,r=t.entityIndexes,i=0,s=t.length;i<s;i++){var a=n[i]+":"+r[i],o=e[a];void 0===o?e[a]=i:Array.isArray(o)?o.push(i):e[a]=[o,i]}},R.prototype.postLoadOfBBox=function(t){if(!this.bbox||t.placementTransform){for(var e=[1/0,1/0,1/0,-1/0,-1/0,-1/0],n=this.fragments,r=n.boxes,i=0,s=n.length;i<s;i++){var a,o=6*i;for(a=0;a<3;a++)r[o+a]<e[a]&&(e[a]=r[o+a]);for(a=3;a<6;a++)r[o+a]>e[a]&&(e[a]=r[o+a])}this.bbox={min:{x:e[0],y:e[1],z:e[2]},max:{x:e[3],y:e[4],z:e[5]}}}},R.prototype.postLoadOfObjectIds=function(t){var e=new Set(t.objectIds);if(e.size>0){for(var n=new Set,r=new Set,i=0;i<this.fragments.length;++i)e.has(this.fragments.fragId2dbId[i])&&(n.add(this.fragments.packIds[i]),r.add(i));for(var s=new Set,a=0;a<this.geompacks.length;++a)n.has(parseInt(this.geompacks[a].id))&&s.add(this.geompacks[a]);this.geompacks=C(s);var o=function(t,e){t.length=e.length,t.numLoaded=0;for(var n=t.length,r=[1/0,1/0,1/0,-1/0,-1/0,-1/0],i=new Float32Array(6*n),s=new Float32Array(12*n),a=new Int32Array(n),o=new Int32Array(n),h=new Int32Array(n),u=new Uint16Array(n),c=new Int32Array(n),l=new Int32Array(n),f=t.geomDataIndexes?new Int32Array(n):null,d=t.topoIndexes?new Int32Array(n):null,p={},m=0;m<e.length;++m){for(var y=e[m],v=6*y,g=6*m,x=0;x<6;++x)i[g++]=t.boxes[v++];v=12*y,g=12*m;for(var _=0;_<12;++_)s[g++]=t.transforms[v++];a[m]=t.materials[y],o[m]=t.packIds[y],h[m]=t.entityIndexes[y],u[m]=t.visibilityFlags[y],c[m]=t.fragId2dbId[y],l[m]=t.polygonCounts[y],f&&(f[m]=t.geomDataIndexes[y]),d&&(d[m]=t.topoIndexes[y]);var b=t.packIds[y]+":"+t.entityIndexes[y],w=p[b];null==w?p[b]=m:Array.isArray(w)?w.push(m):p[b]=[w,m];for(var k=6*m,z=0;z<3;++z)i[k+z]<r[z]&&(r[z]=i[k+z]);for(var A=3;A<6;++A)i[k+A]>r[A]&&(r[A]=i[k+A])}return t.boxes=i,t.transforms=s,t.materials=a,t.packIds=o,t.entityIndexes=h,t.mesh2frag=p,t.visibilityFlags=u,t.fragId2dbId=c,t.polygonCounts=l,t.geomDataIndexes=f,t.topoIndexes=d,t.totalLength=n,r}(this.fragments,C(r));this.bbox={min:{x:o[0],y:o[1],z:o[2]},max:{x:o[3],y:o[4],z:o[5]}}}},R.prototype.postLoadComplete=function(t){if(t.loadDoneCB("svf"),this.fragments.polygonCounts){var e=performance.now(),n=this.materials?this.materials.materials:null;n&&this.addTransparencyFlagsToMaterials(n),this.bvh=new o(this.fragments,n),this.bvh.build(t.bvhOptions);var r=performance.now();t.worker.debug("BVH build time (worker thread):"+(r-e)),t.loadDoneCB("bvh")}t.loadDoneCB("done")},R.prototype.postLoad=function(t){!function(t){if(t.animations){var e=t.animations.animations;if(e)for(var n=t.globalOffset,r=(new d.a).makeTranslation(n.x,n.y,n.z),i=(new d.a).makeTranslation(-n.x,-n.y,-n.z),s=new d.a,a=new d.a,o=0;o<e.length;o++){var h=e[o];if(h.hierarchy)for(var u=0;u<h.hierarchy.length;u++){var c=h.hierarchy[u].keys;if(c)for(var l=0;l<c.length;l++){var f=c[l].pos;if(f){var p=n,m=c[l].rot;m&&(s.makeRotationFromQuaternion({x:m[0],y:m[1],z:m[2],w:m[3]}),a.multiplyMatrices(r,s).multiply(i),p={x:a.elements[12],y:a.elements[13],z:a.elements[14]}),M(f,p)}var y=c[l].target;y&&M(y,n);var v=c[l].points;if(v)for(var g=0;g<v.length;g++)M(v[g],n)}}}}}(this),this.postLoadOfCam(t),this.postLoadOfLight(t),this.postLoadOfFragments(t),this.postLoadOfBBox(t),this.postLoadOfObjectIds(t),this.postLoadComplete(t)};var F=n(13);function U(t,e){this.offset=0,this.byteLength=e,this.range=0,this.compressedBuffer=t,this.compressedByteLength=t.length,this.compressedOffset=0,this.decompressEnd=!1,this.resetCount=0,this.convBuf=new ArrayBuffer(8),this.convUint8=new Uint8Array(this.convBuf),this.convUint16=new Uint16Array(this.convBuf),this.convInt32=new Int32Array(this.convBuf),this.convUint32=new Uint32Array(this.convBuf),this.convFloat32=new Float32Array(this.convBuf),this.convFloat64=new Float64Array(this.convBuf),this.COMPRESSED_chunk_SIZE=524288,this.DECOMPRESSED_chunk_SIZE=262144,this.chunks=[],this.chunksByteLengthMax=0,this.chunksByteLengthMin=0,this.chunkPointer=null,this.chunkOffset=0,this.tempchunk={startIdx:0,endIdx:0,buffer:null},this.inflate=this.getInflate(),this.prepare(0,1024)}U.prototype.getInflate=function(){if(!this.inflate){this.inflate=new F.Inflate({level:3,chunkSize:this.DECOMPRESSED_chunk_SIZE});var t=this;this.inflate.onData=function(e){t.chunksByteLengthMax+=e.byteLength,t.chunksByteLengthMax<t.offset&&(e=null,t.chunksByteLengthMin=t.chunksByteLengthMax),t.chunks.push(e)},this.inflate.onEnd=function(){if(t.decompressEnd=!0,t.inflate=null,t.chunksByteLengthMax!=t.byteLength)throw"Decompress error, unexpected size."}}return this.inflate},U.prototype.prepare=function(t,e,n){if(this.chunksByteLengthMin>t&&(this.reset(),this.offset=t,this.range=e),!n){for(var r=Math.floor(t/this.DECOMPRESSED_chunk_SIZE),i=Math.floor(this.chunksByteLengthMin/this.DECOMPRESSED_chunk_SIZE),s=this.chunks.length<r?this.chunks.length:r,a=i;a<s;a++)this.chunks[a]=null;this.chunksByteLengthMin=s*this.DECOMPRESSED_chunk_SIZE}var o=t+(e=e||1);o=o>this.byteLength?this.byteLength:o;for(var h=!1;o>this.chunksByteLengthMax;){var u=this.COMPRESSED_chunk_SIZE;this.compressedOffset+u>=this.compressedByteLength&&(u=this.compressedByteLength-this.compressedOffset,h=!0);var c=new Uint8Array(this.compressedBuffer.buffer,this.compressedOffset,u);if(this.getInflate().push(c,h),this.compressedOffset+=u,h)break}},U.prototype.ensurechunkData=function(t){t=t||1;var e=this.chunks.length,n=Math.floor(this.offset/this.DECOMPRESSED_chunk_SIZE),r=Math.floor((this.offset+t-1)/this.DECOMPRESSED_chunk_SIZE);if(r>=e){var i=(r-e+1)*this.DECOMPRESSED_chunk_SIZE;this.prepare(this.DECOMPRESSED_chunk_SIZE*e,i,!0)}if(n<r){if(this.tempchunk.startIdx>n||this.tempchunk.endIdx<r){var s=(r-n+1)*this.DECOMPRESSED_chunk_SIZE;this.tempchunk.buffer=new Uint8Array(s);for(var a=0,o=n;o<=r;o++)this.tempchunk.buffer.set(this.chunks[o],a),a+=this.DECOMPRESSED_chunk_SIZE;this.tempchunk.startIdx=n,this.tempchunk.endIdx=r}this.chunkPointer=this.tempchunk.buffer}else this.chunkPointer=this.chunks[n];this.chunkOffset=this.offset-n*this.DECOMPRESSED_chunk_SIZE,this.offset+=t},U.prototype.seek=function(t,e,n){this.offset=t,this.range=e,this.prepare(t,e,n)},U.prototype.getBytes=function(t){return this.ensurechunkData(t),new Uint8Array(this.chunkPointer.buffer,this.chunkOffset,t)},U.prototype.getVarints=function(){var t,e=0,n=0;do{this.ensurechunkData(),e|=(127&(t=this.chunkPointer[this.chunkOffset]))<<n,n+=7}while(128&t);return e},U.prototype.getUint8=function(){return this.ensurechunkData(),this.chunkPointer[this.chunkOffset]},U.prototype.getUint16=function(){return this.ensurechunkData(),this.convUint8[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),this.convUint8[1]=this.chunkPointer[this.chunkOffset],this.convUint16[0]},U.prototype.getInt16=function(){var t=this.getUint16();return t>32767&&(t|=4294901760),t},U.prototype.getInt32=function(){var t=this.convUint8;return this.ensurechunkData(),t[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[1]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[2]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[3]=this.chunkPointer[this.chunkOffset],this.convInt32[0]},U.prototype.getUint32=function(){var t=this.convUint8;return this.ensurechunkData(),t[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[1]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[2]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[3]=this.chunkPointer[this.chunkOffset],this.convUint32[0]},U.prototype.getFloat32=function(){var t=this.convUint8;return this.ensurechunkData(),t[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[1]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[2]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[3]=this.chunkPointer[this.chunkOffset],this.convFloat32[0]},U.prototype.getFloat64=function(){for(var t=this.convUint8,e=0;e<8;e++)this.ensurechunkData(),t[e]=this.chunkPointer[this.chunkOffset];return this.convFloat64[0]},U.prototype.getString=function(t){var e="";this.ensurechunkData(t);for(var n,r=this.chunkPointer,i=this.chunkOffset,s=this.chunkOffset+t;i<s;i++)e+=String.fromCharCode(r[i]);try{n=decodeURIComponent(escape(e))}catch(t){n=e,debug("Failed to decode string "+n)}return n},U.prototype.reset=function(t){this.resetCount++,debug("InputStream Less Reset: "+this.resetCount),t&&(this.compressedBuffer=t,this.compressedByteLength=t.length),this.offset=0,this.chunks=[],this.chunksByteLengthMax=0,this.chunksByteLengthMin=0,this.compressedOffset=0,this.decompressEnd=!1,this.chunkPointer=null,this.chunkOffset=0,this.inflate=null,this.tempchunk.startIdx=0,this.tempchunk.endIdx=0,this.tempchunk.buffer=null};var V=n(13);function L(t,e){var n,r=!1;if(31==t[0]&&139==t[1])if(e){r=!0;var i=(n=new U(t,e)).getInt32();this.type=n.getString(i),this.version=n.getInt32();var s=Math.floor(.9*n.byteLength);n.seek(s,n.byteLength-s)}else{t=V.ungzip(t);i=(n=new c.a(t)).getInt32();this.type=n.getString(i),this.version=n.getInt32()}else n=new c.a(t);this.stream=n,this.types=null,this.entryOffsets=[],n.seek(n.byteLength-8,8,r);var a=n.getUint32();this.typesOffset=n.getUint32(),n.seek(this.typesOffset,1,r);var o=this.readU32V();this.types=[];for(var h=0;h<o;++h)this.types.push({entryClass:this.readString(),entryType:this.readString(),version:this.readU32V()});n.seek(a,1,r);var u=this.readU32V(),l=this.entryOffsets;for(h=0;h<u;++h)l.push(n.getUint32());n.seek(0)}L.prototype=Object.create(l.a.prototype);var B=Object(r.b)()?6291456:33554432;function D(t){R.call(this,t),this.memoryOptimizedMode=!1,this.pendingGeometryMetadataLoad={}}D.prototype=Object.create(R.prototype),D.prototype.constructor=D,D.prototype.loadAsyncResource=function(t,e,n,r,i){if(n)r(n);else{var s=this;this.pendingRequests++,u.a.getItem(t,t.basePath+e,(function(e){s.pendingRequests--,r(e),0==s.pendingRequests&&s.postLoad(t)}),t.onFailureCallback,{skipDecompress:i})}},D.prototype.parseFragmentList=function(t,e,n,r){this.memoryOptimizedMode=e.perfOpt.forceMemoryOptimizedMode||t.size>B,debug("PackageML: memory optimized mode: "+this.memoryOptimizedMode);var i=this;if(this.loadAsyncResource(e,n,r,(function(n){var r=new L(n,t.usize),s=g(r,i.fragments=new y,e.globalOffset,e.placementTransform,e.fragmentTransformsDouble,e.objectIds,i.bbox,i.globalOffset);r=null,i.applyLargeBoxOffset(s),i.memoryOptimizedMode&&i.pendingGeometryMetadataLoad.path&&i.loadAsyncResource(e,i.pendingGeometryMetadataLoad.path,i.pendingGeometryMetadataLoad.contents,(function(t){var e=new L(t,i.pendingGeometryMetadataLoad.usize);debug("PackageML: read geometry metadata into fragment directly."),i.primitiveCount=v(e,i.fragments),i.numGeoms=e.getEntryCounts(),e=null,i.pendingGeometryMetadataLoad.contents=null}),i.memoryOptimizedMode)}),i.memoryOptimizedMode),!this.memoryOptimizedMode&&this.pendingGeometryMetadataLoad.path){n=this.pendingGeometryMetadataLoad.path,r=this.pendingGeometryMetadataLoad.contents;this.pendingGeometryMetadataLoad={},debug("PackageML: read geometry metadata as usual."),R.prototype.parseGeometryMetadata.call(this,null,e,n,r)}},D.prototype.parseGeometryMetadata=function(t,e,n,r){var i=t.usize;if(this.fragments){var s=this;this.loadAsyncResource(e,n,r,(function(t){var e=new L(t,i);s.primitiveCount=v(e,s.fragments),s.numGeoms=e.getEntryCounts(),e=null}),s.memoryOptimizedMode)}else this.pendingGeometryMetadataLoad.path=n,this.pendingGeometryMetadataLoad.contents=r,this.pendingGeometryMetadataLoad.usize=i},D.prototype.postLoadOfFragments=function(t){this.memoryOptimizedMode?this.fragments.mesh2frag||this.calculateMesh2Frag(this.fragments):R.prototype.postLoadOfFragments.call(this,t)},D.prototype.postLoadOfObjectIds=function(t){if(this.memoryOptimizedMode){if(t.objectIds&&t.objectIds.length>0){var e=this.geompacks.length,n=this.fragments,r=0,i=new Int8Array(e);for(r=0;r<n.packIds.length;r++)i[n.packIds[r]]=15;var s=0;for(r=0;r<i.length;r++)15===i[r]&&(this.geompacks[s]=this.geompacks[r],s++);s<e&&this.geompacks.splice(s,e-s)}}else R.prototype.postLoadOfObjectIds.call(this,t)},D.prototype.postLoadComplete=function(t){if(this.memoryOptimizedMode){if(this.fragments.polygonCounts){var e=performance.now(),n=this.materials?this.materials.materials:null;n&&this.addTransparencyFlagsToMaterials(n),this.bvh=new o(this.fragments,n),this.bvh.build(t.bvhOptions);var r=performance.now();t.worker.debug("BVH build time (worker thread):"+(r-e))}t.loadDoneCB("svf"),t.loadDoneCB("done")}else R.prototype.postLoadComplete.call(this,t)};var N=n(4);function j(t,e){try{e()}catch(e){t.worker.raiseError(N.a.BAD_DATA,"Unhandled exception while loading SVF",{url:t.url,exception:e.toString(),stack:e.stack}),t.worker.postMessage(null)}}function q(t){var e=t.worker;j(t,(function(){var n=t.svf;t.loadDoneCB=function(r,i){if("svf"==r){var s,a,o=n.fragments,h=[o.transforms.buffer,o.packIds.buffer,o.entityIndexes.buffer,o.fragId2dbId.buffer,o.visibilityFlags.buffer];n.bvh?(a={nodes:n.bvh.nodes.getRawData(),primitives:n.bvh.primitives,useLeanNodes:32==n.bvh.nodes.bytes_per_node},h.push(a.nodes),h.push(a.primitives.buffer),h.push(o.boxes.buffer),h.push(o.polygonCounts.buffer),h.push(o.materials.buffer),s={svf:n,bvh:a,progress:1}):s={svf:n,progress:.8},e.postMessage(s,h)}else if("bvh"==r)a={nodes:n.bvh.nodes.getRawData(),primitives:n.bvh.primitives,useLeanNodes:32==n.bvh.nodes.bytes_per_node},e.postMessage({bvh:a,basePath:n.basePath,progress:1},[a.nodes,a.primitives.buffer]);else if("mesh"==r){var u=[];i.mesh&&u.push(i.mesh.vb.buffer),e.postMessage(i,u)}else"done"==r?e.postMessage({progress:1}):(e.raiseError(N.a.BAD_DATA,"Failure while loading SVF",{url:t.url}),e.postMessage(null))},n.loadRemainingSvf(t)}))}function H(t){var e=t.worker;e.postMessage({progress:.01});var n={responseType:"arraybuffer"};u.a.getItem(t,t.url,(function(n){e.postMessage({progress:.5}),j(t,(function(){var r,i={max_pf_files:t.max_pf_files};r=t.perfOpt&&t.perfOpt.memoryOptimizedSvfLoading?new D(new Uint8Array(n)):new R(new Uint8Array(n),i),t.svf=r,r.loadManifest(t),t.interceptManifest?e.postMessage({manifest:r.manifest}):(t.manifest=r.manifest,q(t))}))}),t.onFailureCallback,n),u.a.getItem(t,t.basePath+"0.pf",(function(){}),(function(){}),n)}function Z(t){var e=t.worker;function n(t){e.postMessage({"fetch-topology":{error:t,topology:null}})}u.a.getItem(t,t.path,(function(t){e.postMessage({"status-topology":{}});var r=null;try{var i=new c.a(t),s=t.byteLength;0<s&&(r=JSON.parse(i.getString(s))),r?e.postMessage({"fetch-topology":{error:null,topology:r}}):n("topology-no-content")}catch(t){n(t)}}),n)}function W(t){t.register("LOAD_SVF",{doOperation:H}),t.register("LOAD_SVF_CONTD",{doOperation:q}),t.register("FETCH_TOPOLOGY",{doOperation:Z})}},function(t,e,n){"use strict";n.r(e),n.d(e,"register",(function(){return j}));var r=n(7),i=n(1),s=function(t){for(var e in t.vblayout)if(0==e.indexOf("uv")&&0!=e.indexOf("uvw"))for(var n=t.vblayout[e].offset,r=t.vbstride,i=t.vb,s=t.vb.length/r,a=0,o=n;a<s;a++,o+=r){var h=i[o],u=i[o+1];if(h>2||h<0||u>2||u<0){t.vblayout[e].isPattern=!0;break}}},a=function(t){var e,n,r,i,s,a=1/0,o=1/0,h=1/0,u=-1/0,c=-1/0,l=-1/0,f=t.vbstride,d=t.vblayout.position.offset,p=t.vb,m=t.vb.length/f;for(e=0,n=d;e<m;e++,n+=f)a>(r=p[n])&&(a=r),o>(i=p[n+1])&&(o=i),h>(s=p[n+2])&&(h=s),u<r&&(u=r),c<i&&(c=i),l<s&&(l=s);t.boundingBox={min:{x:a,y:o,z:h},max:{x:u,y:c,z:l}};var y=.5*(a+u),v=.5*(o+c),g=.5*(h+l),x=t.boundingSphere={};x.center={x:y,y:v,z:g};var _=0;for(e=0,n=d;e<m;e++,n+=f){var b=(r=p[n])-y,w=(i=p[n+1])-v,k=(s=p[n+2])-g,z=b*b+w*w+k*k;z>_&&(_=z)}x.radius=Math.sqrt(_)},o=new Float32Array(3),h=1/Math.PI,u=Math.atan2;Object(i.c)()||(u=function(t,e){var n=Math.abs(e),r=Math.abs(t),i=Math.min(n,r)/Math.max(n,r),s=i*i,a=((-.0464964749*s+.15931422)*s-.327622764)*s*i+i;return r>n&&(a=1.57079637-a),e<0&&(a=3.14159274-a),t<0&&(a=-a),a});var c=function(t,e,n,r,i){var s={x:e[t*r],y:e[t*r+1],z:e[t*r+2]},a={x:s.x-e[t*i],y:s.y-e[t*i+1],z:s.z-e[t*i+2]},o=n[r].next==i?n[r].prev:n[r].next;return{pos:s,next:a,prev:o<0?{x:a.x,y:a.y,z:a.z}:{x:e[t*o]-s.x,y:e[t*o+1]-s.y,z:e[t*o+2]-s.z}}},l=function(t,e,n,r,i){if("OCTM"!=t.getString(4))return null;if(5!=t.getInt32())return null;var c=t.getString(3);t.getUint8();var l={stream:null,vertices:null,indices:null,normals:null,colors:null,uvs:[],attrs:[]};l.vertexCount=t.getInt32(),l.triangleCount=t.getInt32(),l.texMapCount=t.getInt32(),l.attribMapCount=t.getInt32(),l.flags=t.getInt32(),l.comment=t.getString(t.getInt32());var f=i;l.vbstride=3,1&l.flags&&(l.vbstride+=f?1:3),l.vbstride+=2*(l.texMapCount||0),l.vbstride+=3*(l.attribMapCount||0),l.vblayout={};var d=0;if(l.vblayout.position={offset:d,itemSize:3},d+=3,1&l.flags&&(l.vblayout.normal={offset:d,itemSize:f?2:3,bytesPerItem:f?2:4,normalize:f},d+=f?1:3),l.texMapCount)for(var p=0;p<l.texMapCount;p++){var m="uv";p&&(m+=(p+1).toString()),l.vblayout[m]={offset:d,itemSize:2},d+=2}return"RAW"==c?(function(t,e,n,r,i){var s=function(){return t.getString(t.getInt32())},a=t.getString(4);if("INDX"!=a)return null;var c=e.vertexCount,l=e.triangleCount,f=e.vbstride,d=c*f,p=d+(3*l*2+3)/4|0;if(e.sharedBufferBytes=4*p,!i){var m,y,v,g,x;if(n||(n=new ArrayBuffer(4*p),r=0),m=e.vb=new Float32Array(n,r,d),e.indices=new Uint16Array(n,r+4*d,3*l),t.getIndicesArray(m.buffer,r+4*d,3*l),"VERT"!=(a=t.getString(4)))return null;if(e.vblayout.normal&&2===e.vblayout.normal.itemSize&&(y=new Uint16Array(m.buffer,m.byteOffset,m.byteLength/2)),t.getVector3Array(m,c,e.vblayout.position.offset,f),1&e.flags){if("NORM"!=(a=t.getString(4)))return null;if(y)for(o.length<3*c&&(o=new Float32Array(3*c)),t.getVector3Array(o,c,0,3),v=0,x=e.vblayout.normal.offset;v<c;v++,x+=f){var _=.5*(u(o[3*v+1],o[3*v])*h+1),b=.5*(o[3*v+2]+1);y[2*x]=65535*_|0,y[2*x+1]=65535*b|0}else t.getVector3Array(m,c,e.vblayout.normal.offset,f)}for(g=0;g<e.texMapCount;g++){if("TEXC"!=(a=t.getString(4)))return null;var w={name:s(),file:s()};e.uvs.push(w);var k="uv";g&&(k+=(g+1).toString()),t.getVector2Array(m,c,e.vblayout[k].offset,f)}var z=f-3*(e.attribMapCount||0);for(g=0;g<e.attribMapCount;g++){if("ATTR"!=(a=t.getString(4)))return null;var A,S={name:s()};if(-1!=S.name.indexOf("Color"))A="color";else{if(-1==S.name.indexOf("UVW")){e.attrs.push(S),t.getBytes(16*c);continue}A="uvw"}e.vblayout[A]={offset:z,itemSize:3};var E=[0,0,0,0];for(v=0,x=z;v<c;v++,x+=f)t.getVector4(E,0),m[x]=E[0],m[x+1]=E[1],m[x+2]=E[2];z+=3}}}(t,l,e,n,r),r||(s(l),a(l)),l):"MG2"==c?(debug("readOpenCTM_MG2(stream, mesh, dstBuffer, startOffset, estimateSizeOnly) not supported"),r||(s(l),a(l)),l):null},f=function(t,e,n,r){if(n)return null;var i,s,o={vertices:null,indices:null,colors:null,normals:null,uvs:[],attrs:[],lineWidth:1};r?(e.version>1?(o.vertexCount=t.readU16(),i=t.readU16(),s=t.readU16(),e.version>2&&(o.lineWidth=t.readF32())):(o.vertexCount=t.readU32V(),i=t.readU32V(),s=t.readU32V()),o.isLines=!0):(o.vertexCount=t.readU16(),i=t.readU16(),o.pointSize=t.readF32(),o.isPoints=!0);var h=0!=t.stream.getUint8();o.vbstride=3,h&&(o.vbstride+=3),o.vblayout={};var u=0;o.vblayout.position={offset:u,itemSize:3},u+=3,h&&(o.vblayout.color={offset:u,itemSize:3}),o.vb=new Float32Array(o.vertexCount*o.vbstride);var l,f,d=o.vb,p=o.vbstride,m=t.stream;if(m.getVector3Array(d,o.vertexCount,o.vblayout.position.offset,p),h)for(l=0,u=o.vblayout.color.offset,f=o.vertexCount;l<f;l++,u+=p)d[u]=m.getFloat32(),d[u+1]=m.getFloat32(),d[u+2]=m.getFloat32(),m.getFloat32();var y=function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.length)};if(r){var v,g;e.version>1?(v=new Uint16Array(y(m.getBytes(2*i))),g=new Uint16Array(y(m.getBytes(2*s)))):(v=new Int32Array(y(m.getBytes(4*i))),g=new Int32Array(y(m.getBytes(4*s))));var x=g[s-1]-s+1;o.indices=new Uint16Array(2*x);for(var _=0,b=0;b+1<s;b++)for(var w=g[b];w+1<g[b+1];w++)o.indices[_++]=v[w],o.indices[_++]=v[w+1]}else o.indices=new Uint16Array(y(m.getBytes(2*i)));return 1!=o.lineWidth&&function(t,e,n,r,i){i=t.vbstride,t.vblayout.prev={offset:i,itemSize:3},i+=3,t.vblayout.next={offset:i,itemSize:3},i+=3,t.vblayout.side={offset:i,itemSize:1},t.vbstride+=7;var s,a,o,h,u,l=0,f=new Array(t.vertexCount);for(s=0;s<t.vertexCount;++s)f[s]={prev:-1,next:-1,prev_seg:-1};for(a=0;a<r;++a)o=2*a,h=t.indices[o],u=t.indices[o+1],f[h].next=u,f[h].prev>=0&&++l,f[u].prev=h,f[u].prev_seg=a,f[u].next>=0&&++l;var d=2*r,p=new Array(d),m=new Uint16Array(6*(r+l)),y=0;for(a=0;a<r;++a)o=2*a,h=t.indices[o],u=t.indices[o+1],p[o]=c(e,n,f,h,u),p[o+1]=c(e,n,f,u,h),h=o,u=o+1,m[y++]=2*h+1,m[y++]=2*u,m[y++]=2*h,m[y++]=2*u,m[y++]=2*u+1,m[y++]=2*h,f[h=t.indices[o]].prev>=0&&(u=2*f[h].prev_seg+1,h=o,m[y++]=2*u,m[y++]=2*h,m[y++]=2*u+1,m[y++]=2*h+1,m[y++]=2*h,m[y++]=2*u);t.indices=m;var v=2*d;t.vb=new Float32Array(v*t.vbstride),i=t.vblayout.position.offset;for(var g=0;g<d;++g)for(var x=0;x<2;++x)t.vb[i]=p[g].pos.x,t.vb[i+1]=p[g].pos.y,t.vb[i+2]=p[g].pos.z,i+=e,t.vb[i]=p[g].prev.x,t.vb[i+1]=p[g].prev.y,t.vb[i+2]=p[g].prev.z,i+=3,t.vb[i]=p[g].next.x,t.vb[i+1]=p[g].next.y,t.vb[i+2]=p[g].next.z,i+=3,t.vb[i]=x?-1:1,i+=1;t.vertexCount=v,t.isWideLines=!0}(o,p,d,x,u),a(o),o};function d(t,e,n){var r=t.seekToEntry(e);return r?"Autodesk.CloudPlatform.OpenCTM"==r.entryType?l(t.stream,n.dstBuffer,n.startOffset,n.estimateSizeOnly,n.packNormals):"Autodesk.CloudPlatform.Lines"==r.entryType?function(t,e,n){return f(t,e,n,!0)}(t,r,n.estimateSizeOnly):"Autodesk.CloudPlatform.Points"==r.entryType?function(t,e,n){return f(t,e,n,!1)}(t,r,n.estimateSizeOnly):null:null}var p,m,y,v,g,x,_,b,w,k=n(4),z=n(6),A=n(0);function S(t){return t.vb?t.vb.length/t.vbstride:t.attributes.position?t.attributes.position.array.length/3:0}function E(t,e,n){var r=t.attributes;p||(p=new A.a,m=new A.a,new A.a),n&&(y||(y=new THREE.Matrix3),y.getNormalMatrix(n));var i,s=t.vb||r.position.array,a=t.vb||r.normal&&r.normal.array,o=t.vb?t.vbstride:3;if(t.vblayout){if(!t.vblayout.position)return;i=t.vblayout.position.offset}else{if(!r.position)return;i=r.position.itemOffset||0}var h=0,u=t.vblayout?t.vblayout.normal:r.normal||null;u?h=u.offset||u.itemOffset||0:a=null,!u||u.array||3===u.itemSize&&4===u.bytesPerItem||(a=null);for(var c=S(t),l=i,f=h,d=0;d<c;d++,l+=o,f+=o)p.set(s[l],s[l+1],s[l+2]),n&&p.applyMatrix4(n),a&&(m.set(a[f],a[f+1],a[f+2]),n&&m.applyMatrix3(y)),e(p,a?m:null,null,d)}function M(t,e){var n,r,i,s=t.attributes;v||(v=new A.a,g=new A.a,x=new A.a,_=new A.a,b=new A.a,w=new A.a);var a,o=t.vb||s.position.array,h=t.vb||s.normal&&s.normal.array,u=t.vb?t.vbstride:3;if(t.vblayout){if(!t.vblayout.position)return;a=t.vblayout.position.offset}else{if(!s.position)return;a=s.position.itemOffset||0}var c=0,l=t.vblayout?t.vblayout.normal:s.normal||null;l?c=l.offset||l.itemOffset||0:h=null,!l||l.array||3===l.itemSize&&4===l.bytesPerItem||(h=null);var f=t.ib||t.indices||(s.index?s.index.array:null);if(f){var d=t.offsets;d&&0!==d.length||(d=[{start:0,count:f.length,index:0}]);for(var p=0,m=d.length;p<m;++p)for(var y=d[p].start,k=d[p].count,z=d[p].index,E=y,M=y+k;E<M;E+=3){var O=(n=z+f[E])*u+a,T=(r=z+f[E+1])*u+a,C=(i=z+f[E+2])*u+a;if(v.x=o[O],v.y=o[O+1],v.z=o[O+2],g.x=o[T],g.y=o[T+1],g.z=o[T+2],x.x=o[C],x.y=o[C+1],x.z=o[C+2],h){var P=n*u+c,I=r*u+c,R=i*u+c;_.x=h[P],_.y=h[P+1],_.z=h[P+2],b.x=h[I],b.y=h[I+1],b.z=h[I+2],w.x=h[R],w.y=h[R+1],w.z=h[R+2],e(v,g,x,n,r,i,_,b,w,E/3)}else e(v,g,x,n,r,i,null,null,null,E/3)}}else{var F=S(t);for(E=0;E<F;E+=3){O=(n=E)*u+a,T=(r=E+1)*u+a,C=(i=E+2)*u+a;if(v.x=o[O],v.y=o[O+1],v.z=o[O+2],g.x=o[T],g.y=o[T+1],g.z=o[T+2],x.x=o[C],x.y=o[C+1],x.z=o[C+2],h){P=n*u+c,I=r*u+c,R=i*u+c;_.x=h[P],_.y=h[P+1],_.z=h[P+2],b.x=h[I],b.y=h[I+1],b.z=h[I+2],w.x=h[R],w.y=h[R+1],w.z=h[R+2],e(v,g,x,n,r,i,_,b,w,E/3)}else e(v,g,x,n,r,i,null,null,null,E/3)}}}var O=n(10);function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var C={x:0,y:0,z:0},P=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getVertex=e,this.bbox=n,this.boxSize=this.bbox.size().length(),r||(r=1e-6),r>0?(this.precisionTolerance=r,this.scale=1/this.precisionTolerance):(this.precisionTolerance=-r*this.boxSize,this.scale=1/this.precisionTolerance),this.snapBaseX=this.bbox.min.x,this.snapBaseY=this.bbox.min.y,this.snapBaseZ=this.bbox.min.z,this.xymap={}}var e,n,r;return e=t,(n=[{key:"findOrAddPoint",value:function(t,e,n,r){for(var i,s=0|(t-this.snapBaseX)*this.scale,a=0|(e-this.snapBaseY)*this.scale,o=0|(n-this.snapBaseZ)*this.scale,h=1/0,u=s-1;u<=s+1;u++){var c=this.xymap[u];if(c)for(var l=a-1;l<=a+1;l++){var f=c[l];if(f)for(var d=o-1;d<=o+1;d++){var p=f[d];if(void 0!==p){this.getVertex(p,C);var m=(C.x-t)*(C.x-t)+(C.y-e)*(C.y-e)+(C.z-n)*(C.z-n);m<h&&(i=p,h=m)}}}}if(Math.sqrt(h)>this.precisionTolerance&&(i=void 0),void 0===i){var y=this.xymap[s];y||(y=this.xymap[s]={});var v=y[a];return v||(v=y[a]={}),v[o]=r,r}return i}}])&&T(e.prototype,n),r&&T(e,r),t}();function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var R=new A.a,F=new A.a,U=new A.a,V=new A.a,L=new A.a,B=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e.boundingBox||r,s=new O.a;i&&s.copy(i),this.geom=e,this.myVerts=function(t,e){var n=new Float32Array(3*S(t));return E(t,(function(t,r,i,s){e&&e.expandByPoint(t),n[3*s]=t.x,n[3*s+1]=t.y,n[3*s+2]=t.z})),n}(e,i?null:s);var a=new P(this.getV.bind(this),s,-1/65536);this.remap=new Array(S(e));for(var o=0,h=0;o<this.myVerts.length;o+=3,h++)this.remap[h]=a.findOrAddPoint(this.myVerts[o],this.myVerts[o+1],this.myVerts[o+2],h);n&&function(t,e){for(var n=new A.a,r=0;r<t.length;r+=3)n.x=t[r],n.y=t[r+1],n.z=t[r+2],n.applyMatrix4(e),t[r]=n.x,t[r+1]=n.y,t[r+2]=n.z}(this.myVerts,n)}var e,n,r;return e=t,(n=[{key:"getV",value:function(t,e){e.x=this.myVerts[3*t],e.y=this.myVerts[3*t+1],e.z=this.myVerts[3*t+2]}},{key:"getNormal",value:function(t,e,n,r){this.getV(t,R),this.getV(e,F),this.getV(n,U),F.sub(R),U.sub(R),F.cross(U),r.copy(F).normalize()}}])&&I(e.prototype,n),r&&I(e,r),t}();function D(t,e,n,r){if(!t.isLines&&!t.iblines){var i=new B(t,e,n),s={},a=[];for(var o in M(t,(function(t,e,n,r,i,s){u(r,i,s),u(i,s,r),u(s,r,i)})),s)for(var h in s[o])a.push(parseInt(o)),a.push(parseInt(h));a.length>1&&(t.iblines=new Uint16Array(a.length),t.iblines.set(a))}function u(t,e,n){var o=i.remap[t],h=i.remap[e],u=i.remap[n];if(o!==h&&o!==u&&h!==u){var c=!1;if(o>h){var l=o;o=h,h=l,c=!0}var f=s[o];if(f){var d=f[h];if(void 0===d)f[h]=c?-n-1:n;else{if(r)a.push(t),a.push(e);else{i.getNormal(t,e,n,V),d<0?i.getNormal(h,o,i.remap[-d-1],L):i.getNormal(o,h,i.remap[d],L);var p=V.dot(L);Math.abs(p)<.25&&(a.push(t),a.push(e))}delete f[h]}}else s[o]={},s[o][h]=n}}}function N(t){var e=t.worker;var n={skipAssetCallback:t.skipAssetCallback};z.a.getItem(t,t.url,(function(n){e.postMessage({url:t.url,workerId:t.workerId,progress:.5}),function(t,e){try{e()}catch(e){t.raiseError(k.a.BAD_DATA,"Unhandled exception while reading pack file",{url:t.url,exception:e.toString(),stack:e.stack})}}(t,(function(){var i,s,a=new r.a(n),o=!1,h={estimateSizeOnly:!0,packNormals:void 0===t.packNormals||t.packNormals},u=a.getEntryCounts(),c=t.inMemory||[],l=0,f=function(t){var e=c[t>>5];return!(e&&e&1<<(31&t))};for(i=0;i<u;i++)f(i)&&(l+=(s=d(a,i,h))&&s.sharedBufferBytes||0);var p=l?new ArrayBuffer(l):null,m=0,y={packId:t.packId,workerId:t.workerId,progress:1,meshes:[],sharedBuffer:p},v=p?[p]:[];for(h={dstBuffer:p,startOffset:0,estimateSizeOnly:!1,packNormals:void 0===t.packNormals||t.packNormals},i=0;i<u;i++)h.startOffset=m,f(i)&&((s=d(a,i,h))?(m+=s.sharedBufferBytes||0,y.meshes[i]=s,t.createWireframe&&(D(s),s.iblines&&v.push(s.iblines.buffer))):(o||(e.raiseError(k.a.BAD_DATA,"Unable to load geometry",{url:t.url}),o=!0),e.postMessage(y)));e.postMessage(y,v)}))}),t.onFailureCallback,n)}function j(t){t.register("LOAD_GEOMETRY",{doOperation:N})}},function(t,e,n){"use strict";n.r(e);var r=n(6),i=n(8);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._workers={}}var e,n,a;return e=t,(n=[{key:"dispatch",value:function(t){if(t.hasOwnProperty("operation")){t.endpoint&&i.a.setEndpointAndApi(t.endpoint,t.api);var e=this._workers[t.operation];if(e){if(t.basePath="",t.url){var n=t.url.lastIndexOf("/");-1!=n&&(t.basePath=t.url.substr(0,n+1))}t.raiseError=function(){t.worker.raiseError.apply(t.worker,arguments)},t.onFailureCallback=r.a.defaultFailureCallback.bind(t),e.doOperation(t)}}}},{key:"register",value:function(t,e){this._workers[t]=e}},{key:"unregister",value:function(t){delete this._workers[t]}}])&&s(e.prototype,n),a&&s(e,a),t}());n(41).register(a),n(42).register(a),n(44).register(a),self.addEventListener("message",(function(t){var e=t.data;e.worker=self,a.dispatch(e)}),!1),self.raiseError=function(t,e,n){self.postMessage({error:{code:t,msg:e,args:n}})},self.debug=function(t){self.postMessage({debug:1,message:t})}},function(t,e,n){"use strict";n.r(e),n.d(e,"register",(function(){return p}));var r=n(2),i=[[1,5,4,7,3,2,6],[0,3,2,1,5,4,6],[0,3,2,6,5,4,6],[0,4,7,3,2,1,6],[0,3,2,1,-1,-1,4],[0,3,2,6,5,1,6],[0,4,7,6,2,1,6],[0,3,7,6,2,1,6],[0,3,7,6,5,1,6],[0,1,5,4,7,3,6],[0,1,5,4,-1,-1,4],[0,1,2,6,5,4,6],[0,4,7,3,-1,-1,4],[-1,-1,-1,-1,-1,-1,0],[1,2,6,5,-1,-1,4],[0,4,7,6,2,3,6],[2,3,7,6,-1,-1,4],[1,2,3,7,6,5,6],[0,1,5,6,7,3,6],[0,1,5,6,7,4,6],[0,1,2,6,7,4,6],[0,4,5,6,7,3,6],[4,5,6,7,-1,-1,4],[1,2,6,7,4,5,6],[0,4,5,6,2,3,6],[2,3,7,4,5,6,6],[1,2,3,7,4,5,6]];function s(){this.frustum=new r.Frustum,this.viewProj=new r.Matrix4,this.viewDir=[0,0,1],this.ar=1,this.viewport=new r.Vector3(1,1,1),this.areaConv=1,this.areaCullThreshold=1,this.eye=new r.Vector3,this.perspective=!1}var a,o;function h(t,e,n){return n.x=1&e?t.max.x:t.min.x,n.y=2&e?t.max.y:t.min.y,n.z=4&e?t.max.z:t.min.z,n}s.OUTSIDE=0,s.INTERSECTS=1,s.CONTAINS=2,s.CONTAINMENT_UNKNOWN=-1,s.prototype.reset=function(t,e){this.viewProj.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this.perspective=t.isPerspective,this.frustum.setFromMatrix(this.viewProj);var n=t.matrixWorldInverse.elements;this.ar=t.aspect,this.viewDir[0]=-n[2],this.viewDir[1]=-n[6],this.viewDir[2]=-n[10],this.eye.x=t.position.x,this.eye.y=t.position.y,this.eye.z=t.position.z,this.areaConv=t.clientWidth*t.clientHeight/4,this.cutPlanes=e},s.prototype.projectedArea=function(){var t=[new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3],e=new r.Box2;function n(t,e){var n=t.x,r=t.y,i=t.z,s=e.elements,a=s[3]*n+s[7]*r+s[11]*i+s[15];a<0&&(a=-a);var o=1/a;t.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,t.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o}return function(r){if(r.empty())return 0;var i=this.viewProj;t[0].set(r.min.x,r.min.y,r.min.z),t[1].set(r.min.x,r.min.y,r.max.z),t[2].set(r.min.x,r.max.y,r.min.z),t[3].set(r.min.x,r.max.y,r.max.z),t[4].set(r.max.x,r.min.y,r.min.z),t[5].set(r.max.x,r.min.y,r.max.z),t[6].set(r.max.x,r.max.y,r.min.z),t[7].set(r.max.x,r.max.y,r.max.z);for(var s=0;s<8;s++)n(t[s],i);return e.makeEmpty(),e.setFromPoints(t),e.min.x<-1&&(e.min.x=-1),e.min.x>1&&(e.min.x=1),e.min.y<-1&&(e.min.y=-1),e.min.y>1&&(e.min.y=1),e.max.x>1&&(e.max.x=1),e.max.x<-1&&(e.max.x=-1),e.max.y>1&&(e.max.y=1),e.max.y<-1&&(e.max.y=-1),(e.max.x-e.min.x)*(e.max.y-e.min.y)}}(),s.prototype.projectedBoxArea=function(){for(var t,e=[],n=[],s=0;s<10;s++)e.push(new r.Vector3),n.push(new r.Vector3);function a(t,e){var n=t.x,r=t.y,i=t.z,s=e.elements,a=s[3]*n+s[7]*r+s[11]*i+s[15];a<0&&(a=-a);var o=1/a;t.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,t.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o}return function(r,s){if(r.empty())return 0;var o,h=this.viewProj;if(this.perspective?(o=this.eye.x>=r.min.x?this.eye.x>r.max.x?2:1:0,this.eye.y>=r.min.y&&(o+=this.eye.y>r.max.y?6:3),this.eye.z>=r.min.z&&(o+=this.eye.z>r.max.z?18:9)):(o=this.viewDir[0]<=0?this.viewDir[0]<0?2:1:0,this.viewDir[1]<=0&&(o+=this.viewDir[1]<0?6:3),this.viewDir[2]<=0&&(o+=this.viewDir[2]<0?18:9)),13===o)return 4;var u,c=i[o][6];for(u=0;u<c;u++){var l=i[o][u];e[u].set((l+1)%4<2?r.min.x:r.max.x,l%4<2?r.min.y:r.max.y,l<4?r.min.z:r.max.z),a(e[u],h)}var f=0;if(s)for(f=(e[c-1].x-e[0].x)*(e[c-1].y+e[0].y),u=0;u<c-1;u++)f+=(e[u].x-e[u+1].x)*(e[u].y+e[u+1].y);else{var d=function(e,r){var i,s,a,o,h,u,c,l,f=e,d=n,p=function(t){switch(c){case 0:return t.x>=-1;case 1:return t.x<=1;case 2:return t.y>=-1;case 3:return t.y<=1}},m=function(t){d[l].x=t.x,d[l++].y=t.y},y=function(){var t,e;switch(c){case 0:t=-1,e=s.y+(a.y-s.y)*(t-s.x)/(a.x-s.x);break;case 1:t=1,e=s.y+(a.y-s.y)*(t-s.x)/(a.x-s.x);break;case 2:e=-1,t=s.x+(a.x-s.x)*(e-s.y)/(a.y-s.y);break;case 3:e=1,t=s.x+(a.x-s.x)*(e-s.y)/(a.y-s.y)}d[l].x=t,d[l++].y=e};for(c=0;c<4&&r>2;c++){for(l=0,o=p(s=f[r-1]),u=0;u<r;u++)h=p(a=f[u]),o?h?m(a):y():h&&(y(),m(a)),s=a,o=h;r=l,i=f,f=d,d=i}return t=r,f}(e,c);if(t>=3)for(f=(d[t-1].x-d[0].x)*(d[t-1].y+d[0].y),u=0;u<t-1;u++)f+=(d[u].x-d[u+1].x)*(d[u].y+d[u+1].y)}return Math.abs(.5*f)}}(),s.prototype.estimateDepth=function(t){var e=this.viewProj.elements,n=(t.min.x+t.max.x)/2,r=(t.min.y+t.max.y)/2,i=(t.min.z+t.max.z)/2,s=1/(e[3]*n+e[7]*r+e[11]*i+e[15]);return(e[2]*n+e[6]*r+e[10]*i+e[14])*s},s.prototype.intersectsBox=(a=new r.Vector3,o=new r.Vector3,function(t){for(var e=this.frustum.planes,n=0,r=0;r<6;r++){var i=e[r];a.x=i.normal.x>0?t.min.x:t.max.x,o.x=i.normal.x>0?t.max.x:t.min.x,a.y=i.normal.y>0?t.min.y:t.max.y,o.y=i.normal.y>0?t.max.y:t.min.y,a.z=i.normal.z>0?t.min.z:t.max.z,o.z=i.normal.z>0?t.max.z:t.min.z;var h=i.distanceToPoint(a),u=i.distanceToPoint(o);if(h<0&&u<0)return s.OUTSIDE;h>0&&u>0&&n++}return 6==n?s.CONTAINS:s.INTERSECTS});var u,c=function(t,e){u||(u=new r.Vector3);for(var n=0;n<8;n++){var i=h(t,n,u);if(a=e,!((s=i).x*a.x+s.y*a.y+s.z*a.z+a.w>1e-6))return!1}var s,a;return!0};s.prototype.boxOutsideCutPlanes=function(t){if(!this.cutPlanes)return!1;for(var e=0;e<this.cutPlanes.length;e++){var n=this.cutPlanes[e];if(c(t,n))return!0}return!1};function l(){var t,e,n,i,a,o,h,u,c,l=new r.Box3,f=1,d=new s,p=new r.Frustum,m=!0,y=0;function v(){return function(){var r,i;y=n;var a=new Int32Array(n),p=new Int32Array(e);for(r=0;r<n;r++)a[r]=r;c=0;var m,v,g,x,_=f/d.areaConv;for(r=0;r<n;r++)o[r]=0;for(r=0;r<e;r++){u[r]=0,v=l,g=void 0,x=void 0,g=6*r,x=t.boxes,v.min.x=x[g],v.min.y=x[g+1],v.min.z=x[g+2],v.max.x=x[g+3],v.max.y=x[g+4],v.max.z=x[g+5];var b=d.intersectsBox(l);b!==s.OUTSIDE&&(m=d.projectedBoxArea(l,b===s.CONTAINS))>_&&(o[t.packIds[r]]+=m,p[c++]=r)}for(Array.prototype.sort.call(a,(function(t,e){return o[e]-o[t]})),r=0;r<n&&o[a[r]]>0;r++)h[a[r]]=r;for(y=r,i=p.subarray(0,c),r=0;r<c;r++)u[i[r]]=h[t.packIds[i[r]]];return Array.prototype.sort.call(i,(function(t,e){return u[t]-u[e]})),{fragOrder:p,packOrder:a,pfVisible:y}}()}this.setFragments=function(r){t=r,e=r.packIds.length,i=1/0,a=-1/0;for(var s=0;s<e;s++){var l=t.packIds[s];i=Math.min(i,l),a=Math.max(a,l)}if((n=a+1)<0)return{error:"Empty fragment list"};o=new Float32Array(n),h=new Int32Array(n),u=new Float32Array(e),c=e,m=!0},this.calculateStep=function(){return m?(m=!1,v()):{}},this.setFrustum=function(t,e){return d.reset(t),m=m||!function(t,e){var n;for(n=0;n<6;n++){var r=t.planes[n],i=e.planes[n];if(r.constant!==i.constant)return!1;if(!r.normal.equals(i.normal))return!1}return!0}(p,d.frustum),p.copy(d.frustum),"number"==typeof e&&f!=e&&(f=e,m=!0),!0}}function f(t,e){t.lmv_timer=0;var n=t.lmv_calculator.calculateStep();if(n){var r=n.fragOrder?n.packOrder?[n.fragOrder.buffer,n.packOrder.buffer]:[n.fragOrder.buffer]:n.packOrder?[n.packOrder.buffer]:void 0;n.id=e,t.postMessage(n,r)}else t.lmv_timer=setTimeout(f,1,t,e)}function d(t){var e=t.worker,n=e.lmv_calculator;n||(e.lmv_calculator=n=new l),function(t){t.lmv_timer&&(clearTimeout(t.lmv_timer),t.lmv_timer=0)}(e),t.fragments&&function(t,e){e&&t.postMessage(e)}(e,n.setFragments(t.fragments)),t.camera&&(n.setFrustum(t.camera,t.pixelCullingThreshold),e.lmv_timer=setTimeout(f,1,e,t.id))}function p(t){t.register("CALCULATE_LOAD_ORDER",{doOperation:d})}}]);\n//# sourceMappingURL=4dadbce4c3a57bbc1739.worker.js.map',n.p+"4dadbce4c3a57bbc1739.worker.js")}},472:function(t,e,n){"use strict";var r={};(0,n(22).assign)(r,n(473),n(476),n(90)),t.exports=r},473:function(t,e,n){"use strict";var r=n(474),i=n(22),s=n(88),a=n(66),o=n(89),h=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(a[n]);this._dict_set=!0}}function l(t,e){var n=new u(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(t,e){var n,a,o=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=s.string2buf(t):"[object ArrayBuffer]"===h.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(u),o.next_out=0,o.avail_out=u),1!==(n=r.deflate(o,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),o.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=u,e.deflate=l,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,l(t,e)}},474:function(t,e,n){"use strict";var r,i=n(22),s=n(475),a=n(86),o=n(87),h=n(66);function u(t,e){return t.msg=h[e],e}function l(t){return(t<<1)-(t>4?9:0)}function c(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function d(t,e){s._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function y(t,e){var n,r,i=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,u=t.window,l=t.w_mask,c=t.prev,f=t.strstart+258,d=u[s+a-1],p=u[s+a];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(n=e)+a]===p&&u[n+a-1]===d&&u[n]===u[s]&&u[++n]===u[s+1]){s+=2,n++;do{}while(u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&s<f);if(r=258-(f-s),s=f-258,r>a){if(t.match_start=e,a=r,r>=o)break;d=u[s+a-1],p=u[s+a]}}}while((e=c[e&l])>h&&0!=--i);return a<=t.lookahead?a:t.lookahead}function g(t){var e,n,r,s,h,u,l,c,f,d,p=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);s+=p}if(0===t.strm.avail_in)break;if(u=t.strm,l=t.window,c=t.strstart+t.lookahead,f=s,d=void 0,(d=u.avail_in)>f&&(d=f),n=0===d?0:(u.avail_in-=d,i.arraySet(l,u.input,u.next_in,d,c),1===u.state.wrap?u.adler=a(u.adler,l,d,c):2===u.state.wrap&&(u.adler=o(u.adler,l,d,c)),u.next_in+=d,u.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=3)for(h=t.strstart-t.insert,t.ins_h=t.window[h],t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+3-1])&t.hash_mask,t.prev[h&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=h,h++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function v(t,e){for(var n,r;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=y(t,n)),t.match_length>=3)if(r=s._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function _(t,e){for(var n,r,i;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=y(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=s._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function b(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),c(this.dyn_ltree),c(this.dyn_dtree),c(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),c(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),c(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,s._tr_init(e),0):u(t,-2)}function k(t){var e,n=w(t);return 0===n&&((e=t.state).window_size=2*e.w_size,c(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function z(t,e,n,r,s,a){if(!t)return-2;var o=1;if(-1===e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>9||8!==n||r<8||r>15||e<0||e>9||a<0||a>4)return u(t,-2);8===r&&(r=9);var h=new x;return t.state=h,h.strm=t,h.wrap=o,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=s+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new i.Buf8(2*h.w_size),h.head=new i.Buf16(h.hash_size),h.prev=new i.Buf16(h.w_size),h.lit_bufsize=1<<s+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new i.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=a,h.method=n,k(t)}r=[new b(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(g(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,d(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(d(t,!1),t.strm.avail_out),1)})),new b(4,4,8,4,v),new b(4,5,16,8,v),new b(4,6,32,32,v),new b(4,4,16,16,_),new b(8,16,32,32,_),new b(8,16,128,128,_),new b(8,32,128,256,_),new b(32,128,258,1024,_),new b(32,258,258,4096,_)],e.deflateInit=function(t,e){return z(t,e,8,15,8,0)},e.deflateInit2=z,e.deflateReset=k,e.deflateResetKeep=w,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,i,a,h;if(!t||!t.state||e>5||e<0)return t?u(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return u(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=o(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var y=8+(i.w_bits-8<<4)<<8;y|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(y|=32),y+=31-y%31,i.status=113,m(i,y),0!==i.strstart&&(m(i,t.adler>>>16),m(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(t),i.pending+2<=i.pending_buf_size&&(p(i,255&t.adler),p(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return u(t,-5);if(666===i.status&&0!==t.avail_in)return u(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var v=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(g(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,o=t.window;;){if(t.lookahead<=258){if(g(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[i=t.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=t.strstart+258;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);t.match_length=258-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=s._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==v&&4!==v||(i.status=666),1===v||3===v)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===e?s._tr_align(i):5!==e&&(s._tr_stored_block(i,0,0,!1),3===e&&(c(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&t.adler),p(i,t.adler>>8&255),p(i,t.adler>>16&255),p(i,t.adler>>24&255),p(i,255&t.total_in),p(i,t.total_in>>8&255),p(i,t.total_in>>16&255),p(i,t.total_in>>24&255)):(m(i,t.adler>>>16),m(i,65535&t.adler)),f(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?u(t,-2):(t.state=null,113===e?u(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,r,s,o,h,u,l,f,d=e.length;if(!t||!t.state)return-2;if(2===(o=(n=t.state).wrap)||1===o&&42!==n.status||n.lookahead)return-2;for(1===o&&(t.adler=a(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===o&&(c(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),h=t.avail_in,u=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,g(n);n.lookahead>=3;){r=n.strstart,s=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--s);n.strstart=r,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=h,n.wrap=o,0},e.deflateInfo="pako deflate (from Nodeca project)"},475:function(t,e,n){"use strict";var r=n(22);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var l=new Array(60);i(l);var c=new Array(512);i(c);var f=new Array(256);i(f);var d=new Array(29);i(d);var p,m,y,g=new Array(30);function v(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function _(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function b(t){return t<256?c[t]:c[256+(t>>>7)]}function x(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function w(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function k(t,e,n){w(t,n[2*e],n[2*e+1])}function z(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function E(t,e,n){var r,i,s=new Array(16),a=0;for(r=1;r<=15;r++)s[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var o=t[2*i+1];0!==o&&(t[2*i]=z(s[o]++,o))}}function S(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function A(t){t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function M(t,e,n,r){var i=2*e,s=2*n;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]}function O(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&M(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!M(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function P(t,e,n){var r,i,o,h,u=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],i=t.pending_buf[t.l_buf+u],u++,0===r?k(t,i,e):(k(t,(o=f[i])+256+1,e),0!==(h=s[o])&&w(t,i-=d[o],h),k(t,o=b(--r),n),0!==(h=a[o])&&w(t,r-=g[o],h))}while(u<t.last_lit);k(t,256,e)}function I(t,e){var n,r,i,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<h;n++)0!==s[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):s[2*n+1]=0;for(;t.heap_len<2;)s[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,o&&(t.static_len-=a[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)O(t,s,n);i=h;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],O(t,s,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,s[2*i]=s[2*n]+s[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,s[2*n+1]=s[2*r+1]=i,t.heap[1]=i++,O(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,s,a,o,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,c=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(s=0;s<=15;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(s=h[2*h[2*(r=t.heap[n])+1]+1]+1)>p&&(s=p,m++),h[2*r+1]=s,r>u||(t.bl_count[s]++,a=0,r>=d&&(a=f[r-d]),o=h[2*r],t.opt_len+=o*(s+a),c&&(t.static_len+=o*(l[2*r+1]+a)));if(0!==m){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(s=p;0!==s;s--)for(r=t.bl_count[s];0!==r;)(i=t.heap[--n])>u||(h[2*i+1]!==s&&(t.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),r--)}}(t,e),E(s,u,t.bl_count)}function R(t,e,n){var r,i,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++o<h&&i===a||(o<u?t.bl_tree[2*i]+=o:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=i,0===a?(h=138,u=3):i===a?(h=6,u=3):(h=7,u=4))}function T(t,e,n){var r,i,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++o<h&&i===a)){if(o<u)do{k(t,i,t.bl_tree)}while(0!=--o);else 0!==i?(i!==s&&(k(t,i,t.bl_tree),o--),k(t,16,t.bl_tree),w(t,o-3,2)):o<=10?(k(t,17,t.bl_tree),w(t,o-3,3)):(k(t,18,t.bl_tree),w(t,o-11,7));o=0,s=i,0===a?(h=138,u=3):i===a?(h=6,u=3):(h=7,u=4)}}i(g);var C=!1;function L(t,e,n,i){w(t,0+(i?1:0),3),function(t,e,n,i){A(t),i&&(x(t,n),x(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){C||(!function(){var t,e,n,r,i,h=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<s[r];t++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,t=0;t<1<<a[r];t++)c[i++]=r;for(i>>=7;r<30;r++)for(g[r]=i<<7,t=0;t<1<<a[r]-7;t++)c[256+i++]=r;for(e=0;e<=15;e++)h[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,h[8]++;for(;t<=255;)u[2*t+1]=9,t++,h[9]++;for(;t<=279;)u[2*t+1]=7,t++,h[7]++;for(;t<=287;)u[2*t+1]=8,t++,h[8]++;for(E(u,287,h),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=z(t,5);p=new v(u,s,257,286,15),m=new v(l,a,0,30,15),y=new v(new Array(0),o,0,19,7)}(),C=!0),t.l_desc=new _(t.dyn_ltree,p),t.d_desc=new _(t.dyn_dtree,m),t.bl_desc=new _(t.bl_tree,y),t.bi_buf=0,t.bi_valid=0,S(t)},e._tr_stored_block=L,e._tr_flush_block=function(t,e,n,r){var i,s,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),a=function(t){var e;for(R(t,t.dyn_ltree,t.l_desc.max_code),R(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*h[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?L(t,e,n,r):4===t.strategy||s===i?(w(t,2+(r?1:0),3),P(t,u,l)):(w(t,4+(r?1:0),3),function(t,e,n,r){var i;for(w(t,e-257,5),w(t,n-1,5),w(t,r-4,4),i=0;i<r;i++)w(t,t.bl_tree[2*h[i]+1],3);T(t,t.dyn_ltree,e-1),T(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),P(t,t.dyn_ltree,t.dyn_dtree)),S(t),r&&A(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*b(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){w(t,2,3),k(t,256,u),function(t){16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},476:function(t,e,n){"use strict";var r=n(477),i=n(22),s=n(88),a=n(90),o=n(66),h=n(89),u=n(480),l=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(o[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=s.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(o[n])}function f(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}c.prototype.push=function(t,e){var n,o,h,u,c,f=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(h=s.utf8border(f.output,f.next_out),u=f.next_out-h,c=s.buf2string(f.output,h),f.next_out=u,f.avail_out=d-u,u&&i.arraySet(f.output,f.output,h,u,0),this.onData(c)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=c,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},477:function(t,e,n){"use strict";var r=n(22),i=n(86),s=n(87),a=n(478),o=n(479);function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function c(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,l(t)):-2}function f(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,c(t))):-2}function d(t,e){var n,r;return t?(r=new u,t.state=r,r.window=null,0!==(n=f(t,e))&&(t.state=null),n):-2}var p,m,y=!0;function g(t){if(y){var e;for(p=new r.Buf32(512),m=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,m,0,t.work,{bits:5}),y=!1}t.lencode=p,t.lenbits=9,t.distcode=m,t.distbits=5}function v(t,e,n,i){var s,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((s=a.wsize-a.wnext)>i&&(s=i),r.arraySet(a.window,e,n-i,s,a.wnext),(i-=s)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}e.inflateReset=c,e.inflateReset2=f,e.inflateResetKeep=l,e.inflateInit=function(t){return d(t,15)},e.inflateInit2=d,e.inflate=function(t,e){var n,u,l,c,f,d,p,m,y,_,b,x,w,k,z,E,S,A,M,O,P,I,R,T,C=0,L=new r.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,l=t.output,p=t.avail_out,c=t.next_in,u=t.input,d=t.avail_in,m=n.hold,y=n.bits,_=d,b=p,I=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if(2&n.wrap&&35615===m){n.check=0,L[0]=255&m,L[1]=m>>>8&255,n.check=s(n.check,L,2,0),m=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(y-=4,P=8+(15&(m>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,t.adler=n.check=1,n.mode=512&m?10:12,m=0,y=0;break;case 2:for(;y<16;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=s(n.check,L,2,0)),m=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}n.head&&(n.head.time=m),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,L[2]=m>>>16&255,L[3]=m>>>24&255,n.check=s(n.check,L,4,0)),m=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=s(n.check,L,2,0)),m=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=s(n.check,L,2,0)),m=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>d&&(x=d),x&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,c,x,P)),512&n.flags&&(n.check=s(n.check,u,x,c)),d-=x,c+=x,n.length-=x),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break t;x=0;do{P=u[c+x++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P))}while(P&&x<d);if(512&n.flags&&(n.check=s(n.check,u,x,c)),d-=x,c+=x,P)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break t;x=0;do{P=u[c+x++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P))}while(P&&x<d);if(512&n.flags&&(n.check=s(n.check,u,x,c)),d-=x,c+=x,P)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}m=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}t.adler=n.check=h(m),m=0,y=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=p,t.next_in=c,t.avail_in=d,n.hold=m,n.bits=y,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}switch(n.last=1&m,y-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(g(n),n.mode=20,6===e){m>>>=2,y-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,y-=2;break;case 14:for(m>>>=7&y,y-=7&y;y<32;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,y=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(x=n.length){if(x>d&&(x=d),x>p&&(x=p),0===x)break t;r.arraySet(l,u,c,x,f),d-=x,c+=x,p-=x,f+=x,n.length-=x;break}n.mode=12;break;case 17:for(;y<14;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if(n.nlen=257+(31&m),m>>>=5,y-=5,n.ndist=1+(31&m),m>>>=5,y-=5,n.ncode=4+(15&m),m>>>=4,y-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}n.lens[F[n.have++]]=7&m,m>>>=3,y-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},I=o(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,I){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(C=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,S=65535&C,!((z=C>>>24)<=y);){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if(S<16)m>>>=z,y-=z,n.lens[n.have++]=S;else{if(16===S){for(T=z+2;y<T;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if(m>>>=z,y-=z,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],x=3+(3&m),m>>>=2,y-=2}else if(17===S){for(T=z+3;y<T;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}y-=z,P=0,x=3+(7&(m>>>=z)),m>>>=3,y-=3}else{for(T=z+7;y<T;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}y-=z,P=0,x=11+(127&(m>>>=z)),m>>>=7,y-=7}if(n.have+x>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},I=o(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,I){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},I=o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,I){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(d>=6&&p>=258){t.next_out=f,t.avail_out=p,t.next_in=c,t.avail_in=d,n.hold=m,n.bits=y,a(t,b),f=t.next_out,l=t.output,p=t.avail_out,c=t.next_in,u=t.input,d=t.avail_in,m=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;E=(C=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,S=65535&C,!((z=C>>>24)<=y);){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if(E&&0==(240&E)){for(A=z,M=E,O=S;E=(C=n.lencode[O+((m&(1<<A+M)-1)>>A)])>>>16&255,S=65535&C,!(A+(z=C>>>24)<=y);){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}m>>>=A,y-=A,n.back+=A}if(m>>>=z,y-=z,n.back+=z,n.length=S,0===E){n.mode=26;break}if(32&E){n.back=-1,n.mode=12;break}if(64&E){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(T=n.extra;y<T;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(C=n.distcode[m&(1<<n.distbits)-1])>>>16&255,S=65535&C,!((z=C>>>24)<=y);){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if(0==(240&E)){for(A=z,M=E,O=S;E=(C=n.distcode[O+((m&(1<<A+M)-1)>>A)])>>>16&255,S=65535&C,!(A+(z=C>>>24)<=y);){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}m>>>=A,y-=A,n.back+=A}if(m>>>=z,y-=z,n.back+=z,64&E){t.msg="invalid distance code",n.mode=30;break}n.offset=S,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(T=n.extra;y<T;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break t;if(x=b-p,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}x>n.wnext?(x-=n.wnext,w=n.wsize-x):w=n.wnext-x,x>n.length&&(x=n.length),k=n.window}else k=l,w=f-n.offset,x=n.length;x>p&&(x=p),p-=x,n.length-=x;do{l[f++]=k[w++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===p)break t;l[f++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===d)break t;d--,m|=u[c++]<<y,y+=8}if(b-=p,t.total_out+=b,n.total+=b,b&&(t.adler=n.check=n.flags?s(n.check,l,b,f-b):i(n.check,l,b,f-b)),b=p,(n.flags?m:h(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}m=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===d)break t;d--,m+=u[c++]<<y,y+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}m=0,y=0}n.mode=29;case 29:I=1;break t;case 30:I=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=f,t.avail_out=p,t.next_in=c,t.avail_in=d,n.hold=m,n.bits=y,(n.wsize||b!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&v(t,t.output,t.next_out,b-t.avail_out)?(n.mode=31,-4):(_-=t.avail_in,b-=t.avail_out,t.total_in+=_,t.total_out+=b,n.total+=b,n.wrap&&b&&(t.adler=n.check=n.flags?s(n.check,l,b,t.next_out-b):i(n.check,l,b,t.next_out-b)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===_&&0===b||4===e)&&0===I&&(I=-5),I)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,e,r,0)!==n.check?-3:v(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},478:function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,s,a,o,h,u,l,c,f,d,p,m,y,g,v,_,b,x,w,k,z,E,S;n=t.state,r=t.next_in,E=t.input,i=r+(t.avail_in-5),s=t.next_out,S=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),h=n.dmax,u=n.wsize,l=n.whave,c=n.wnext,f=n.window,d=n.hold,p=n.bits,m=n.lencode,y=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),_=m[d&g];e:for(;;){if(d>>>=b=_>>>24,p-=b,0===(b=_>>>16&255))S[s++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=m[(65535&_)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&_,(b&=15)&&(p<b&&(d+=E[r++]<<p,p+=8),x+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),_=y[d&v];n:for(;;){if(d>>>=b=_>>>24,p-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=y[(65535&_)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&_,p<(b&=15)&&(d+=E[r++]<<p,(p+=8)<b&&(d+=E[r++]<<p,p+=8)),(w+=d&(1<<b)-1)>h){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=b,p-=b,w>(b=s-a)){if((b=w-b)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,z=f,0===c){if(k+=u-b,b<x){x-=b;do{S[s++]=f[k++]}while(--b);k=s-w,z=S}}else if(c<b){if(k+=u+c-b,(b-=c)<x){x-=b;do{S[s++]=f[k++]}while(--b);if(k=0,c<x){x-=b=c;do{S[s++]=f[k++]}while(--b);k=s-w,z=S}}}else if(k+=c-b,b<x){x-=b;do{S[s++]=f[k++]}while(--b);k=s-w,z=S}for(;x>2;)S[s++]=z[k++],S[s++]=z[k++],S[s++]=z[k++],x-=3;x&&(S[s++]=z[k++],x>1&&(S[s++]=z[k++]))}else{k=s-w;do{S[s++]=S[k++],S[s++]=S[k++],S[s++]=S[k++],x-=3}while(x>2);x&&(S[s++]=S[k++],x>1&&(S[s++]=S[k++]))}break}}break}}while(r<i&&s<o);r-=x=p>>3,d&=(1<<(p-=x<<3))-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=s<o?o-s+257:257-(s-o),n.hold=d,n.bits=p}},479:function(t,e,n){"use strict";var r=n(22),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,h,u,l,c,f){var d,p,m,y,g,v,_,b,x,w=f.bits,k=0,z=0,E=0,S=0,A=0,M=0,O=0,P=0,I=0,R=0,T=null,C=0,L=new r.Buf16(16),F=new r.Buf16(16),D=null,U=0;for(k=0;k<=15;k++)L[k]=0;for(z=0;z<h;z++)L[e[n+z]]++;for(A=w,S=15;S>=1&&0===L[S];S--);if(A>S&&(A=S),0===S)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(E=1;E<S&&0===L[E];E++);for(A<E&&(A=E),P=1,k=1;k<=15;k++)if(P<<=1,(P-=L[k])<0)return-1;if(P>0&&(0===t||1!==S))return-1;for(F[1]=0,k=1;k<15;k++)F[k+1]=F[k]+L[k];for(z=0;z<h;z++)0!==e[n+z]&&(c[F[e[n+z]]++]=z);if(0===t?(T=D=c,v=19):1===t?(T=i,C-=257,D=s,U-=257,v=256):(T=a,D=o,v=-1),R=0,z=0,k=E,g=l,M=A,O=0,m=-1,y=(I=1<<A)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){_=k-O,c[z]<v?(b=0,x=c[z]):c[z]>v?(b=D[U+c[z]],x=T[C+c[z]]):(b=96,x=0),d=1<<k-O,E=p=1<<M;do{u[g+(R>>O)+(p-=d)]=_<<24|b<<16|x|0}while(0!==p);for(d=1<<k-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,z++,0==--L[k]){if(k===S)break;k=e[n+c[z]]}if(k>A&&(R&y)!==m){for(0===O&&(O=A),g+=E,P=1<<(M=k-O);M+O<S&&!((P-=L[M+O])<=0);)M++,P<<=1;if(I+=1<<M,1===t&&I>852||2===t&&I>592)return 1;u[m=R&y]=A<<24|M<<16|g-l|0}}return 0!==R&&(u[g+R]=k-O<<24|64<<16|0),f.bits=A,0}},480:function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},481:function(t,e,n){var r=n(482);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,i);r.locals&&(t.exports=r.locals)},482:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".memory-limited-progressbar-loading{height:4px;background:linear-gradient(to right, #337ab7, #83aff7) !important;width:240px;border-radius:2px}\n",""])},5:function(t,e,n){var r,i,s={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),o=function(t,e){return e?e.querySelector(t):document.querySelector(t)},h=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=o.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,l=0,c=[],f=n(6);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=s[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(_(r.parts[a],e))}else{var o=[];for(a=0;a<r.parts.length;a++)o.push(_(r.parts[a],e));s[r.id]={id:r.id,refs:1,parts:o}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var s=t[i],a=e.base?s[0]+e.base:s[0],o={css:s[1],media:s[2],sourceMap:s[3]};r[a]?r[a].parts.push(o):n.push(r[a]={id:a,parts:[o]})}return n}function m(t,e){var n=h(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=h(t.insertAt.before,n);n.insertBefore(e,i)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return v(e,t.attrs),m(t,e),e}function v(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function _(t,e){var n,r,i,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var a=l++;n=u||(u=g(e)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),m(t,e),e}(e),r=z.bind(null,n,e),i=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=k.bind(null,n),i=function(){y(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(o=s[a.id]).refs--,r.push(o)}t&&d(p(t,e),e);for(i=0;i<r.length;i++){var o;if(0===(o=r[i]).refs){for(var h=0;h<o.parts.length;h++)o.parts[h]();delete s[o.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var s=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function k(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function z(t,e,n){var r=n.css,i=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||s)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}},6:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,s=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:r+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},64:function(t,e,n){var r=n(471);function i(){var t=new r;return t.doOperation=t.postMessage,t}t.exports={createWorkerML:i,initWorkerScriptML:function(t){t()},createWorkerWithInterceptML:function(){var t=i();t.checkEvent=function(t){return!(!t.data||!t.data.assetRequest)};var e=[];return t.addEventListenerWithIntercept=function(n){var r=function(e){t.checkEvent(e)||n(e)};return e||(e=[]),e.push({arg:n,callback:r}),t.addEventListener("message",r,!1),r},t.removeEventListenerWithIntercept=function(n){var r=function(t){if(!e)return null;for(var n=0;n<e.length;++n)if(e[n].arg===t){var r=e[n].callback;return e.splice(n,1),0===e.length&&(e=null),r}return null}(n);r&&t.removeEventListener("message",r,!1)},t.clearAllEventListenerWithIntercept=function(){if(e)for(var n=e.concat(),r=0;r<n.length;++r)t.removeEventListenerWithIntercept(n[r].arg)},t}}},66:function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},661:function(t,e,n){"use strict";n.r(e),n.d(e,"MemoryLimitedExtension",(function(){return Q})),n.d(e,"SvfLoaderML",(function(){return H})),n.d(e,"SvfPagingProxy",(function(){return _})),n.d(e,"InputStreamML",(function(){return G}));var r=n(298),i=n.n(r),s=n(299),a=n.n(s),o={uniforms:{color:{type:"v3",value:new THREE.Vector3(0,0,0)},opacity:{type:"f",value:1}},rawShader:!0,vertexShader:i.a,fragmentShader:a.a},h=Autodesk.Viewing.Private,u=(new THREE.Color).setRGB(1,1,1);function l(){var t,e,n,r,i=[[],[]],s=null,a=null,l=null,c=null,f=null;function d(){s&&(s.dispose(),s=null),a=null}function p(t,e,n,r){return t[e++]=n[r],t[e++]=n[r+1],t[e++]=n[r+2],t[e++]=n[r+3],t[e++]=n[r+1],t[e++]=n[r+2],t[e++]=n[r],t[e++]=n[r+4],t[e++]=n[r+2],t[e++]=n[r+3],t[e++]=n[r+4],t[e++]=n[r+2],t[e++]=n[r],t[e++]=n[r+1],t[e++]=n[r+5],t[e++]=n[r+3],t[e++]=n[r+1],t[e++]=n[r+5],t[e++]=n[r],t[e++]=n[r+4],t[e++]=n[r+5],t[e++]=n[r+3],t[e++]=n[r+4],t[e++]=n[r+5],e}function m(t,e,n){return t[e++]=n,t[e++]=n+1,t[e++]=n+5,t[e++]=n,t[e++]=n+5,t[e++]=n+4,t[e++]=n,t[e++]=n+2,t[e++]=n+3,t[e++]=n,t[e++]=n+3,t[e++]=n+1,t[e++]=n,t[e++]=n+4,t[e++]=n+6,t[e++]=n,t[e++]=n+6,t[e++]=n+2,t[e++]=n+7,t[e++]=n+6,t[e++]=n+4,t[e++]=n+7,t[e++]=n+4,t[e++]=n+5,t[e++]=n+7,t[e++]=n+5,t[e++]=n+1,t[e++]=n+7,t[e++]=n+1,t[e++]=n+3,t[e++]=n+7,t[e++]=n+3,t[e++]=n+2,t[e++]=n+7,t[e++]=n+2,t[e++]=n+6,e}function y(t,e,n,r){var i=new Float32Array(24*r),s=new Uint16Array(36*r),a=0,o=0,h=0;for(r+=n;n<r;++n,h+=8)o=m(s,o,h),a=p(i,a,t,6*e[n]);var u=new THREE.BufferGeometry;return u.addAttribute("position",new THREE.BufferAttribute(i,3)),u.addAttribute("index",new THREE.BufferAttribute(s,1)),u.streamingDraw=!0,u.streamingIndex=!0,u}function g(t,e,n,r){for(var i=new Float32Array(3*r),s=new Float32Array(3*r),a=0,o=r+n;n<o;++n){var h=6*e[n];s[a]=t[h+3]-t[h],i[a++]=t[h++],s[a]=t[h+3]-t[h],i[a++]=t[h++],s[a]=t[h+3]-t[h],i[a++]=t[h++]}var u=new THREE.BufferGeometry;u.addAttribute("position",new THREE.BufferAttribute(l,3)),u.addAttribute("index",new THREE.BufferAttribute(c,1));var f=new THREE.BufferAttribute(i,3);f.divisor=1;var d=new THREE.BufferAttribute(s,3);return d.divisor=1,u.addAttribute("instOffset",f),u.addAttribute("instScaling",d),u.numInstances=r,u.streamingDraw=!0,u.streamingIndex=!0,u}this.settings=r,this.initialize=function(n,i){n?(t=n,e=i,r=i.settings):h.logger.error("You need a gl context use occlusion culling. Things will go downhill from here.",av.errorCodeString(av.ErrorCodes.BROWSER_WEBGL_NOT_SUPPORTED))},this.onResize=function(){d()};var v=[[0,1,1],[1,0,1],[1,1,0],[1,1,1]],_=[1,1,1,0];this.occlusionTest=function(d,b,x,w,k){if(!x||x.length<=0||x.length>4)return Promise.reject({error:"fragIds invalid. Must be a nonempty array of fragment id arrays with length <= 4"});var z=[0,0,0,0],E=0;w=w&&t.supportsInstancedArrays()?1:0,(!i[w]||i[w].length<x.length)&&function(t,e){for(var n=!!e,r=i[e].length;r<t;++r){var s=h.createShaderMaterial(o);s.useInstancing=n,s.depthWrite=!1,s.uniforms.color.value.set(v[r][0],v[r][1],v[r][2]),s.uniforms.opacity.value=_[r],s.defaultAttributeValues.instRotate=[1,0,0,0],s.blending=THREE.CustomBlending,s.blendDst=THREE.SrcColorFactor,s.blendSrc=THREE.ZeroFactor,s.blendEquation=THREE.AddEquation,s.transparent=!0,i[e][r]=s}}(x.length,w),w&&!l&&(l=new Float32Array(24),m(c=new Uint16Array(36),0,0),p(l,0,[0,0,0,1,1,1],0)),f||(f=new THREE.Scene),f.frustumCulled=!1;var S,A=w?32768:4096;for(S=0;S<x.length;++S){var M=x[S];if(M&&M.length>0){z[S]=b,++E;for(var O,P=i[w][S],I=M.length,R=0;R<I;R+=O){O=Math.min(A,I-R);var T=w?g(d,M,R,O):y(d,M,R,O),C=new THREE.Mesh(T,P);C.frustumCulled=!1,f.add(C)}}}switch(s||((s=new THREE.WebGLRenderTarget(r.deviceWidth,r.deviceHeight,{minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat,stencilBuffer:!1})).generateMipmaps=!1,s.shareDepthFrom=e.getColorTarget()),t.setClearColor(u,1),t.setRenderTarget(s),t.clear(!0,!1,!1),t.render(f,n,s,!1,null),t.clearBlend(),f.children.forEach((function(t){t.geometry.dispose()})),f.remove.apply(f,f.children),a||(a=new Uint8Array(4*r.deviceWidth*r.deviceHeight)),t.readRenderTargetPixels(s,0,0,r.deviceWidth,r.deviceHeight,a),x.length){case 1:for(S=a.length;E>0&&(S-=4)>=0;)a[S]||(z[0]-=1,E-=!z[0]);return Promise.resolve([z[0]<=0]);case 2:for(S=a.length;E>0&&(S-=4)>=0;)a[S]||(z[0]-=1,E-=!z[0]),a[S+1]||(z[1]-=1,E-=!z[1]);return Promise.resolve([z[0]<=0,z[1]<=0]);case 3:for(S=a.length;E>0&&(S-=4)>=0;)a[S]||(z[0]-=1,E-=!z[0]),a[S+1]||(z[1]-=1,E-=!z[1]),a[S+2]||(z[2]-=1,E-=!z[2]);return Promise.resolve([z[0]<=0,z[1]<=0,z[2]<=0]);case 4:for(S=a.length;E>0&&(S-=4)>=0;)a[S]||(z[0]-=1,E-=!z[0]),a[S+1]||(z[1]-=1,E-=!z[1]),a[S+2]||(z[2]-=1,E-=!z[2]),a[S+3]||(z[3]-=1,E-=!z[3]);return Promise.resolve([z[0]<=0,z[1]<=0,z[2]<=0,z[3]<=0])}},this.dtor=function(){t&&t.setRenderTarget(null),d()},this.setCamera=function(t){n=t}}var c=new THREE.Box3,f=Autodesk.Viewing.Private,d=f.MeshFlags.MESH_RENDERFLAG,p=[d,32768,16384,8192];function m(t,e,n,r){f.RenderBatch.call(this,t,e,n,r),this.visibleStats=0}m.prototype=Object.create(f.RenderBatch.prototype),m.prototype.constructor=m,m.prototype.resetVisStatus=function(){this.visibleStats=0},m.prototype.forEach=function(t,e,n){var r=this.getIndices(),i=this.frags,s=!this.sortByShaderDone,a=e;e===d&&(a=this._rflag,++i._renderCount);for(var o=this.start,h=this.lastItem;o<h;o++){var u=r?r[o]:o,l=i.getVizmesh(u);if(!s||l&&l.material&&l.material.program&&!l.geometry_proxy||(s=!1),!i.isFlagSet(u,f.MeshFlags.MESH_TRAVERSED)||e!=d){if(!n&&a&&i.isFlagSet(u,a)&&(l.geometry||(l.geometry=this._requireGeometry(u),u<this.drawOrderRender&&(this.drawOrderRender=u),!l.geometry&&l.geometry_proxy&&(l.geometry=l.geometry_proxy)),l.geometry)){var c=e==d&&i.isFlagSet(u,f.MeshFlags.MESH_DRAWN);if(e==d){if(!(null==this.drawOrderRender||u<this.drawOrderRender))continue;i.setFlagFragment(u,f.MeshFlags.MESH_DRAWN,!0)}if(!c){var p=i.getMaterial(u);p&&i._pagingProxy.onGeomTraversed(l.geometry,p.transparent)}}!(n||l&&l.geometry)||a&&!i.isFlagSet(u,a)||t(l,u)}}s&&this.sortByShader()},m.prototype.applyVisibility=function(){var t,e,n,r,i,s,a,o;function h(h,u){if(h||!t.useThreeMesh)if(o||function(t,e,n,r){var i=!1;n.getWorldBounds(r,c);var s=e.intersectsBox(c);if(t&&s===f.FrustumIntersector.OUTSIDE)i=!0;else if(n._pagingProxy.pixelCullingEnable()){var a=e.projectedBoxArea(c,s===f.FrustumIntersector.CONTAINS);(a*=e.areaConv)<n._pagingProxy.pixelCullingThreshold()&&(i=!0)}return i}(s,n,t,u)){h?h.visible=!1:THREE.warn("Unexpected null mesh"),e[u]=e[u]&~i;var l=t.geomids[u],d=t.geoms.getGeometry(l);t._pagingProxy.onGeomCulled(d)}else{var p=function(t,e,n,r,i,s){var a,o=e[n]&~s;switch(t){case f.RenderFlags.RENDER_HIDDEN:a=!(o&f.MeshFlags.MESH_VISIBLE);break;case f.RenderFlags.RENDER_HIGHLIGHTED:a=o&f.MeshFlags.MESH_HIGHLIGHTED;break;default:a=1==(o&(f.MeshFlags.MESH_VISIBLE|f.MeshFlags.MESH_HIGHLIGHTED|f.MeshFlags.MESH_HIDE))}if(r){var h=o&(f.MeshFlags.MESH_ISLINE|f.MeshFlags.MESH_ISWIDELINE);a=a&&!h}if(i){var u=o&f.MeshFlags.MESH_ISPOINT;a=a&&!u}return e[n]=o|(a?s:0),a}(r,e,u,t.linesHidden,t.pointsHidden,i);h&&(h.visible=!!p),a=a&&!p}}function u(e){var n=t.fragments.packIds[e];t._pagingProxy.addGeomPackMissingLastFrame(n)}return function(l,c){a=!0,o=!1,n=c,i=p[r=l]||p[0],t=this.frags;var d=r===f.RenderFlags.RENDER_HIDDEN?this.getBoundingBoxHidden():this.getBoundingBox(),m=n.intersectsBox(d);if(m===f.FrustumIntersector.OUTSIDE&&(o=!0),s=m!==f.FrustumIntersector.CONTAINS,t._pagingProxy.pixelCullingEnable()){var y=this.renderImportance;0==y&&(y=n.projectedBoxArea(d,!s)),(y*=n.areaConv)<t._pagingProxy.pixelCullingThreshold()&&(o=!0)}return e=this.frags.vizflags,this.forEach(h,null,u),a}}(),m.prototype._requireGeometry=function(t){var e=this.frags,n=null,r=e.geomids[t];if(r>=0&&(n=e.geoms.getGeometry(r)),null==n){var i=e.fragments.packIds?e.fragments.packIds[t]:t;e._pagingProxy.loadPackFile(i)}return n};var y=Autodesk.Viewing,g=y.Private,v=function(t,e){var n=t.getSettingsPanel();if(n){var r=n.getControl(n.groundShadowChkBoxId).checkElement,i=r.parentElement.parentElement.parentElement;i.style.display=e,(i=(r=n.getControl(n.groundReflectionChkBoxId).checkElement).parentElement.parentElement.parentElement).style.display=e}},_=function(t,e){var n=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r=t;this.options={},n(this.options,e),this.options.debug={maxPageOutSize:195,pixelCullingEnable:this.options.onDemandLoading,pixelCullingThreshold:g.PIXEL_CULLING_THRESHOLD,occlusionThreshold:1,occlusionTestThreshold:1,startOcclusionTestingPackCount:8,testPackfileCount:4,useOcclusionInstancing:!0,automaticRefresh:!0,boxProxyMaxCount:0,boxProxyMinScreen:.4},n(this.options.debug,e.debug),this.reachLimit=!1,this.geomidsmap={},this.geomTravCount=[],this.loadedPacks={},this.loadedPackfileCount=0,this.memoryOverhead=0,this.loadingPacks={},this.loadingPacksSize=0,this.queuedPacks=[],this.packQueuedMap={},this.queuedPacksSize=0,this.occludedPacks=[],this.occlusionCulledCount=0,this.packsPagedOut=0,this.traversedCounter=0,this.transparentCounter=0,this.resetCount=0,this.invalidateCount=-1,this.moving=0,this.geompacks=r.svf.geompacks,this.geommap=r.geommap,this.totalGeomSize=this.options.totalGeomSize,this.overheadSize=this.options.overheadSize,this.minMemoryLimit=Math.min(Math.max(.1*this.totalGeomSize,10),50)+this.overheadSize,this.lastPageOut=-1,this.pageOutResetCounter=-1;var i,s,a,o,h,u=!1,c=0,f=0,d=0,p=[],_=-1,b=[],x=!0,w=null,k=0,z=!0,E=!1,S=new l;S.initialize(r.viewer3DImpl.glrenderer(),r.viewer3DImpl.renderer());var A=function(t){this.resetCanPageOut(!!t.debug.unloadPackFiles,0!=t.delay,!1)}.bind(this);r.viewer3DImpl&&r.viewer3DImpl.api.addEventListener(y.LOAD_MISSING_GEOMETRY,A),this.dtor=function(){this.removeHooks(),S&&S.dtor(),S=void 0,r.viewer3DImpl&&r.viewer3DImpl.api.removeEventListener(y.LOAD_MISSING_GEOMETRY,A)},this.pixelCullingEnable=function(){return this.options.debug.pixelCullingEnable},this.pixelCullingThreshold=function(){return this.options.debug.pixelCullingThreshold},this.getMemoryLimit=function(){return Math.max(this.minMemoryLimit,this.options.limit)},this.getMemoryInfo=function(){return{limit:this.options.limit,effectiveLimit:this.getMemoryLimit(),loaded:this.preparedPackFilesSize()}},this.getLoadedMeshes=function(t){var e=this.loadedPacks[t];return e&&e.inMemory},this.loadPackFile=function(){return!0},this.doLoadPackFile=function(t){return!!this.loadingPacks[t]||!0!==this.occludedPacks[t]&&(this.queuedPacks.length>0||this.occlusionTesting>=1?!!this.addGeomPackMissingLastFrame(t)&&(this.loadGeometryMissingLastFrame(),!0):r.loadGeometryPack(t,this.getLoadedMeshes(t)))},this.unloadPackFile=function(t,e,n){var i=r.model.getFragmentList(),s=this.loadedPacks[t];return!!(i&&s&&i.geoms)&&(function(t,e,n,i,s,a){var o,h,u=0,l=0,c=[],f=a.inMemory,d=!1,p=0,m=e.geoms;if(!n&&a.travsed>=a.currentCount)return 0;function y(a){if(f[a>>5]&1<<(31&a)){var h=e.fragments.mesh2frag[t+":"+a];Array.isArray(h)&&(h=h[0]);var y=m.geoms[e.getGeometryId(h)];if(y&&y.packId==t){var g=y.vb.buffer===y.ib.buffer?y.vb.buffer.byteLength>y.vb.byteLength+y.ib.byteLength:y.vb.buffer.byteLength>y.vb.byteLength||y.ib.buffer.byteLength>y.ib.byteLength;(n||y.traversed!=i&&y.transparent!=s)&&(o=m.removeGeometry(y.svfid,r.viewer3DImpl.glrenderer()))>0?(l+=o,f[y.meshIndex>>5]&=~(1<<(31&y.meshIndex)),d=d||g):(++p,g&&(u+=y.vb.byteLength,u+=y.ib.byteLength+3&-4,c.push(y)))}else console.error("Mismapped or missing geometry %d:%d",t,a)}}for(h=0;h<a.totalCount;++h)y(h);if(a.currentCount=p,a.culled=0,0==l)return 0;if(l/=1048576,0==c.length||!d)return l;var g=new ArrayBuffer(u),v=0;function _(t,e,n){var r=null;if(e){var i=n-1;v=v+i&~i;var s=e.length;(r=new t(g,v,s)).set(e),v+=s*n}return r}c.forEach((function(t){t.vb=_(Float32Array,t.vb,4),t.ib=_(Uint16Array,t.ib,2)}))}(t,i,e,this.traversedCounter,this.transparentCounter,s),0==s.currentCount&&(delete this.loadedPacks[t],--this.loadedPackfileCount,n&&++this.packsPagedOut),!0)};var M=function(){if(this.resetCount!=this.pageOutResetCounter)return!1;r.viewer3DImpl.invalidate(!1,!0)}.bind(this);this.onPackFileLoaded=function(t,e,n){var r=this.geommap[t];if(E=!1,this.loadingPacks.hasOwnProperty(t)&&(delete this.loadingPacks[t],this.loadingPacksSize-=r.geomSize+r.usize),e){var i=this.loadedPacks[t];if(!i){var s=e.meshes.length;i=this.loadedPacks[t]={totalCount:s,travsed:0,culled:0,resetCounter:this.resetCount,geomSize:0,inMemory:new Array((s+31)/32|0)},++this.loadedPackfileCount,this.options.debug.occlusionTestThreshold>0&&0==this.occlusionTesting&&this.loadedPackfileCount>=this.options.debug.startOcclusionTestingPackCount&&(this.occlusionTesting=1)}i.geomSize+=n,i.currentCount=i.totalCount,i.inMemory.fill(-1),this.totalGeomSize+=i.geomSize-r.geomSize,this.packQueuedMap[t]&&(this.queuedPacksSize+=i.geomSize-r.geomSize),r.geomSize=i.geomSize,M()}this.loadedGeometrySize()>this.getMemoryLimit()&&g.logger.warn("More pack files being loaded than the max count: "+this.loadedGeometrySize())},this.checkLoadFinished=function(){if(!E){var t=r.pack_workers;if(t)for(var e=0;e<t.length;e++)if(0!=t[e].queued)return;(0!=this.geomPacksMissingLastFrame().length||c<p.length)&&(this.loadedGeometrySize()<this.getMemoryLimit()||z)||(E=!0,r.onGeomLoadDone())}},this.doOnDemandLoadFinished=function(){this.loadGeometryMissingLastFrame(),this.checkLoadFinished()},this.onPackFileLoading=function(t){if(!this.loadingPacks.hasOwnProperty(t)){this.loadingPacks[t]=!0;var e=this.geommap[t];this.loadingPacksSize+=e.geomSize+e.usize}},this.onProcessReceivedMesh=function(t,e){var n=t.svfid;e>1&&null==this.geomidsmap[n]&&(this.geomidsmap[n]=this.geomTravCount.length,this.geomTravCount.push(0))},this.loadedGeometrySize=function(){return r.model.getGeometryList().geomMemory/1048576+this.overheadSize},this.preparedPackFilesSize=function(){return this.loadingPacksSize+this.loadedGeometrySize()},this.cancelPending=function(){this.loadingPacksSize>1/1048576&&(r.cancelGeometryPackLoading(),this.loadingPacks={},this.loadingPacksSize=0),this.queuedPacks.length=0,this.queuedPacksSize=0,this.packQueuedMap={},this.occlusionTesting=this.options.debug.occlusionTestThreshold>0&&this.loadedPackfileCount>=this.options.debug.startOcclusionTestingPackCount?1:0,this.occludedPacks.length=0},this.resetIterator=function(t){this.lastCamera=t,S.setCamera(t),++this.resetCount},this.reset=function(){var t=this.loadedPacks;for(var e in t)t[e].travsed=0,t[e].culled=0;this.geomTravCount.fill(0),this.resetCount>this.invalidateCount&&(this.cancelPending(),this.resetCanPageOut(!1,!0,!0))},this.geomPacksMissingLastFrame=function(){return this.queuedPacks},this.addGeomPackMissingLastFrame=function(t){if(this.loadedGeometrySize()>=this.getMemoryLimit()&&(this.reachLimit=!0),!this.packQueuedMap[t]){var e=this.geommap[t];e&&(this.queuedPacks.push(t),this.queuedPacksSize+=e.geomSize,this.packQueuedMap[t]=!0)}return!0},this.loadGeometryMissingLastFrame=function(){var t,e=this.queuedPacks;for(t=0;t<e.length;++t){var n=e[t];if(this.occlusionTesting>=1&&void 0===this.occludedPacks[n])break;if(!this.geommap[n].loading&&!this.occludedPacks[n]&&!r.loadGeometryPack(n,this.getLoadedMeshes(n)))break}0!=t||E||M();var i=this;e.splice(0,t).forEach((function(t){i.queuedPacksSize-=i.geommap[t].geomSize,delete i.packQueuedMap[t]}))},this.needResumeNextFrame=function(){return u};var O=function(t,e){var n=t>=b.length?1e10:b[t];return(e>=b.length?1e10:b[e])-n}.bind(this.loadedPacks);this.markVisibleGeoms=function(){var t,e=r.viewer3DImpl,n=r.model,i=n.getData().instanceTree;if(i&&(t=function(t,e,n){var r=n.getFragmentList()._renderCount;if(r===s)return a;s=r;var i=t.getIdTarget();return i?(a&&o==i.width&&h==i.height||(a=new Uint8Array(4*i.width*i.height),o=i.width,h=i.height),e.readRenderTargetPixels(i,0,0,i.width,i.height,a),a):(a=void 0,null)}(e.renderer(),e.glrenderer(),n))){var u,l,c=++this.traversedCounter,f={},d=t.length,p=this.loadedPacks;for(l in p)p[l].travsed=0;for(var m=0;m<d;m+=4)(u=(u=t[m]|t[m+1]<<8|t[m+2]<<16)<<8>>8)>0&&(f[u]=1+(0|f[u]));var y=n.getFragmentList(),g=0|this.options.debug.occlusionThreshold;for(l in f)f[u=Number(l)]>=g&&i.enumNodeFragments(u,(function(t){var e=y.getGeometry(t);if(e){var n=p[e.packId];n&&e.traversed!=c&&++n.travsed,e.traversed=c}}))}},this.pageOut=function(t,e){u=!1;var n=0;if(!z||!r.isValid())return n;if(t&&this.options.debug.occlusionTestThreshold>0&&this.loadedPackfileCount>=this.options.debug.startOcclusionTestingPackCount&&(this.occlusionTesting=2),this.occlusionTest(),!t)return n;this.pageOutResetCounter=this.resetCount;var i=this.loadedGeometrySize();if(z=!0,i&&(this.reachLimit||i>this.getMemoryLimit())){this.markVisibleGeoms();var s=this.loadedPacks,a=Object.keys(s),o=!1;a.sort(O);var h=i-Math.min(i,this.options.debug.maxPageOutSize);return a.every(function(t){return s[t].resetCounter<this.resetCount?this.unloadPackFile(t,!1,!0):o=!0,this.loadedGeometrySize()>h}.bind(this)),e&&this.loadedGeometrySize()==i&&s[a[0]].resetCounter<this.resetCount&&(this.unloadPackFile(a[0],!1,!0),g.logger.log("A force page out occur.")),this.loadedGeometrySize()==i?(n=0,this.reachLimit=!0):(this.reachLimit=!1,this.loadGeometryMissingLastFrame(),u=!0),this.lastPageOut=i-this.loadedGeometrySize(),g.logger.log("[On Demand Loading] Unload pack files size: "+this.lastPageOut),window&&window.gc&&window.gc(),0==this.lastPageOut&&(z=o,this.checkLoadFinished()),n}return u=u||this.queuedPacks.length>0,this.loadFragsFromLoadOrder(),n},this.occlusionTest=function(t){var e=null,n=!1,i=null,s=null,a=0,o=0;function h(e){i=null;for(var n=0;n<s.length;++n)t.occludedPacks[s[n]]=!e[n],e[n]||(g.logger.debug("[On Demand Loading] Occluded Geometry Pack file: "+s[n]),++t.occlusionCulledCount);t.doOnDemandLoadFinished(),u()}function u(){a||i||E||(i=null,!n&&(s=function(e){var n=null;o=0;var r=t.queuedPacks,i=t.occludedPacks;e=Math.min(4,e||4);for(var s=r.length,a=0;a<s&&e>0;++a){var h=r[a];void 0===i[h]?((n=n||[]).push(h),--e):i[h]||++o}return n}(t.options.debug.testPackfileCount))&&(a=setTimeout((function(){a=0;var n=function(t){var n=e.fragments.packIds;if(!n)return null;var r=[];return t.forEach((function(t){for(var e=[],i=n.lastIndexOf(t);i>=0;)n[i]==t?e.push(i--):--i>0&&(i=n.lastIndexOf(t,i));r.push(e)})),r}(s);(i=S.occlusionTest(e.boxes,t.options.debug.occlusionTestThreshold,n,t.options.debug.useOcclusionInstancing,s)).then(h,(function(){h([!0,!0,!0,!0])}))}),3*o)))}return function(){i||this.occlusionTesting<2||(n=this.moving-- >0,(e=r.model.getFragmentList())&&!n&&u())}}(this),this.loadFragsFromLoadOrder=function(){for(var t=r.model.getFragmentList();c<p.length;){for(var e=p[c],n=e.length;f<n;){var i=e[f];if(!t.getGeometry(i)){var s=t.fragments.packIds?t.fragments.packIds[i]:i,a=this.queuedPacks.length;if(!this.doLoadPackFile(s)&&a==this.queuedPacks.length)return}++f}++c,f=0}},this.pfOrder=function(){return i},this.getNumVisiblePFs=function(){return i?_:-1},this.onLoadOrderCalculated=function(t){if(t.error)w=null;else if(t.fragOrder&&t.packOrder&&(w=t),t.id==d&&w){this.lastPageOut=-1,z=!0,E=!1,p.length=0,p.push(w.fragOrder),i=w.packOrder,_=w.pfVisible;var e,n=i.length;for(b.length=this.geompacks.length,b.fill(1e10),e=0;e<n;++e)b[i[e]]=e;var s,a=r.model.getFragmentList(),o=this.overheadSize,h=this.getMemoryLimit();for(s=0;s<p.length&&o<h;++s){var u=p[s];n=u.length;var l=[];l.length=b.length,l.fill(0);var m=this.geompacks;for(e=0;e<n&&o<h;++e){var y=u[e],g=a.fragments.packIds?a.fragments.packIds[y]:y,v=m[g];if(v){var x=a.getGeometry(y)?v.geomSize:v.totalGeomSize;x>l[g]&&(o+=x-l[g],l[g]=x)}}}var k=this.loadedPacks;for(var S in k)k.hasOwnProperty(S)&&(l[S]||this.unloadPackFile(S,!0));++this.traversedCounter,++this.transparentCounter,this.reachLimit=this.loadedGeometrySize()>=this.getMemoryLimit(),this.cancelPending(),c=0,f=0,this.loadFragsFromLoadOrder(),r.viewer3DImpl.invalidate(!0),this.invalidateCount=this.resetCount+1}},this.resetCanPageOut=function(t,e,n){k&&(clearTimeout(k),k=0);var i=this;function s(){if(k=0,x||!n||i.options.debug.automaticRefresh){i.occlusionCulledCount=0,i.packsPagedOut=0;var e,s=i.lastCamera,a=i.loadedPacks;if(t)for(e in a)a.hasOwnProperty(e)&&i.unloadPackFile(e,!0);r.calculateLoadOrder(++d,s,i.options.debug.pixelCullingEnable?i.options.debug.pixelCullingThreshold:-1),x=!1}}e?k=setTimeout(s,100):s()},this.onGeomTraversed=function(t,e){var n=t.packId,r=t.svfid;t.traversed=this.traversedCounter,e&&(t.transparent=this.transparentCounter);var i=!0,s=this.geomidsmap[r];null!=s&&(this.geomTravCount[s]+=2,this.geomTravCount[s]|=1,i=t.instanceCount==this.geomTravCount[s]>>1);var a=this.loadedPacks[n];a&&i&&a.travsed++},this.onGeomCulled=function(t){if(t){var e=t.packId,n=t.svfid,r=this.geomidsmap[n],i=!r;null!=r&&(1&this.geomTravCount[r]?this.onGeomTraversed(t):(this.geomTravCount[r]+=2,i=t.instanceCount==this.geomTravCount[r]>>1));var s=this.loadedPacks[e];s&&i&&s.culled++}},this.removeHooks=function(){var t=r.viewer3DImpl,e=t.rolloverObjectViewport;t.rolloverObjectViewport=function(){};var n=t.renderer(),i=n.renderScenePart,s=m;n.renderScenePart=function(t,e,n,r,a){if(r&&t instanceof g.RenderBatch&&t.sortObjects&&(r=!1),i.call(this,t,e,n,r,a),t instanceof s)for(var o,h=t.start,u=t.lastItem,l=t.frags.vizflags,c=t.getIndices();h<u;)l[o=c?c[h]:h]&g.MeshFlags.MESH_DRAWN&&(l[o]=(l[o]|g.MeshFlags.MESH_TRAVERSED)&~g.MeshFlags.MESH_DRAWN),++h},t.matman().toggleDepthWriteTransparent(!1),t.toggleGroundShadow(!1),t.toggleGroundReflection(!1);var a=!1,o=function e(){a=!0,t.api.removeEventListener(y.SETTINGS_PANEL_CREATED_EVENT,e),v(t.api,"none")};t.api.addEventListener(y.SETTINGS_PANEL_CREATED_EVENT,o);return t.api.addEventListener(y.VIEWER_RESIZE_EVENT,(function(t){S.onResize()})),function(){t.api.removeEventListener(y.SETTINGS_PANEL_CREATED_EVENT,o),t.api.removeEventListener(y.VIEWER_RESIZE_EVENT,o),t.rolloverObjectViewport=e,t.matman().toggleDepthWriteTransparent(!0),t.toggleGroundShadow(t.api.prefs.groundShadow),t.toggleGroundReflection(t.api.prefs.groundReflection),a&&v(t.api,"")}}()},b=n(64),x=Autodesk.Viewing,w=x.Private;var k=Autodesk.Viewing,z=k.Private,E=[1,1,2,4];function S(t){var e=this;k.Model.call(this,t),this.RenderBatch=m;var n=this.initialize,r=this.resetIterator,i=this.nextBatch,s=this.dtor,a=E[z.RenderFlags.RENDER_NORMAL],o=z.MeshFlags.MESH_RENDERFLAG,h=0,u=function t(){h=requestAnimationFrame(t),e.frameUpdatePaging()};this.initialize=function(t){n.call(this);var e=this.getFragmentList();e._pagingProxy=this.loader.pagingProxy,e._renderCount=0;for(var r=this.getIterator().getGeomScenes(),i=0;i<r.length;++i)r[i].calculateBounds();h=requestAnimationFrame(u)},this.dtor=function(t){h&&(cancelAnimationFrame(h),h=0),s.call(this,t)},this.resetIterator=function(t,e,n,i){i=i||z.ResetFlags.RESET_NORMAL;var s=this.loader.pagingProxy,h=this.getFragmentList();o=p[n]||z.MeshFlags.MESH_RENDERFLAG,s.resetIterator(t,i);var u=r.call(this,t,e,n);return a=E[n]||E[z.RenderFlags.RENDER_NORMAL],i!=z.ResetFlags.RESET_NORMAL&&(++h._renderCount,i>=z.ResetFlags.RESET_REDRAW&&(h.setFlagGlobal(z.MeshFlags.MESH_TRAVERSED,!1),this.resetVisStatus()),i>=z.ResetFlags.RESET_RELOAD&&(h._pagingProxy.moving=2,this._pageOutStatus=2,s.reset())),u},this.nextBatch=function(){var t=i.call(this);return t&&(t._rflag=o),t},this.applyVisibility=function(t,e,n){if(t.visibleStats&a)return!(t.visibleStats&a<<16);var r=t.applyVisibility(e,n);return t.visibleStats|=a,r||(t.visibleStats|=a<<16),r||this.is2d()||(t.sortObjects&&!this.getFragmentList().useThreeMesh?t.sortByDepth(n):t.sortDone||t.sortByMaterial()),r}}S.prototype=Object.create(k.Model.prototype),S.prototype.constructor=S,S.prototype.resetVisStatus=function(){for(var t=this.getIterator().getGeomScenes(),e=0;e<t.length;++e){var n=t[e];n&&n.resetVisStatus()}},S.prototype.frameUpdatePaging=function(){var t=this.loader.pagingProxy,e=this.getIterator().done();return this._pageOutStatus=t.pageOut(e,!1),e&&1==this._pageOutStatus&&(this._pageOutStatus=t.pageOut(!0,!0)),this._pageOutStatus};var A=n(300);function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=Autodesk.Viewing.Private;var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(s,t);var e,n,r,i=R(s);function s(){return O(this,s),i.apply(this,arguments)}return e=s,r=[{key:"buildInstanceTree",value:function(t,e){var n=function(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n];Array.isArray(i)||(i=[i]);for(var s=0;s<i.length;s++){var a=i[s],o=e[a];void 0===o?e[a]=n:Array.isArray(o)?o.push(n):e[a]=[o,n]}}return e}(t),r=Object.keys(n),i=r.length,a=new L.InstanceTreeStorage(i+1,t.length),o=[],h=[0];a.setNode(-1<<30,0,"root",0,r,o);for(var u=0;u<i;++u){var l=r[u],c=n[l];Array.isArray(c)||(h[0]=c,c=h),a.setNode(l,-1<<30,"node:"+l,6,o,c)}r=void 0,n=void 0,a.flatten();var f=new s(a=new L.InstanceTreeAccess(a,-1<<30),i+1,2);return f.setFragmentList(e),f}}],(n=null)&&P(e.prototype,n),r&&P(e,r),s}(L.InstanceTree);function D(t,e,n,r,i,s,a){try{var o=t[s](a),h=o.value}catch(t){return void n(t)}o.done?e(h):Promise.resolve(h).then(r,i)}var U=Autodesk.Viewing,B=U.Private,V=U.isNodeJS()?10:U.isMobileDevice()?2:6,N={type:A.FRAGMENTS_LOADED_EVENT,model:null,data:null,getFragIds:function(){if(this.fragIds)return this.fragIds;var t=this.model;if(!t||!this.data||!this.data.meshes)return null;var e=this.fragIds=[],n=this.data.packId,r=0,i=t.getData().fragments,s=this.data.meshes.length;for(r=0;r<s;++r){var a=n+":"+r++,o=i.mesh2frag[a];if(void 0===o)return;Array.isArray(o)?o.forEach((function(t){e.push(t)})):e.push(o)}return e}},j=B.SvfLoader;var H=function(t,e){j.call(this,t,e);var n=function(t,e){var n=Object.assign({},e&&e.memory);n.debug=Object.assign({},n.debug),r=0|parseInt(n.limit),(n.debug&&n.debug.force||!1)&&r<=0&&(n.force=!1,w.logger.warn("config.memory.limit value is invalid: ("+n.limit+")"));var r,i=x.getParameterByName("viewermemory");if((r=parseInt(i))>0){var s=(r|=0)>0&&"f"===i.charAt(i.length-1).toLowerCase();n={limit:r,debug:{force:s}},s?w.logger.info("Forcing memory limit to URL param: ("+r+" MegaBytes)."):w.logger.info("Setting memory limit to URL param: ("+r+" MegaBytes).")}else 0===r?n={limit:0}:""!==i&&w.logger.warn("Invalid viewermemory URL param value: ("+i+")");var a=function(t){for(var e=0;e<t.length;++e){var n=t[e].getFragmentList();if(n&&n._pagingProxy)return!0}};return(a(t.modelQueue().getModels())||a(t.modelQueue().getHiddenModels()))&&(n.limit=0,n.debug.force=!1),n}(t,e),r=this.memoryOpts={debug:{}};if(!U.isNodeJS()&&(r.limit=U.isAndroidDevice()?195:U.isIOSDevice()?150:U.isFirefox()||U.isMac()&&U.isChrome()?0:U.isSafari()?2048:1024,r.onDemandLoading=!0,n)){r.debug=Object.assign({},n.debug);var i=n.hasOwnProperty("limit")?n.limit:r.limit;(0|i)>0?r.limit=0|i:0==i?(r.onDemandLoading=!1,r.debug.force=!1):B.logger.warn("Memory limit, "+i+", is invalid - ignored")}};H.prototype=Object.create(j.prototype),H.prototype.dtor=function(){this.svfLoadOrderWorker&&(this.svfLoadOrderWorker.terminate(),this.svfLoadOrderWorker=null,B.logger.debug("SVF loader dtor: on load order worker.")),this.pagingProxy&&(this.pagingProxy.dtor(),this.pagingProxy=null),j.prototype.dtor.call(this)},H.prototype.initWorkerScript=b.initWorkerScriptML,H.prototype.createWorkerWithIntercept=function(){var t=this,e=Object(b.createWorkerWithInterceptML)();return e.doOperation=function(n){if("LOAD_SVF"===n.operation){var r=t.memoryOpts.onDemandLoading||!!t.memoryOpts.debug.memoryOptimizedSvfLoading;r&&(n.perfOpt={memoryOptimizedSvfLoading:r,forceMemoryOptimizedMode:!!t.memoryOpts.debug.forceMemoryOptimizedModeOnSvfLoading})}e.postMessage(n)},e},H.prototype.startWorkers=function(){this.pagingProxy?(B.logger.debug("[On Demand Loading]: Enabled."),this.loadedPacksCount=0):j.prototype.startWorkers.call(this)},H.prototype.createModel=function(t){var e=this.model=this.pagingProxy?new S(t):new U.Model(t);return e.loader=this,e.initialize(this.pagingProxy),e},H.prototype.loadFile=function(t,e,n,r){var i=!U.isNodeJS()&&e.forceDisableOnDemandLoading;if(e.bubbleNode){var s=e.bubbleNode.findParentGeom2Dor3D().extensions();s&&s.indexOf("Autodesk.Fusion360.Animation")>=0&&(i=!0)}return i&&(this.memoryOpts.limit=0,this.memoryOpts.onDemandLoading=!1,this.memoryOpts.debug.force=!1,B.logger.log("Animation file disables on-demand-loading...")),j.prototype.loadFile.call(this,t,e,n,r)},H.prototype.cancelGeometryPackLoading=function(){if(this.pack_workers&&this.isValid()){for(var t=0;t<this.pack_workers.length;t++){if(this.svf){var e=this.geommap[this.pack_workers[t].packId];e&&(e.loading=!1)}this.pack_workers[t].queued=0,this.pack_workers[t].clearAllEventListenerWithIntercept(),this.pack_workers[t].terminate()}this.pack_workers=null}},H.prototype.loadGeometryPack=function(t,e){var n=this.pagingProxy;if(!n)return j.prototype.loadGeometryPack.call(this,t,e),!0;if(!this.svf||!this.isValid())return!0;var r,i=this.geommap[t];if(!i||i.loading)return!0;this.t0||(this.t0=(new Date).getTime());var s=this;function a(t,e){t.queued=0,s.geommap[e].loading=!1,n.doOnDemandLoadFinished()}var o=function(t){if(t.data&&t.data.meshes){for(var e=t.data.meshes,r={packId:t.data.packId,meshIndex:0,mesh:null},i=0,o=0;o<e.length;o++){var h=e[o];h&&(r.meshIndex=o,r.mesh=h,s.processReceivedMesh(r),r.geometry&&(i+=r.geometry.byteSize+B.GEOMETRY_OVERHEAD,r.geometry=null))}n.onPackFileLoaded(t.data.packId,t.data,i/1048576),u=s,l=t.data,N.model=u.model,N.data=l,u.viewer3DImpl.api.dispatchEvent(N),t.data.progress>=1&&(s.loadedPacksCount++,s.viewer3DImpl.signalProgress(100*s.loadedPacksCount/s.svf.geompacks.length,U.ProgressState.LOADING,s.model),a(s.pack_workers[t.data.workerId],t.data.packId))}else t.data&&t.data.progress?(s.pack_workers[t.data.workerId].queued-=1,s.viewer3DImpl.signalProgress(100*s.loadedPacksCount/s.svf.geompacks.length)):t.data&&t.data.debug?B.logger.debug(t.data.message):t.data&&t.data.error?(n.onPackFileLoaded(t.target.packId,null,0),a(t.target,t.target.packId),++s.failedToLoadPacksCount,s.failedToLoadSomeGeometryPacks={code:t.data.error.code,msg:t.data.error.msg}):(n.onPackFileLoaded(t.target.packId,null,0),a(t.target,t.target.packId));var u,l};if(!this.pack_workers){this.pack_workers=[];var h=V;for(r=0;r<h;r++){var u=this.createWorkerWithIntercept();u.addEventListenerWithIntercept(o),u.queued=0,this.pack_workers.push(u)}}var l,c,f=0,d=this.pack_workers[0].queued;for(r=1;r<this.pack_workers.length;r++)this.pack_workers[r].queued<d&&(f=r,d=this.pack_workers[r].queued);if(d>1||n.preparedPackFilesSize()>=n.getMemoryLimit())return this.pagingProxy.addGeomPackMissingLastFrame(t)||this.viewer3DImpl.invalidate(!1,!0),!1;var p=i.uri;(l=this.pack_workers[f]).queued+=2,l.packId=t,c=f,n.onPackFileLoading(t),i.loading=!0,this.svf.partPacksLoadDone=!1,B.logger.debug("[On Demand Loading] Loading Geometry Pack file: "+t);var m={operation:"LOAD_GEOMETRY",url:B.pathToURL(this.svf.basePath+p),packId:t,workerId:c,packNormals:this.options.packNormals,createWireframe:this.options.createWireframe||this.model.getMetadata("renderEnvironmentDisplayEdges","value",!1),skipAssetCallback:!0,queryParams:this.queryParams,inMemory:e};return l.doOperation(U.initLoadContext(m)),!0},H.prototype.processReceivedMesh=function(t){if(this.pagingProxy){var e=t.packId+":"+t.meshIndex,n=this.svf.fragments,r=n.mesh2frag[e];j.prototype.processReceivedMesh.call(this,t),n.mesh2frag[e]=r,t.geometry.meshIndex=t.meshIndex,this.pagingProxy.onProcessReceivedMesh(t.geometry,Array.isArray(r)?r.length:1)}else j.prototype.processReceivedMesh.call(this,t)},H.prototype.onModelRootLoadDone=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var n,r,i,s,a,o,h,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=function(t){u.isValid()&&u.pagingProxy&&u.pagingProxy.onLoadOrderCalculated(t.data)},n=this.memoryOpts,r=this.geommap={},i=Object.keys(e.fragments.mesh2frag).length,s=e.fragments.length,a=(224*i+134*s)/1048576,o=0,e.geompacks.forEach((function(t){t.hasOwnProperty("geomSize")||(t.geomSize=.7*t.usize),t.usize/=1048576,t.geomSize/=1048576,o+=t.geomSize,r[parseInt(t.id)]=t})),h=U.isMobileDevice()?Math.min(o,B.GPU_MEMORY_LIMIT/1048576):0,o+=a,n.totalGeomSize=o,n.overheadSize=a,n.onDemandLoading&&(o+h<n.limit&&!n.debug.force?n.onDemandLoading=!1:this.pagingProxy=new _(this,n)),void 0===this.options.skipPropertyDb&&(this.options.skipPropertyDb=this.pagingProxy&&U.isMobileDevice()),t.next=16,j.prototype.onModelRootLoadDone.call(this,e);case 16:this.options.skipPropertyDb&&(this.svf.instanceTree=F.buildInstanceTree(this.svf.fragments.fragId2dbId,this.model.getFragmentList())),u=this,this.pagingProxy&&e.fragments.boxes&&e.fragments.packIds&&(this.svfLoadOrderWorker=Object(b.createWorkerML)(),this.svfLoadOrderWorker.addEventListener("message",l,!1),this.svfLoadOrderWorker.doOperation({operation:"CALCULATE_LOAD_ORDER",fragments:{boxes:e.fragments.boxes,packIds:e.fragments.packIds}}),this.model.setUUID(e.urn));case 19:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function a(t){D(s,r,i,a,o,"next",t)}function o(t){D(s,r,i,a,o,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),H.prototype.calculateLoadOrder=function(t,e,n){if(!this.svfLoadOrderWorker)return!1;var r={operation:"CALCULATE_LOAD_ORDER",id:t,camera:{projectionMatrix:{elements:e.projectionMatrix.elements},matrixWorldInverse:{elements:e.matrixWorldInverse.elements},aspect:e.aspect,position:{x:e.position.x,y:e.position.y,z:e.position.z},clientWidth:e.clientWidth,clientHeight:e.clientHeight},pixelCullingThreshold:n};return this.svfLoadOrderWorker.doOperation(r),!0},H.prototype.onGeomLoadDone=function(){if(this.pagingProxy){if(!this.svf.loadDone)if(U.isMobileDevice()){var t=this.pagingProxy.getMemoryInfo();if(t&&t.effectiveLimit<=t.limit&&t.limit-t.loaded>50){var e=function(t){this.viewer3DImpl.api.removeEventListener(U.TEXTURES_LOADED_EVENT,e);var n=0;this.viewer3DImpl.matman().enumTextures(this.model,(function(t){t&&(n+=B.TextureLoader.calculateTextureSize(t))})),n/=1048576,this.pagingProxy.options.limit-=n}.bind(this);this.viewer3DImpl.api.addEventListener(U.TEXTURES_LOADED_EVENT,e),B.TextureLoader.loadModelTextures(this.model,this.viewer3DImpl)}}else B.TextureLoader.loadModelTextures(this.model,this.viewer3DImpl);var n=this.svf.loadDone;this.svf.loadDone=!0;var r=Date.now(),i="[On Demand Loading] On demand requested geometries load time: "+(r-this.t0);B.logger.log(i);var s={category:"on_demand_geom_load_stats",is_f2d:!1,has_prism:this.viewer3DImpl.matman().hasPrism,load_time:r-this.t0,geometry_size:this.model.getGeometryList().geomMemory,meshes_count:this.model.getGeometryList().geoms.length,fragments_count:this.model.getFragmentList().getCount(),load_pack_count:this.loadedPacksCount,urn:this.svfUrn};B.logger.track(s),this.t0=null,this.loadedPacksCount=0,this.svf.partPacksLoadDone=!0,n?this.viewer3DImpl.signalProgress(100,U.ProgressState.LOADING,this.model):this.viewer3DImpl.onLoadComplete(this.model);var a=this.model.getGeometryList();a&&a.printStats()}else j.prototype.onGeomLoadDone.call(this)};var q=n(472);function G(t,e){this.offset=0,this.byteLength=e,this.range=0,this.compressedBuffer=t,this.compressedByteLength=t.length,this.compressedOffset=0,this.decompressEnd=!1,this.resetCount=0,this.convBuf=new ArrayBuffer(8),this.convUint8=new Uint8Array(this.convBuf),this.convUint16=new Uint16Array(this.convBuf),this.convInt32=new Int32Array(this.convBuf),this.convUint32=new Uint32Array(this.convBuf),this.convFloat32=new Float32Array(this.convBuf),this.convFloat64=new Float64Array(this.convBuf),this.COMPRESSED_chunk_SIZE=524288,this.DECOMPRESSED_chunk_SIZE=262144,this.chunks=[],this.chunksByteLengthMax=0,this.chunksByteLengthMin=0,this.chunkPointer=null,this.chunkOffset=0,this.tempchunk={startIdx:0,endIdx:0,buffer:null},this.inflate=this.getInflate(),this.prepare(0,1024)}G.prototype.getInflate=function(){if(!this.inflate){this.inflate=new q.Inflate({level:3,chunkSize:this.DECOMPRESSED_chunk_SIZE});var t=this;this.inflate.onData=function(e){t.chunksByteLengthMax+=e.byteLength,t.chunksByteLengthMax<t.offset&&(e=null,t.chunksByteLengthMin=t.chunksByteLengthMax),t.chunks.push(e)},this.inflate.onEnd=function(){if(t.decompressEnd=!0,t.inflate=null,t.chunksByteLengthMax!=t.byteLength)throw"Decompress error, unexpected size."}}return this.inflate},G.prototype.prepare=function(t,e,n){if(this.chunksByteLengthMin>t&&(this.reset(),this.offset=t,this.range=e),!n){for(var r=Math.floor(t/this.DECOMPRESSED_chunk_SIZE),i=Math.floor(this.chunksByteLengthMin/this.DECOMPRESSED_chunk_SIZE),s=this.chunks.length<r?this.chunks.length:r,a=i;a<s;a++)this.chunks[a]=null;this.chunksByteLengthMin=s*this.DECOMPRESSED_chunk_SIZE}var o=t+(e=e||1);o=o>this.byteLength?this.byteLength:o;for(var h=!1;o>this.chunksByteLengthMax;){var u=this.COMPRESSED_chunk_SIZE;this.compressedOffset+u>=this.compressedByteLength&&(u=this.compressedByteLength-this.compressedOffset,h=!0);var l=new Uint8Array(this.compressedBuffer.buffer,this.compressedOffset,u);if(this.getInflate().push(l,h),this.compressedOffset+=u,h)break}},G.prototype.ensurechunkData=function(t){t=t||1;var e=this.chunks.length,n=Math.floor(this.offset/this.DECOMPRESSED_chunk_SIZE),r=Math.floor((this.offset+t-1)/this.DECOMPRESSED_chunk_SIZE);if(r>=e){var i=(r-e+1)*this.DECOMPRESSED_chunk_SIZE;this.prepare(this.DECOMPRESSED_chunk_SIZE*e,i,!0)}if(n<r){if(this.tempchunk.startIdx>n||this.tempchunk.endIdx<r){var s=(r-n+1)*this.DECOMPRESSED_chunk_SIZE;this.tempchunk.buffer=new Uint8Array(s);for(var a=0,o=n;o<=r;o++)this.tempchunk.buffer.set(this.chunks[o],a),a+=this.DECOMPRESSED_chunk_SIZE;this.tempchunk.startIdx=n,this.tempchunk.endIdx=r}this.chunkPointer=this.tempchunk.buffer}else this.chunkPointer=this.chunks[n];this.chunkOffset=this.offset-n*this.DECOMPRESSED_chunk_SIZE,this.offset+=t},G.prototype.seek=function(t,e,n){this.offset=t,this.range=e,this.prepare(t,e,n)},G.prototype.getBytes=function(t){return this.ensurechunkData(t),new Uint8Array(this.chunkPointer.buffer,this.chunkOffset,t)},G.prototype.getVarints=function(){var t,e=0,n=0;do{this.ensurechunkData(),e|=(127&(t=this.chunkPointer[this.chunkOffset]))<<n,n+=7}while(128&t);return e},G.prototype.getUint8=function(){return this.ensurechunkData(),this.chunkPointer[this.chunkOffset]},G.prototype.getUint16=function(){return this.ensurechunkData(),this.convUint8[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),this.convUint8[1]=this.chunkPointer[this.chunkOffset],this.convUint16[0]},G.prototype.getInt16=function(){var t=this.getUint16();return t>32767&&(t|=4294901760),t},G.prototype.getInt32=function(){var t=this.convUint8;return this.ensurechunkData(),t[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[1]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[2]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[3]=this.chunkPointer[this.chunkOffset],this.convInt32[0]},G.prototype.getUint32=function(){var t=this.convUint8;return this.ensurechunkData(),t[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[1]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[2]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[3]=this.chunkPointer[this.chunkOffset],this.convUint32[0]},G.prototype.getFloat32=function(){var t=this.convUint8;return this.ensurechunkData(),t[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[1]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[2]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),t[3]=this.chunkPointer[this.chunkOffset],this.convFloat32[0]},G.prototype.getFloat64=function(){for(var t=this.convUint8,e=0;e<8;e++)this.ensurechunkData(),t[e]=this.chunkPointer[this.chunkOffset];return this.convFloat64[0]},G.prototype.getString=function(t){var e="";this.ensurechunkData(t);for(var n,r=this.chunkPointer,i=this.chunkOffset,s=this.chunkOffset+t;i<s;i++)e+=String.fromCharCode(r[i]);try{n=decodeURIComponent(escape(e))}catch(t){n=e,debug("Failed to decode string "+n)}return n},G.prototype.reset=function(t){this.resetCount++,debug("InputStream Less Reset: "+this.resetCount),t&&(this.compressedBuffer=t,this.compressedByteLength=t.length),this.offset=0,this.chunks=[],this.chunksByteLengthMax=0,this.chunksByteLengthMin=0,this.compressedOffset=0,this.decompressEnd=!1,this.chunkPointer=null,this.chunkOffset=0,this.inflate=null,this.tempchunk.startIdx=0,this.tempchunk.endIdx=0,this.tempchunk.buffer=null};n(481);var Z=Autodesk.Viewing,W=Autodesk.Viewing.Private;function Q(t,e){Z.Extension.call(this,t,e),this.name="memory-limited",this._registerOriginal=!1}Q.prototype=Object.create(Z.Extension.prototype),Q.prototype.constructor=Q,Q.prototype.load=function(){var t=this;return this.updateProgressBarStyle=function(e){e.model&&e.model.loader&&e.model.loader.pagingProxy&&t.viewer.progressbar&&t.viewer.progressbar.setStyle("memory-limited-progressbar-loading")},this._registerOriginal=Z.FileLoaderManager.unregisterFileLoader("svf"),Z.FileLoaderManager.registerFileLoader("memsvf",["svf"],H),this._registerOriginal&&Z.FileLoaderManager.registerFileLoader("svf",["svf"],W.SvfLoader),this.viewer.addEventListener(Z.MODEL_ROOT_LOADED_EVENT,this.updateProgressBarStyle),!0},Q.prototype.unload=function(){return Z.FileLoaderManager.unregisterFileLoader("memsvf"),Z.FileLoaderManager.unregisterFileLoader("svf"),this._registerOriginal&&Z.FileLoaderManager.registerFileLoader("svf",["svf"],W.SvfLoader),this._registerOriginal=!1,this.viewer.removeEventListener(Z.MODEL_ROOT_LOADED_EVENT,this.updateProgressBarStyle),this.viewer.progressbar&&this.viewer.progressbar.removeStyle("memory-limited-progressbar-loading"),!0},Q.prototype.activate=function(){return!1},Q.prototype.deactivate=function(){return!1},Q.prototype.isActive=function(){return!1},Q.prototype.getMemoryInfo=function(){var t,e=this.viewer.impl.modelQueue(),n={limit:0,effectiveLimit:0,loaded:0};function r(e){for(var r=0;r<e.length;++r){var i=e[r];i.loader&&i.loader.pagingProxy&&(t=i.loader.pagingProxy.getMemoryInfo(),n.limit+=t.limit,n.effectiveLimit+=t.effectiveLimit,n.loaded+=t.loaded)}}return r(e.getModels()),r(e.getHiddenModels()),t?n:null};var Y=AutodeskNamespace("Autodesk.Viewing.Extension.MemoryLimited");Y.MemoryLimitedExtension=Q,Y.SvfLoaderML=H,Y.SvfPagingProxy=_,Y.InputStreamML=G,Z.theExtensionManager.registerExtension("Autodesk.MemoryLimited",Q)},86:function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var i=65535&t|0,s=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{s=s+(i=i+e[r++]|0)|0}while(--a);i%=65521,s%=65521}return i|s<<16|0}},87:function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var s=r,a=i+n;t^=-1;for(var o=i;o<a;o++)t=t>>>8^s[255&(t^e[o])];return-1^t}},88:function(t,e,n){"use strict";var r=n(22),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new r.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function h(t,e){if(e<65534&&(t.subarray&&s||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,i,s,a,o=t.length,h=0;for(s=0;s<o;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(h),a=0,s=0;a<h;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return h(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,s,o=e||t.length,u=new Array(2*o);for(r=0,n=0;n<o;)if((i=t[n++])<128)u[r++]=i;else if((s=a[i])>4)u[r++]=65533,n+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&n<o;)i=i<<6|63&t[n++],s--;s>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return h(u,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},89:function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},90:function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}});
//# sourceMappingURL=MemoryLimited.min.js.map