/*!
 * LMV v7.51.0
 * 
 * Copyright 2021 Autodesk, Inc.
 * All rights reserved.
 * 
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 * 
 * Autodesk Forge Viewer Usage Limitations:
 * 
 * The Autodesk Forge viewer can only be used to view files generated by
 * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be
 * delivered from an Autodesk hosted URL.
 */
Autodesk.Extensions.FusionSim=function(e){var t={};function i(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(s,o,function(t){return e[t]}.bind(null,o));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=801)}({2:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var o=(a=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),n=s.sources.map((function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"}));return[i].concat(n).concat([o]).join("\n")}var a;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var s={},o=0;o<this.length;o++){var n=this[o][0];"number"==typeof n&&(s[n]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&s[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},3:function(e,t,i){var s,o,n={},a=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=s.apply(this,arguments)),o}),r=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var s=r.call(this,e,i);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}}(),d=null,u=0,c=[],p=i(5);function m(e,t){for(var i=0;i<e.length;i++){var s=e[i],o=n[s.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](s.parts[a]);for(;a<s.parts.length;a++)o.parts.push(y(s.parts[a],t))}else{var r=[];for(a=0;a<s.parts.length;a++)r.push(y(s.parts[a],t));n[s.id]={id:s.id,refs:1,parts:r}}}}function f(e,t){for(var i=[],s={},o=0;o<e.length;o++){var n=e[o],a=t.base?n[0]+t.base:n[0],r={css:n[1],media:n[2],sourceMap:n[3]};s[a]?s[a].parts.push(r):i.push(s[a]={id:a,parts:[r]})}return i}function h(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=c[c.length-1];if("top"===e.insertAt)s?s.nextSibling?i.insertBefore(t,s.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),c.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(e.insertAt.before,i);i.insertBefore(t,o)}}function S(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function A(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var s=function(){0;return i.nc}();s&&(e.attrs.nonce=s)}return v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function y(e,t){var i,s,o,n;if(t.transform&&e.css){if(!(n="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=n}if(t.singleton){var a=u++;i=d||(d=A(t)),s=b.bind(null,i,a,!1),o=b.bind(null,i,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),s=L.bind(null,i,t),o=function(){S(i),i.href&&URL.revokeObjectURL(i.href)}):(i=A(t),s=N.bind(null,i),o=function(){S(i)});return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=f(e,t);return m(i,t),function(e){for(var s=[],o=0;o<i.length;o++){var a=i[o];(r=n[a.id]).refs--,s.push(r)}e&&m(f(e,t),t);for(o=0;o<s.length;o++){var r;if(0===(r=s[o]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete n[r.id]}}}};var g,T=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function b(e,t,i,s){var o=i?"":s.css;if(e.styleSheet)e.styleSheet.cssText=T(t,o);else{var n=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(n,a[t]):e.appendChild(n)}}function N(e,t){var i=t.css,s=t.media;if(s&&e.setAttribute("media",s),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function L(e,t,i){var s=i.css,o=i.sourceMap,n=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||n)&&(s=p(s)),o&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([s],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(a),r&&URL.revokeObjectURL(r)}},5:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,s=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,n=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)?e:(o=0===n.indexOf("//")?n:0===n.indexOf("/")?i+n:s+n.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},546:function(e,t,i){var s=i(547);"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(3)(s,o);s.locals&&(e.exports=s.locals)},547:function(e,t,i){(e.exports=i(2)(!1)).push([e.i,'.toolbar-simulationIcon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAINJREFUeNpiYKAxYIQxLl299p9ahuppazFiCFLLAnRzmGgdRDS3gIUWwTRwPsAW+5T6ioWayRGbY0i1oBGI60nxHbFxcAGIDYEubqA4iJBdhTVH0iiIDID4PNCARlITAKnJtH7IpyIGWgfRaEajQ0ajeRDhyL1kZzRSK5x6hhEHAAIMAPgbTyRsh4JhAAAAAElFTkSuQmCC")}.toolbar-simulationSetupIcon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAOxJREFUeNpi/P//P8NAAiaGAQajDsDnAFISx38S1Y9GwchwwDuktJGGO/UACyIcGBtAV/MAi5oHSPpd8JgPxoRCgBENo4MCIsUYyA0BBiLwASTfH8ARgkq49FPDAQpIFimg6ScYBSxUSGwPgHgiEhsG3kMx/jjGUxv+xxHv2IAAlP5Aquup5YDRgmjUAQPuAFAuuADFAvQuCQWA+AJSYXQBKkaMXoodYADEH7BUSB+gchQ7AF9tiMtykhzBSGa/gFRNjNROhIJA/BGIFYlkUz0XBEBT/AMi2WTlAmKqYVLYVE0DoyXh8HEAQIABAH7a/BD95CkUAAAAAElFTkSuQmCC")}.simulation-colorscale{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAABCAYAAABADtw1AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAADdJREFUWIXt1LENACAMxEBn/6HDCFAg5QUurnflgm4AStJ/GtB9BDRIOwELkg4Q0PCc6f1ImgEs9yMAHrvm2CUAAAAASUVORK5CYII=");background-size:contain;-moz-transform:rotate(90deg);-webkit-transform:rotate(90deg)}.simulation-container{min-height:35px !important;height:510px !important;position:absolute !important;background-color:rgba(34,34,34,0.9) !important}.simulation-container-Collapse{height:356px !important}.position-left-corner{top:150px;left:220px}.position-right-corner{right:100px;top:170px}.simulation-resultGroup,.simulation-resultTypes,.simulation-resultSteps{position:relative !important;width:100% !important;color:black !important;height:22px !important;border:1px !important;-webkit-box-sizing:border-box !important;-moz-box-sizing:border-box !important;box-sizing:border-box !important}.sim-div-Results{position:absolute !important;top:51px !important;left:5px !important;right:5px !important}.simulation-resultTypes,.simulation-resultSteps{margin-top:5px !important}.toolbar-simulationIcon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVJJREFUeNrslzFOwzAUhh3ETo7AxJoeIQOXYMtAl06dGFAHD52YcgS69wgM5QSElSlHSE9gnqXf0lMi288GlErE0qfW7znPv1/+SElhjFFzjis181gE/ERAQ/SgyS1SZJqwI6pR7JNY/WUHbPETeCYOLHdAzOXlQmwHBLya6bCxGvjy0drXAW0lscX/I05VsXbbWB3Ja8xbYkjxgMbmN5ifUaTH/DYzry/uMfR1wJ7khbjD/I3Yj1q8I+6F+S/iCZ0RmdCNLmLCFQiZsGOxyV6xW1Cxe7om3sED4h9AIebya3baKucx1MTAVIdOFeqWu3ZAzclePgE9sSHakQDDBG6wzq3VnrUtWysWkHKqlG4lC3AXnYhH/CrjH7G1YgGLBxYPzO4BS/mLHih9++S8kKR6IIhUgMKbj9QDtbTu7C+lKR0Y0zAPNLl1iuXb8N8L+BZgAFKZnMHoWj7GAAAAAElFTkSuQmCC")}.sim-div-options{top:95px;margin-top:5px;left:5px;right:5px;position:absolute}.sim-div-options-NLSS{top:125px !important}.sim-undeformedOption{width:14px;height:14px}.sim-undeformedOptionText{color:white !important;font-weight:200 !important}.sim-line1{position:absolute;top:110px;width:100%;border-top:1px solid black}.sim-div-colorscale{left:5px;right:5px;height:220px;margin-top:5px;position:absolute}.sim-div-colorscale-top1{top:120px}.sim-div-colorscale-top1-NLSS{top:140px !important}.sim-div-colorscale-top2{top:100px}.sim-div-colorscale-Collapse{cursor:pointer}.simulation-colorscale{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAABCAYAAABADtw1AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAADdJREFUWIXt1LENACAMxEBn/6HDCFAg5QUurnflgm4AStJ/GtB9BDRIOwELkg4Q0PCc6f1ImgEs9yMAHrvm2CUAAAAASUVORK5CYII=");background-size:contain;-moz-transform:rotate(90deg);-webkit-transform:rotate(90deg);width:220px;height:20px;left:-70px;top:110px;position:absolute;background-repeat:repeat}.simulation-colorscale-NLSS{width:190px !important}.sim-colorScaleTopText,.sim-colorScaleBottomText{left:52px;color:white !important;position:relative !important}.sim-colorScaleTopText{top:0px}.sim-colorScaleTopText-NLSS{top:13px !important}.sim-colorScaleBottomText{top:195px}.sim-colorScaleBottomText-NLSS{top:178px !important}.sim-line2{position:absolute;top:360px;width:100%;border-top:1px solid black}.sim-div-Table{position:absolute !important;top:370px !important;left:5px !important;right:5px !important;margin-top:5px;cursor:pointer}.sim-div-Table-Collapse{height:0px !important;transition:height 0s 10000s;visibility:hidden !important}.sim-table{position:relative !important;color:white !important;width:100% !important;margin:0 0 0 0;-webkit-box-sizing:border-box !important;-moz-box-sizing:border-box !important;box-sizing:border-box !important}.sim-hide{visibility:hidden !important}\n',""])},801:function(e,t,i){"use strict";i.r(t),i.d(t,"Simulation",(function(){return c}));var s=function(){function e(){this.loadCase=-1,this.loadCaseName="",this.constraintsNode=-1,this.constraintNodes=[],this.loadsNode=-1,this.loadNodes=[],this.resultsNode=-1,this.undeformedResults=-1,this.resultTypes={},this.resultGroups={},this.modalResults={}}e.prototype={constructor:e};var t=e.prototype;return t.associateResult=function(e,t){this.resultTypes[t]=e},t.associateResultGroup=function(e,t){this.resultGroups[t]=e},t.associateModalResult=function(e,t){var i=[];if(i=this.modalResults[e])i.push(t);else{var s=[];s.push(t),i=s}this.modalResults[e]=i},t.isImportant=function(e){return this.loadCase===e||(-1!==this.loadNodes.indexOf(e)||(-1!==this.constraintNodes.indexOf(e)||(this.resultsNode===e||(this.constraintsNode===e||this.loadsNode===e))))},t.shouldDisplayInTree=function(e){return this.loadCase===e||(-1!==this.loadNodes.indexOf(e)||(-1!==this.constraintNodes.indexOf(e)||this.resultsNode!==e&&(this.constraintsNode===e||this.loadsNode===e)))},t.reset=function(){this.loadCase=-1,this.loadCaseName="",this.constraintsNode=-1,this.constraintNodes=[],this.loadsNode=-1,this.loadNodes=[],this.resultsNode=-1,this.undeformedResults=-1,this.resultTypes={},this.resultGroups={},this.modalResults={}},e}(),o=function(){function e(){this.SimulationStudies={LSS:"SimCaseLSS",NLSS:"SimCaseNLSS",MODAL:"SimCaseModalFrequencies",BUCKLING:"SimCaseStructuralBuckling",THERMAL:"SimCaseThermalSteady",THERMALSTRESS:"SimCaseThermalStress",SHAPEGENERATOR:"SimCaseTopOpt",NAMES:{UNKNOWN:"Unknown",LSS:"Static Stress",NLSS:"Nonlinear Static Stress",MODAL:"Modal Frequencies",BUCKLING:"Structural Buckling",THERMAL:"Thermal",THERMALSTRESS:"Thermal Stress",SHAPEGENERATOR:"Shape Optimization"}},this.studyNode,this.loadCases={},this.pointMasssesNode=-1,this.pointMassNodes=[],this.connectorsNode=-1,this.connectorNodes=[],this.activeLoadCaseKey=null,this.modelNodes=[],this.analysisType=this.SimulationStudies.LSS,this.modelStructurePanel=null,this.simExt=null,this.simNodes=[]}e.prototype={constructor:e};var t=e.prototype;return t.studyName=function(){var e=this.SimulationStudies.NAMES.UNKNOWN;return this.analysisType===this.SimulationStudies.LSS?e=this.SimulationStudies.NAMES.LSS:this.analysisType===this.SimulationStudies.NLSS?e=this.SimulationStudies.NAMES.NLSS:this.analysisType===this.SimulationStudies.MODAL?e=this.SimulationStudies.NAMES.MODAL:this.analysisType===this.SimulationStudies.BUCKLING?e=this.SimulationStudies.NAMES.BUCKLING:this.analysisType===this.SimulationStudies.THERMAL?e=this.SimulationStudies.NAMES.THERMAL:this.analysisType===this.SimulationStudies.THERMALSTRESS?e=this.SimulationStudies.NAMES.THERMALSTRESS:this.analysisType===this.SimulationStudies.SHAPEGENERATOR&&(e=this.SimulationStudies.NAMES.SHAPEGENERATOR),e},t.reset=function(){this.studyNode=-1,this.modelNodes=[],this.analysisType=this.SimulationStudies.LSS,this.loadCases={},this.pointMasssesNode=-1,this.pointMassNodes=[],this.connectorsNode=-1,this.connectorNodes=[],this.activeLoadCaseKey=null,this.simNodes=[],this.modelStructurePanel=null},t.addLoadCase=function(e,t,i){var o=new s;return o.loadCase=i,o.loadCaseName=e,this.loadCases["SIM_LOAD_CASE"+t]=o,1===Object.keys(this.loadCases).length&&(this.activeLoadCaseKey="SIM_LOAD_CASE"+t),o},t.shouldDisplayInTree=function(e){var t=e.dbId;if(this.simNodes.indexOf(t)<0)return!1;if(this.studyNode===t)return!0;if(null===this.activeLoadCaseKey)return!1;if(this.pointMasssesNode===t)return!0;if(-1!==this.pointMassNodes.indexOf(t))return!0;if(-1!==this.connectorNodes.indexOf(t))return!0;if(this.connectorsNode===t)return!0;for(var i=Object.keys(this.loadCases),s=0;s<i.length;s++){var o=this.loadCases[i[s]];if(o.isImportant(t))return o.shouldDisplayInTree(t)}return!1},e}(),n=Autodesk.Viewing,a=(n.Extension,n.Extensions,n.UI),r=n.i18n,l=function(){function e(){var e,t,i,s,o,n,l,d,u,c,p,m,f,h=this;a.DockingPanel.prototype.initialize.call(h);var S=h.container;S.classList.add("property-panel","simulation-container","position-"+(h.position||"left")+"-corner"),S.dockRight=!0;var A=h.getDocument();s=h.legend=A.createElement("div");var v=A.createDocumentFragment(),y=A.createElement("div");y.classList.add("sim-div-Results"),(i=h.resultsGroup=A.createElement("select")).classList.add("simulation-resultGroup"),y.appendChild(i),(o=h.resultTypes=A.createElement("select")).classList.add("simulation-resultTypes"),o.id="resultTypes",y.appendChild(o),(n=h.resultSteps=document.createElement("select")).classList.add("simulation-resultSteps"),n.id="resultSteps",y.appendChild(n),v.appendChild(y);var g=h.divResultsOption=A.createElement("div");g.classList.add("sim-div-options"),(t=h.optUndeformed=A.createElement("input")).classList.add("sim-undeformedOption"),t.setAttribute("type","checkbox"),t.setAttribute("name","optUndeformed"),t.setAttribute("id","Undeformed"),t.addEventListener("change",(function(e){var t=h.simDef.loadCases[h.simDef.activeLoadCaseKey];null!==t&&-1!==t.undeformedResults&&(h.optUndeformed.checked?h.viewer.show(t.undeformedResults):h.viewer.hide(t.undeformedResults))})),t.checked=!1,g.appendChild(t),t.checked=!1,(e=h.labelUndeformed=A.createElement("label")).classList.add("sim-undeformedOptionText"),e.htmlFor="Undeformed",e.setAttribute("data-i18n","Show Undeformed Model"),e.textContent=r.translate("Show Undeformed Model"),g.appendChild(e),v.appendChild(g),(l=h.divColorScale=A.createElement("div")).classList.add("sim-div-colorscale"),l.classList.add("sim-div-colorscale-top1"),(d=h.colorScale=A.createElement("div")).classList.add("simulation-colorscale"),l.appendChild(d),(u=h.colorScaleTopText=A.createElement("div")).classList.add("sim-colorScaleTopText"),u.innerHTML="- 3333",l.appendChild(u),(c=h.colorScaleBottomText=A.createElement("div")).classList.add("sim-colorScaleBottomText"),c.innerHTML="- 3333",l.appendChild(c),v.appendChild(l),(p=h.line2=A.createElement("hr")).classList.add("sim-line2"),v.appendChild(p);var T=A.createElement("div");T.classList.add("sim-div-Table"),T.addEventListener("click",(function(e){T.classList.add("sim-div-Table-Collapse"),S.classList.add("simulation-container-Collapse"),l.classList.add("sim-div-colorscale-Collapse")})),l.addEventListener("click",(function(e){T.classList.remove("sim-div-Table-Collapse"),S.classList.remove("simulation-container-Collapse"),l.classList.remove("sim-div-colorscale-Collapse")})),m=h.tbl=A.createElement("table"),f=h.tblBody=A.createElement("tbody"),m.appendChild(f),m.classList.add("sim-table"),T.appendChild(m),v.appendChild(T),s.appendChild(v),S.appendChild(s)}function t(e,t){for(var i=0;i<e.length;++i){var s=e[i];if(s.displayName===t)return s.displayValue}return null}function i(e,t){var i=!1,s='""';t<=1&&(i=!0,s="none"),e.disabled=i,function(e,t){if(e&&t){var i=e.style.cssText.trim();";"===i.substring(i.length-1)||(i+=";");var s=[];for(var o in t)s[s.length]=[o,t[o]].join(":");s=s.join(";"),e.style.cssText=s}}(e,{"-webkit-appearance":s,"-moz-appearance":s,appearance:s})}function s(e,t){t=t||{},this.viewer=e,this.simDef=null,this.setGlobalManager(e.globalManager),a.DockingPanel.call(this,e.container,"Simulation-Panel","Simulation Results"),this.position=t.position||"right"}s.prototype=Object.create(a.DockingPanel.prototype);var l=s.prototype;return l.constructor=s,l.initialize=function(){var t=this;e.call(t),t.resultsGroup.addEventListener("change",(function(e){var i=t.simDef,s=i.loadCases[t.simDef.activeLoadCaseKey];t.viewer.hide(s.resultsNode);var o="fillResultTypes";i.modalAnalysis?o="fillModalResultTypes":i.analysisType===i.SimulationStudies.NLSS&&(o="fillNLSSResultTypes"),t[o](i.activeLoadCaseKey,t.resultsGroup.value),setTimeout((function(){t.setSimObjectsVisibility()}),100)})),t.resultTypes.addEventListener("change",(function(){var e=t.simDef.loadCases[t.simDef.activeLoadCaseKey];t.viewer.hide(e.resultsNode),t.setSimObjectsVisibility()})),t.resultSteps.addEventListener("change",(function(){var e=t.simDef.loadCases[t.simDef.activeLoadCaseKey];t.viewer.hide(e.resultsNode),t.updateType(),t.setSimObjectsVisibility()}))},l.updateType=function(){var e=document.getElementById("resultSteps").selectedIndex;document.getElementById("resultTypes").selectedIndex=e},l.setSimulationDef=function(e){var i,s,o,n,a=this;function l(e,t,i){}(a.simDef=e,i=1*e.studyNode,-1===e.undeformedResults?(a.optUndeformed.classList.add("sim-hide"),a.labelUndeformed.classList.add("sim-hide"),a.divColorScale.classList.remove("sim-div-colorscale-top1"),a.divColorScale.classList.add("sim-div-colorscale-top2")):e.analysisType===e.SimulationStudies.NLSS?(a.resultSteps.classList.remove("sim-hide"),a.divResultsOption.classList.add("sim-div-options-NLSS"),a.divColorScale.classList.remove("sim-div-colorscale-top1"),a.divColorScale.classList.add("sim-div-colorscale-top1-NLSS"),a.colorScale.classList.add("simulation-colorscale-NLSS"),a.colorScaleTopText.classList.add("sim-colorScaleTopText-NLSS"),a.colorScaleBottomText.classList.add("sim-colorScaleBottomText-NLSS")):(a.resultSteps.classList.add("sim-hide"),a.divResultsOption.classList.remove("sim-div-options-NLSS"),a.divColorScale.classList.add("sim-div-colorscale-top1"),a.divColorScale.classList.remove("sim-div-colorscale-top1-NLSS"),a.colorScale.classList.remove("simulation-colorscale-NLSS"),a.colorScaleTopText.classList.remove("sim-colorScaleTopText-NLSS"),a.colorScaleBottomText.classList.remove("sim-colorScaleBottomText-NLSS")),a.viewer.getProperties(i,(function(e){var i=t(e.properties,"Name");a.setTitle(i)}),l),s=r.translate(e.studyName()),o=a.tblBody,a.rowType)?a.rowType.cells[1].innerHTML=s:[{name:"rowType",content:[r.translate("Analysis Type"),s]},{name:"rowNodes",content:[r.translate("Nodes"),"1872"]},{name:"rowElements",content:[r.translate("Elements"),"1084"]},{name:"rowMin",content:[r.translate("Min"),"0.000E+02 MPa"]},{name:"rowMax",content:[r.translate("Max"),"5.117E+02 MPa"]}].forEach((function(e){a[e.name]=o.insertRow(-1),e.content.forEach((function(t){a[e.name].insertCell(-1).innerHTML=t}))}));(n=a.viewer).model.getObjectTree((function(t){var i,s;a.instanceTree=t,e.analysisType===e.SimulationStudies.MODAL||e.analysisType===e.SimulationStudies.BUCKLING?(s="fillResultsGroup",i="fillModalResultTypes"):e.analysisType===e.SimulationStudies.NLSS?(s="fillNLSSResultsGroup",i="fillNLSSResultTypes"):(s="fillResultsGroup",i="fillResultTypes"),a[s](a.simDef.activeLoadCaseKey),a[i](a.simDef.activeLoadCaseKey,a.resultsGroup.value),setTimeout((function(){e.simExt.showResultsDlg(!0),e.simExt.applySettings(),a.setSimObjectsVisibility()}),500)}));var d=+a.simDef.loadCases[a.simDef.activeLoadCaseKey].resultsNode;n.getProperties(d,(function(e){var i=t(e.properties,"Elements"),s=t(e.properties,"Nodes");a.rowElements.cells[1].innerText=i,a.rowNodes.cells[1].innerText=s}),l),e.analysisType===e.SimulationStudies.NLSS&&a.updateType()},l.processNodes=function(e,i){var s=[],n=this.simDef,a=this.viewer,l=null;n?n.reset():n=new o,e.enumNodeChildren(e.getRootId(),(function(e){s[s.length]=e}),!0),function e(){var o,d;s.length>0?(o=s.shift(),d=e,o&&a&&a.getProperties(o,(function(e){var i=e.properties,s=t(e.properties,"A1C6011B-E1A6-4ADF-975D-A0003C592F87");if(s){switch(s){case"SIM_STUDY":n.studyNode=o;var a=t(e.properties,"Study Type");n.analysisType=a;break;case"SIM_POINT_MASSES":n.pointMasssesNode=o;break;case"SIM_POINT_MASS":n.pointMassNodes.push(o);break;case"SIM_CONNECTORS":n.connectorsNode=o;break;case"SIM_CONNECTOR":n.connectorNodes.push(o);break;case"SIM_LOAD_CASE":l=n.addLoadCase(t(e.properties,"Name"),o,o);break;case"SIM_CONSTRAINTS":null==l&&(l=n.addLoadCase(r.translate("Load Case:1"),0,0)),l.constraintsNode=o;break;case"SIM_CONSTRAINT":l.constraintNodes.push(o);break;case"SIM_LOADS":null==l&&(l=n.addLoadCase(r.translate("Load Case:1"),0,0)),l.loadsNode=o;break;case"SIM_LOAD":l.loadNodes.push(o);break;case"SIM_RESULTS_SCALAR_PLOT":null==l&&(l=n.addLoadCase(r.translate("Load Case:1"),0,0)),n.analysisType===n.SimulationStudies.LSS||n.analysisType===n.SimulationStudies.NLSS||n.analysisType===n.SimulationStudies.THERMAL||n.analysisType===n.SimulationStudies.THERMALSTRESS||n.analysisType===n.SimulationStudies.SHAPEGENERATOR?l.associateResult(t(i,"Name"),o):l.associateModalResult(t(i,"Name"),o);break;case"SIM_RESULTS_GROUP":null==l&&(l=n.addLoadCase(r.translate("Load Case:1"),0,0)),n.analysisType!==n.SimulationStudies.LSS&&n.analysisType!==n.SimulationStudies.NLSS&&n.analysisType!==n.SimulationStudies.THERMAL&&n.analysisType!==n.SimulationStudies.THERMALSTRESS&&n.analysisType!==n.SimulationStudies.SHAPEGENERATOR||l.associateResultGroup(t(i,"Name"),o);break;case"SIM_RESULTS":null==l&&(l=n.addLoadCase(r.translate("Load Case:1"),0,0)),l.resultsNode=o;break;case"SIM_RESULTS_UNDEFORMED_FEATURE_EDGES_PLOT":null==l&&(l=n.addLoadCase(r.translate("Load Case:1"),0,0)),l.undeformedResults=o}n.simNodes.push(o)}else n.modelNodes.push(o);d()}),(function(e,t,i){d()}))):i(n)}()},l.initModel=function(e,t){var i=this;i.viewer&&(i.processNodes(e,(function(e){e.simExt=t,i.setSimulationDef(e)})),i.addEventListener(i.viewer,n.SELECTION_CHANGED_EVENT,(function(e){var t=e.nodeArray;t&&i.handleClick(t[0])})))},l.fillResultsGroup=function(e){if(e){var t=this.simDef,s=t.loadCases[e],o=this.resultsGroup,n=this.getDocument();o.options.length=0;for(var a=Object.keys(t.analysisType===t.SimulationStudies.MODAL||t.analysisType===t.SimulationStudies.BUCKLING?s.modalResults:s.resultGroups),l=0;l<a.length;l++){var d=n.createElement("option");d.value=a[l];var u=t.analysisType===t.SimulationStudies.MODAL||t.analysisType===t.SimulationStudies.BUCKLING?a[l]:s.resultGroups[a[l]];d.setAttribute("data-i18n",u),d.textContent=r.translate(u),o.add(d)}i(o,o.options.length)}},l.fillNLSSResultsGroup=function(e){var t=this.simDef.loadCases[e],s=this.resultsGroup,o=this.getDocument();s.options.length=0;var n,a=Object.keys(t.resultGroups);n=[];for(var l=0;l<a.length;l++){var d=t.resultGroups[a[l]];if(!n.includes(d)){n.push(d);var u=o.createElement("option");u.value=d,u.setAttribute("data-i18n",d),u.textContent=r.translate(d),s.add(u)}}i(s,s.options.length)},l.fillResultTypes=function(e,s){var o=this,n=o.viewer,a=o.resultTypes,l=o.resultsGroup,d=o.simDef.loadCases[e];a.options.length=0;var u=+s;function c(e,t,i){}n.getProperties(u,(function(e){var s="Result group",u=t(e.properties,s),p=o.getDocument();function m(e){if(t(e.properties,s)===u){var o=p.createElement("option");o.value=e.dbId;var n=d.resultTypes[e.dbId];o.setAttribute("data-i18n",n),o.textContent=r.translate(n),a.add(o),i(a,a.options.length,l.options.length)}}for(var f=Object.keys(d.resultTypes),h=0;h<f.length;h++){var S=+f[h];n.getProperties(S,m,c)}}),c)},l.fillModalResultTypes=function(e,s){var o=this,n=o.resultTypes,a=o.resultsGroup,r=o.simDef.loadCases[e];n.options.length=0;var l=s,d=o.getDocument();function u(e){if(t(e.properties,"Result type")===l){var s=d.createElement("option");s.value=e.dbId;var r=t(e.properties,"Mode");s.setAttribute("data-i18n",r),s.textContent=r,o.resultTypes.add(s),i(n,n.options.length,a.options.length)}}function c(e,t,i){}for(var p=r.modalResults[l]||[],m=0;m<p.length;m++){var f=+p[m];o.viewer.getProperties(f,u,c)}},l.fillNLSSResultTypes=function(e,s){var o=this.viewer,n=this.resultTypes,a=this.resultSteps,l=this.simDef.loadCases[e],d=this.getDocument(),u=+s;function c(e,t,i){}o.getProperties(u,(function(e){function u(e){var s=d.createElement("option");s.value=e.dbId;var o=t(e.properties,"Result type");s.setAttribute("data-i18n",o),s.textContent=r.translate(o),n.add(s),i(n,0);var l=d.createElement("option");l.value=e.dbId;var u=t(e.properties,"Mode"),c=u.indexOf(":");-1!=c&&(u=u.substr(0,c)),l.setAttribute("data-i18n",u),l.textContent=r.translate(u),a.add(l)}d.getElementById("resultTypes").options.length=0,d.getElementById("resultSteps").options.length=0;for(var p=Object.keys(l.resultGroups).map((function(e){return l.resultGroups[e]})),m=Object.keys(l.resultTypes),f=0;f<p.length;f++)if(s===p[f]){var h=+m[f];o.getProperties(h,u,c)}}),c)},l.uninitialize=function(){a.DockingPanel.prototype.uninitialize.call(this),this.viewer=null},l.setTitle=function(e,t){e||(e="Simulations",(t=t||{}).localizeTitle=!0),a.DockingPanel.prototype.setTitle.call(this,e,t)},l.setModelNodesVisible=function(e){var t=this.viewer;if(this.simDef){var i=this.simDef.modelNodes;if(i&&i.length>0)for(var s=0;s<i.length;s++)t[e?"show":"hide"](i[s])}},l.setNodeVisibility=function(e,t){this.viewer[t?"show":"hide"](e)},l.isSimStudyNode=function(e){return!!this.simDef.studyNode&&this.simDef.studyNode===e},l.handleClick=function(e){var t=this;if(null===t.simDef)return!1;var i=t.simDef.loadCases[t.simDef.activeLoadCaseKey];if(null===i)return!1;for(var s=Object.keys(t.simDef.loadCases),o=0;o<s.length;o++){var n,a=t.simDef.loadCases[s[o]];if(a.isImportant(e)&&i!==a)return-1!==i.loadsNode&&t.viewer.hide(i.loadsNode),-1!==i.constraintsNode&&t.viewer.hide(i.constraintsNode),-1!==i.undeformedResults&&t.viewer.hide(i.undeformedResults),-1!==i.resultsNode&&t.viewer.hide(i.resultsNode),-1!==t.simDef.connectorsNode&&t.viewer.hide(t.simDef.connectorsNode),t.simDef.activeLoadCaseKey=s[o],t.fillResultsGroup(t.simDef.activeLoadCaseKey),n=t.simDef.analysisType===t.simDef.SimulationStudies.MODAL||t.simDef.analysisType===t.simDef.SimulationStudies.BUCKLING?"fillModalResultTypes":t.simDef.analysisType===t.simDef.SimulationStudies.NLSS?"fillNLSSResultTypes":"fillResultTypes",t[n](t.simDef.activeLoadCaseKey,t.resultsGroup.value),setTimeout((function(){t.simDef.simExt.showResultsDlg(!0),t.setSimObjectsVisibility()}),500),!0}return!1},l.setSimObjectsVisibility=function(e){var i=this,s=i.simDef.loadCases[i.simDef.activeLoadCaseKey];if(!i.resultTypes||0===i.resultTypes.options.length||null===s)return i.setModelNodesVisible(!0),void i.simDef.simExt.showResultsDlg(!1);var o=+i.resultTypes.value;i.setModelNodesVisible(!1),-1!==o&&i.viewer.show(o),-1!==s.loadsNode&&i.viewer.show(s.loadsNode),-1!==s.constraintsNode&&i.viewer.show(s.constraintsNode),i.optUndeformed.checked&&-1!==s.undeformedResults&&i.viewer.show(s.undeformedResults),-1!==i.simDef.connectorsNode&&i.viewer.show(i.simDef.connectorsNode),i.viewer.getProperties(o,(function(e){var s=t(e.properties,"Minimal value"),o=t(e.properties,"Maximal value"),n=t(e.properties,"Scale reversed"),a=t(e.properties,"Unit");i.rowMin.cells[1].innerText=s+" "+a,i.rowMax.cells[1].innerText=o+" "+a;var r=t(e.properties,"Lower referential value"),l=t(e.properties,"Upper referential value");"True"===n?(i.colorScale.style.transform="rotate(90deg)",i.colorScale.style.moztransform="rotate(90deg)",i.colorScale.style.webkittransform="rotate(90deg)"):(i.colorScale.style.transform="rotate(-90deg)",i.colorScale.style.moztransform="rotate(-90deg)",i.colorScale.style.webkittransform="rotate(-90deg)"),i.colorScaleTopText.innerHTML="- "+l+" "+a,i.colorScaleBottomText.innerHTML="- "+r+" "+a}),(function(e,t,i){}))},s}();function d(e,t,i){Autodesk.Viewing.Extensions.ViewerModelStructurePanel.call(this,e.viewer,t,i),this.viewer=e.viewer,this.ext=e}d.prototype=Object.create(Autodesk.Viewing.Extensions.ViewerModelStructurePanel.prototype),d.prototype.constructor=d,d.prototype.setGallery=function(e){this.simGalleryPanel=e},d.prototype.initialize=function(){Autodesk.Viewing.Extensions.ViewerModelStructurePanel.prototype.initialize.call(this)},d.prototype.isSimResultsNode=function(e){return!!(this.simGalleryPanel&&this.simGalleryPanel.simDef&&this.simGalleryPanel.simDef.resultsNode)&&this.simGalleryPanel.simDef.resultsNode==e},d.prototype.isSimStudyNode=function(e){return!!(this.simGalleryPanel&&this.simGalleryPanel.simDef&&this.simGalleryPanel.simDef.studyNode)&&this.simGalleryPanel.simDef.studyNode==e},d.prototype.isModelNode=function(e){return!!(this.simGalleryPanel&&this.simGalleryPanel.simDef&&this.simGalleryPanel.simDef.modelNodes&&0!=this.simGalleryPanel.simDef.modelNodes.length)&&-1!==this.simGalleryPanel.simDef.modelNodes.indexOf(e)},d.prototype.shouldInclude=function(e){if(!this.simGalleryPanel||!this.simGalleryPanel.simDef)return!1;if(this.isModelNode(e))return!0;if(this.isSimStudyNode(e))return!0;for(var t=this.simGalleryPanel.simDef,i=Object.keys(t.loadCases),s=0;s<i.length;s++){if(t.loadCases[i[s]].resultsNode===e)return!1}return!0},d.prototype.onClick=function(e,t){Autodesk.Viewing.Extensions.ViewerModelStructurePanel.prototype.onClick.call(this,e,t),this.simGalleryPanel.handleClick(e)},d.prototype.expandStudyNode=function(){this.simGalleryPanel.simDef.studyNode&&this.tree.setCollapsed(this.simGalleryPanel.simDef.studyNode,!1)};i(546);var u=Autodesk.Viewing;u.GEOMETRY_LOAD_START="geometryLoadStarted";var c=function(){var e={},t=!1;function i(i,s){var o=this;for(var n in s=s||{},e)s[n]=s[n]||e[n];u.Extension.call(o,i,s),this.name="fusionsim",i.addEventListener(u.GEOMETRY_LOAD_START,(function(e){t&&o.unload(),"Autodesk.Fusion360.Simulation"===e.data.extensions?t=!0:(o.unload(),t=!1)})),i.addEventListener(u.GEOMETRY_LOADED_EVENT,(function(e){o.load()}))}i.prototype=Object.create(u.Extension.prototype);var s=i.prototype;return s.constructor=i,s.load=function(){var e=this,t=e.viewer;return!t.model||(e.galleryPanel=new l(e.viewer),e.viewer.addPanel(e.galleryPanel),e.simButton=new u.UI.Button("toolbar-simulation"),e.simButton.setVisible(!1),e.simButton.setToolTip("Simulation Results"),e.simButton.onClick=function(t){var i=e.galleryPanel.isVisible();i?e.deactivate(e.galleryPanel):e.activate(e.galleryPanel),e.simButton.setState(i?u.UI.Button.State.INACTIVE:u.UI.Button.State.ACTIVE)},e.simButton.setIcon("toolbar-simulationIcon"),t.settingsTools.addControl(e.simButton,{index:1}),e.hideLines=t.prefs.get("lineRendering"),e.ghosting=t.prefs.get("ghosting"),e.ambientShadow=t.prefs.get("ambientShadows"),e.antialiazing=t.prefs.get("antialiasing"),e.lightPreset=t.prefs.get("lightPreset"),t.model.getObjectTree((function(t){setTimeout((function(){e.galleryPanel.initModel(t,e),e.initModelBrowser()}),100)})),!0)},s.unload=function(){if(this.viewer.model)return this.showResultsDlg(!1),this.simButton.removeFromParent(),this.viewer.removePanel(this.galleryPanel),this.galleryPanel.uninitialize(),this.viewer.hideLines(!this.hideLines),this.viewer.setGhosting(this.ghosting),this.viewer.setQualityLevel(this.ambientShadow,this.antialiazing),this.viewer.setLightPreset(this.lightPreset),!0},s.initModelBrowser=function(){var e=this;setTimeout((function(){e.options=e.options||{},e.options.addFooter=!0,e.modelStructurePanel=new d(e,"Simulation Model Structure Loading",e.options),e.viewer.getExtension("Autodesk.ModelStructure").setModelStructurePanel(e.modelStructurePanel),e.modelStructurePanel.setGallery(e.galleryPanel)}),100)},s.showResultsDlg=function(e){this.simButton.setState(e?u.UI.Button.State.ACTIVE:u.UI.Button.State.INACTIVE),this.simButton.setVisible(e),this.galleryPanel.setVisible(e)},s.applySettings=function(){var e=this.viewer;e.hideLines(!1),e.setGhosting(!1),e.setQualityLevel(!1,!0),e.setLightPreset(4)},s.simData=function(){return this.galleryPanel.simDef},s.activate=function(e){return this.activeStatus||(e.setVisible(!0),this.activeStatus=!0),!0},s.deactivate=function(e){return this.activeStatus&&(e.setVisible(!1),this.activeStatus=!1),!0},i}();u.theExtensionManager.registerExtension("Autodesk.Fusion360.Simulation",c)}});
//# sourceMappingURL=FusionSim.min.js.map